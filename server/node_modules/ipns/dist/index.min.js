(function (root, factory) {(typeof module === 'object' && module.exports) ? module.exports = factory() : root.Ipns = factory()}(typeof self !== 'undefined' ? self : this, function () {
"use strict";var Ipns=(()=>{var Yf=Object.create;var Mn=Object.defineProperty;var Zf=Object.getOwnPropertyDescriptor;var Qf=Object.getOwnPropertyNames;var Xf=Object.getPrototypeOf,Jf=Object.prototype.hasOwnProperty;var z=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Ne=(e,t)=>{for(var r in t)Mn(e,r,{get:t[r],enumerable:!0})},Ka=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Qf(t))!Jf.call(e,i)&&i!==r&&Mn(e,i,{get:()=>t[i],enumerable:!(n=Zf(t,i))||n.enumerable});return e};var ge=(e,t,r)=>(r=e!=null?Yf(Xf(e)):{},Ka(t||!e||!e.__esModule?Mn(r,"default",{value:e,enumerable:!0}):r,e)),jf=e=>Ka(Mn({},"__esModule",{value:!0}),e);var ue=z((z1,Fa)=>{Fa.exports={options:{usePureJavaScript:!1}}});var Va=z((H1,Ma)=>{var Vi={};Ma.exports=Vi;var Oa={};Vi.encode=function(e,t,r){if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(e instanceof Uint8Array))n=el(e,t);else{var i=0,o=t.length,a=t.charAt(0),s=[0];for(i=0;i<e.length;++i){for(var c=0,u=e[i];c<s.length;++c)u+=s[c]<<8,s[c]=u%o,u=u/o|0;for(;u>0;)s.push(u%o),u=u/o|0}for(i=0;e[i]===0&&i<e.length-1;++i)n+=a;for(i=s.length-1;i>=0;--i)n+=t[s[i]]}if(r){var f=new RegExp(".{1,"+r+"}","g");n=n.match(f).join(`\r
`)}return n};Vi.decode=function(e,t){if(typeof e!="string")throw new TypeError('"input" must be a string.');if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');var r=Oa[t];if(!r){r=Oa[t]=[];for(var n=0;n<t.length;++n)r[t.charCodeAt(n)]=n}e=e.replace(/\s/g,"");for(var i=t.length,o=t.charAt(0),a=[0],n=0;n<e.length;n++){var s=r[e.charCodeAt(n)];if(s===void 0)return;for(var c=0,u=s;c<a.length;++c)u+=a[c]*i,a[c]=u&255,u>>=8;for(;u>0;)a.push(u&255),u>>=8}for(var f=0;e[f]===o&&f<e.length-1;++f)a.push(0);return typeof Buffer<"u"?Buffer.from(a.reverse()):new Uint8Array(a.reverse())};function el(e,t){var r=0,n=t.length,i=t.charAt(0),o=[0];for(r=0;r<e.length();++r){for(var a=0,s=e.at(r);a<o.length;++a)s+=o[a]<<8,o[a]=s%n,s=s/n|0;for(;s>0;)o.push(s%n),s=s/n|0}var c="";for(r=0;e.at(r)===0&&r<e.length()-1;++r)c+=i;for(r=o.length-1;r>=0;--r)c+=t[o[r]];return c}});var Be=z((G1,Ga)=>{var qa=ue(),za=Va(),g=Ga.exports=qa.util=qa.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){g.nextTick=process.nextTick,typeof setImmediate=="function"?g.setImmediate=setImmediate:g.setImmediate=g.nextTick;return}if(typeof setImmediate=="function"){g.setImmediate=function(){return setImmediate.apply(void 0,arguments)},g.nextTick=function(s){return setImmediate(s)};return}if(g.setImmediate=function(s){setTimeout(s,0)},typeof window<"u"&&typeof window.postMessage=="function"){let s=function(c){if(c.source===window&&c.data===e){c.stopPropagation();var u=t.slice();t.length=0,u.forEach(function(f){f()})}};var a=s,e="forge.setImmediate",t=[];g.setImmediate=function(c){t.push(c),t.length===1&&window.postMessage(e,"*")},window.addEventListener("message",s,!0)}if(typeof MutationObserver<"u"){var r=Date.now(),n=!0,i=document.createElement("div"),t=[];new MutationObserver(function(){var c=t.slice();t.length=0,c.forEach(function(u){u()})}).observe(i,{attributes:!0});var o=g.setImmediate;g.setImmediate=function(c){Date.now()-r>15?(r=Date.now(),o(c)):(t.push(c),t.length===1&&i.setAttribute("a",n=!n))}}g.nextTick=g.setImmediate})();g.isNodejs=typeof process<"u"&&process.versions&&process.versions.node;g.globalScope=function(){return g.isNodejs?globalThis:typeof self>"u"?window:self}();g.isArray=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};g.isArrayBuffer=function(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer};g.isArrayBufferView=function(e){return e&&g.isArrayBuffer(e.buffer)&&e.byteLength!==void 0};function un(e){if(!(e===8||e===16||e===24||e===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}g.ByteBuffer=qi;function qi(e){if(this.data="",this.read=0,typeof e=="string")this.data=e;else if(g.isArrayBuffer(e)||g.isArrayBufferView(e))if(typeof Buffer<"u"&&e instanceof Buffer)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch{for(var r=0;r<t.length;++r)this.putByte(t[r])}}else(e instanceof qi||typeof e=="object"&&typeof e.data=="string"&&typeof e.read=="number")&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}g.ByteStringBuffer=qi;var tl=4096;g.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>tl&&(this.data.substr(0,1),this._constructedStringLength=0)};g.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};g.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};g.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))};g.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return this.data=r,this._optimizeConstructedString(t),this};g.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this};g.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(g.encodeUtf8(e))};g.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};g.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};g.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};g.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255))};g.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))};g.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))};g.ByteStringBuffer.prototype.putInt=function(e,t){un(t);var r="";do t-=8,r+=String.fromCharCode(e>>t&255);while(t>0);return this.putBytes(r)};g.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)};g.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())};g.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};g.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e};g.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e};g.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e};g.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e};g.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e};g.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e};g.ByteStringBuffer.prototype.getInt=function(e){un(e);var t=0;do t=(t<<8)+this.data.charCodeAt(this.read++),e-=8;while(e>0);return t};g.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};g.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};g.ByteStringBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};g.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)};g.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this};g.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};g.ByteStringBuffer.prototype.copy=function(){var e=g.createBuffer(this.data);return e.read=this.read,e};g.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};g.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};g.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this};g.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e};g.ByteStringBuffer.prototype.toString=function(){return g.decodeUtf8(this.bytes())};function rl(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var r=g.isArrayBuffer(e),n=g.isArrayBufferView(e);if(r||n){r?this.data=new DataView(e):this.data=new DataView(e.buffer,e.byteOffset,e.byteLength),this.write="writeOffset"in t?t.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,e!=null&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)}g.DataBuffer=rl;g.DataBuffer.prototype.length=function(){return this.write-this.read};g.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};g.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+t);return n.set(r),this.data=new DataView(n.buffer),this};g.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this};g.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r)this.data.setUint8(e);return this};g.DataBuffer.prototype.putBytes=function(e,t){if(g.isArrayBufferView(e)){var r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var i=new Uint8Array(this.data.buffer,this.write);return i.set(r),this.write+=n,this}if(g.isArrayBuffer(e)){var r=new Uint8Array(e);this.accommodate(r.byteLength);var i=new Uint8Array(this.data.buffer);return i.set(r,this.write),this.write+=r.byteLength,this}if(e instanceof g.DataBuffer||typeof e=="object"&&typeof e.read=="number"&&typeof e.write=="number"&&g.isArrayBufferView(e.data)){var r=new Uint8Array(e.data.byteLength,e.read,e.length());this.accommodate(r.byteLength);var i=new Uint8Array(e.data.byteLength,this.write);return i.set(r),this.write+=r.byteLength,this}if(e instanceof g.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary",typeof e=="string"){var o;if(t==="hex")return this.accommodate(Math.ceil(e.length/2)),o=new Uint8Array(this.data.buffer,this.write),this.write+=g.binary.hex.decode(e,o,this.write),this;if(t==="base64")return this.accommodate(Math.ceil(e.length/4)*3),o=new Uint8Array(this.data.buffer,this.write),this.write+=g.binary.base64.decode(e,o,this.write),this;if(t==="utf8"&&(e=g.encodeUtf8(e),t="binary"),t==="binary"||t==="raw")return this.accommodate(e.length),o=new Uint8Array(this.data.buffer,this.write),this.write+=g.binary.raw.decode(o),this;if(t==="utf16")return this.accommodate(e.length*2),o=new Uint16Array(this.data.buffer,this.write),this.write+=g.text.utf16.encode(o),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)};g.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this};g.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")};g.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this};g.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this};g.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this};g.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this};g.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this};g.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this};g.DataBuffer.prototype.putInt=function(e,t){un(t),this.accommodate(t/8);do t-=8,this.data.setInt8(this.write++,e>>t&255);while(t>0);return this};g.DataBuffer.prototype.putSignedInt=function(e,t){return un(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)};g.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};g.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e};g.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e};g.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e};g.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e};g.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e};g.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e};g.DataBuffer.prototype.getInt=function(e){un(e);var t=0;do t=(t<<8)+this.data.getInt8(this.read++),e-=8;while(e>0);return t};g.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};g.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};g.DataBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};g.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)};g.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this};g.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};g.DataBuffer.prototype.copy=function(){return new g.DataBuffer(this)};g.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this};g.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};g.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this};g.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);r<16&&(e+="0"),e+=r.toString(16)}return e};g.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if(e=e||"utf8",e==="binary"||e==="raw")return g.binary.raw.encode(t);if(e==="hex")return g.binary.hex.encode(t);if(e==="base64")return g.binary.base64.encode(t);if(e==="utf8")return g.text.utf8.decode(t);if(e==="utf16")return g.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)};g.createBuffer=function(e,t){return t=t||"raw",e!==void 0&&t==="utf8"&&(e=g.encodeUtf8(e)),new g.ByteBuffer(e)};g.fillString=function(e,t){for(var r="";t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return r};g.xorBytes=function(e,t,r){for(var n="",i="",o="",a=0,s=0;r>0;--r,++a)i=e.charCodeAt(a)^t.charCodeAt(a),s>=10&&(n+=o,o="",s=0),o+=String.fromCharCode(i),++s;return n+=o,n};g.hexToBytes=function(e){var t="",r=0;for(e.length&!0&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t};g.bytesToHex=function(e){return g.createBuffer(e).toHex()};g.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255)};var Mt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Vt=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],Ha="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";g.encode64=function(e,t){for(var r="",n="",i,o,a,s=0;s<e.length;)i=e.charCodeAt(s++),o=e.charCodeAt(s++),a=e.charCodeAt(s++),r+=Mt.charAt(i>>2),r+=Mt.charAt((i&3)<<4|o>>4),isNaN(o)?r+="==":(r+=Mt.charAt((o&15)<<2|a>>6),r+=isNaN(a)?"=":Mt.charAt(a&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};g.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t="",r,n,i,o,a=0;a<e.length;)r=Vt[e.charCodeAt(a++)-43],n=Vt[e.charCodeAt(a++)-43],i=Vt[e.charCodeAt(a++)-43],o=Vt[e.charCodeAt(a++)-43],t+=String.fromCharCode(r<<2|n>>4),i!==64&&(t+=String.fromCharCode((n&15)<<4|i>>2),o!==64&&(t+=String.fromCharCode((i&3)<<6|o)));return t};g.encodeUtf8=function(e){return unescape(encodeURIComponent(e))};g.decodeUtf8=function(e){return decodeURIComponent(escape(e))};g.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:za.encode,decode:za.decode}};g.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)};g.binary.raw.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var i=r,o=0;o<e.length;++o)n[i++]=e.charCodeAt(o);return t?i-r:n};g.binary.hex.encode=g.bytesToHex;g.binary.hex.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/2))),r=r||0;var i=0,o=r;for(e.length&1&&(i=1,n[o++]=parseInt(e[0],16));i<e.length;i+=2)n[o++]=parseInt(e.substr(i,2),16);return t?o-r:n};g.binary.base64.encode=function(e,t){for(var r="",n="",i,o,a,s=0;s<e.byteLength;)i=e[s++],o=e[s++],a=e[s++],r+=Mt.charAt(i>>2),r+=Mt.charAt((i&3)<<4|o>>4),isNaN(o)?r+="==":(r+=Mt.charAt((o&15)<<2|a>>6),r+=isNaN(a)?"=":Mt.charAt(a&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};g.binary.base64.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/4)*3)),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var i,o,a,s,c=0,u=r;c<e.length;)i=Vt[e.charCodeAt(c++)-43],o=Vt[e.charCodeAt(c++)-43],a=Vt[e.charCodeAt(c++)-43],s=Vt[e.charCodeAt(c++)-43],n[u++]=i<<2|o>>4,a!==64&&(n[u++]=(o&15)<<4|a>>2,s!==64&&(n[u++]=(a&3)<<6|s));return t?u-r:n.subarray(0,u)};g.binary.base58.encode=function(e,t){return g.binary.baseN.encode(e,Ha,t)};g.binary.base58.decode=function(e,t){return g.binary.baseN.decode(e,Ha,t)};g.text={utf8:{},utf16:{}};g.text.utf8.encode=function(e,t,r){e=g.encodeUtf8(e);var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var i=r,o=0;o<e.length;++o)n[i++]=e.charCodeAt(o);return t?i-r:n};g.text.utf8.decode=function(e){return g.decodeUtf8(String.fromCharCode.apply(null,e))};g.text.utf16.encode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length*2));var i=new Uint16Array(n.buffer);r=r||0;for(var o=r,a=r,s=0;s<e.length;++s)i[a++]=e.charCodeAt(s),o+=2;return t?o-r:n};g.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))};g.deflate=function(e,t,r){if(t=g.decode64(e.deflate(g.encode64(t)).rval),r){var n=2,i=t.charCodeAt(1);i&32&&(n=6),t=t.substring(n,t.length-4)}return t};g.inflate=function(e,t,r){var n=e.inflate(g.encode64(t)).rval;return n===null?null:g.decode64(n)};var zi=function(e,t,r){if(!e)throw new Error("WebStorage not available.");var n;if(r===null?n=e.removeItem(t):(r=g.encode64(JSON.stringify(r)),n=e.setItem(t,r)),typeof n<"u"&&n.rval!==!0){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},Hi=function(e,t){if(!e)throw new Error("WebStorage not available.");var r=e.getItem(t);if(e.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(g.decode64(r))),r},nl=function(e,t,r,n){var i=Hi(e,t);i===null&&(i={}),i[r]=n,zi(e,t,i)},il=function(e,t,r){var n=Hi(e,t);return n!==null&&(n=r in n?n[r]:null),n},ol=function(e,t,r){var n=Hi(e,t);if(n!==null&&r in n){delete n[r];var i=!0;for(var o in n){i=!1;break}i&&(n=null),zi(e,t,n)}},al=function(e,t){zi(e,t,null)},Vn=function(e,t,r){var n=null;typeof r>"u"&&(r=["web","flash"]);var i,o=!1,a=null;for(var s in r){i=r[s];try{if(i==="flash"||i==="both"){if(t[0]===null)throw new Error("Flash local storage not available.");n=e.apply(this,t),o=i==="flash"}(i==="web"||i==="both")&&(t[0]=localStorage,n=e.apply(this,t),o=!0)}catch(c){a=c}if(o)break}if(!o)throw a;return n};g.setItem=function(e,t,r,n,i){Vn(nl,arguments,i)};g.getItem=function(e,t,r,n){return Vn(il,arguments,n)};g.removeItem=function(e,t,r,n){Vn(ol,arguments,n)};g.clearItems=function(e,t,r){Vn(al,arguments,r)};g.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0};g.format=function(e){for(var t=/%./g,r,n,i=0,o=[],a=0;r=t.exec(e);){n=e.substring(a,t.lastIndex-2),n.length>0&&o.push(n),a=t.lastIndex;var s=r[0][1];switch(s){case"s":case"o":i<arguments.length?o.push(arguments[i+++1]):o.push("<?>");break;case"%":o.push("%");break;default:o.push("<%"+s+"?>")}}return o.push(e.substring(a)),o.join("")};g.formatNumber=function(e,t,r,n){var i=e,o=isNaN(t=Math.abs(t))?2:t,a=r===void 0?",":r,s=n===void 0?".":n,c=i<0?"-":"",u=parseInt(i=Math.abs(+i||0).toFixed(o),10)+"",f=u.length>3?u.length%3:0;return c+(f?u.substr(0,f)+s:"")+u.substr(f).replace(/(\d{3})(?=\d)/g,"$1"+s)+(o?a+Math.abs(i-u).toFixed(o).slice(2):"")};g.formatSize=function(e){return e>=1073741824?e=g.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?e=g.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?e=g.formatNumber(e/1024,0)+" KiB":e=g.formatNumber(e,0)+" bytes",e};g.bytesFromIP=function(e){return e.indexOf(".")!==-1?g.bytesFromIPv4(e):e.indexOf(":")!==-1?g.bytesFromIPv6(e):null};g.bytesFromIPv4=function(e){if(e=e.split("."),e.length!==4)return null;for(var t=g.createBuffer(),r=0;r<e.length;++r){var n=parseInt(e[r],10);if(isNaN(n))return null;t.putByte(n)}return t.getBytes()};g.bytesFromIPv6=function(e){var t=0;e=e.split(":").filter(function(a){return a.length===0&&++t,!0});for(var r=(8-e.length+t)*2,n=g.createBuffer(),i=0;i<8;++i){if(!e[i]||e[i].length===0){n.fillWithByte(0,r),r=0;continue}var o=g.hexToBytes(e[i]);o.length<2&&n.putByte(0),n.putBytes(o)}return n.getBytes()};g.bytesToIP=function(e){return e.length===4?g.bytesToIPv4(e):e.length===16?g.bytesToIPv6(e):null};g.bytesToIPv4=function(e){if(e.length!==4)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")};g.bytesToIPv6=function(e){if(e.length!==16)return null;for(var t=[],r=[],n=0,i=0;i<e.length;i+=2){for(var o=g.bytesToHex(e[i]+e[i+1]);o[0]==="0"&&o!=="0";)o=o.substr(1);if(o==="0"){var a=r[r.length-1],s=t.length;!a||s!==a.end+1?r.push({start:s,end:s}):(a.end=s,a.end-a.start>r[n].end-r[n].start&&(n=r.length-1))}t.push(o)}if(r.length>0){var c=r[n];c.end-c.start>0&&(t.splice(c.start,c.end-c.start+1,""),c.start===0&&t.unshift(""),c.end===7&&t.push(""))}return t.join(":")};g.estimateCores=function(e,t){if(typeof e=="function"&&(t=e,e={}),e=e||{},"cores"in g&&!e.update)return t(null,g.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return g.cores=navigator.hardwareConcurrency,t(null,g.cores);if(typeof Worker>"u")return g.cores=1,t(null,g.cores);if(typeof Blob>"u")return g.cores=2,t(null,g.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(a){for(var s=Date.now(),c=s+4;Date.now()<c;);self.postMessage({st:s,et:c})})}.toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(a,s,c){if(s===0){var u=Math.floor(a.reduce(function(f,l){return f+l},0)/a.length);return g.cores=Math.max(1,u),URL.revokeObjectURL(r),t(null,g.cores)}i(c,function(f,l){a.push(o(c,l)),n(a,s-1,c)})}function i(a,s){for(var c=[],u=[],f=0;f<a;++f){var l=new Worker(r);l.addEventListener("message",function(h){if(u.push(h.data),u.length===a){for(var d=0;d<a;++d)c[d].terminate();s(null,u)}}),c.push(l)}for(var f=0;f<a;++f)c[f].postMessage(f)}function o(a,s){for(var c=[],u=0;u<a;++u)for(var f=s[u],l=c[u]=[],h=0;h<a;++h)if(u!==h){var d=s[h];(f.st>d.st&&f.st<d.et||d.st>f.st&&d.st<f.et)&&l.push(h)}return c.reduce(function(p,y){return Math.max(p,y.length)},0)}}});var qn=z(($1,$a)=>{var cn=ue();cn.pki=cn.pki||{};var Gi=$a.exports=cn.pki.oids=cn.oids=cn.oids||{};function A(e,t){Gi[e]=t,Gi[t]=e}function se(e,t){Gi[e]=t}A("1.2.840.113549.1.1.1","rsaEncryption");A("1.2.840.113549.1.1.4","md5WithRSAEncryption");A("1.2.840.113549.1.1.5","sha1WithRSAEncryption");A("1.2.840.113549.1.1.7","RSAES-OAEP");A("1.2.840.113549.1.1.8","mgf1");A("1.2.840.113549.1.1.9","pSpecified");A("1.2.840.113549.1.1.10","RSASSA-PSS");A("1.2.840.113549.1.1.11","sha256WithRSAEncryption");A("1.2.840.113549.1.1.12","sha384WithRSAEncryption");A("1.2.840.113549.1.1.13","sha512WithRSAEncryption");A("1.3.101.112","EdDSA25519");A("1.2.840.10040.4.3","dsa-with-sha1");A("1.3.14.3.2.7","desCBC");A("1.3.14.3.2.26","sha1");A("1.3.14.3.2.29","sha1WithRSASignature");A("2.16.840.1.101.3.4.2.1","sha256");A("2.16.840.1.101.3.4.2.2","sha384");A("2.16.840.1.101.3.4.2.3","sha512");A("2.16.840.1.101.3.4.2.4","sha224");A("2.16.840.1.101.3.4.2.5","sha512-224");A("2.16.840.1.101.3.4.2.6","sha512-256");A("1.2.840.113549.2.2","md2");A("1.2.840.113549.2.5","md5");A("1.2.840.113549.1.7.1","data");A("1.2.840.113549.1.7.2","signedData");A("1.2.840.113549.1.7.3","envelopedData");A("1.2.840.113549.1.7.4","signedAndEnvelopedData");A("1.2.840.113549.1.7.5","digestedData");A("1.2.840.113549.1.7.6","encryptedData");A("1.2.840.113549.1.9.1","emailAddress");A("1.2.840.113549.1.9.2","unstructuredName");A("1.2.840.113549.1.9.3","contentType");A("1.2.840.113549.1.9.4","messageDigest");A("1.2.840.113549.1.9.5","signingTime");A("1.2.840.113549.1.9.6","counterSignature");A("1.2.840.113549.1.9.7","challengePassword");A("1.2.840.113549.1.9.8","unstructuredAddress");A("1.2.840.113549.1.9.14","extensionRequest");A("1.2.840.113549.1.9.20","friendlyName");A("1.2.840.113549.1.9.21","localKeyId");A("1.2.840.113549.1.9.22.1","x509Certificate");A("1.2.840.113549.1.12.10.1.1","keyBag");A("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");A("1.2.840.113549.1.12.10.1.3","certBag");A("1.2.840.113549.1.12.10.1.4","crlBag");A("1.2.840.113549.1.12.10.1.5","secretBag");A("1.2.840.113549.1.12.10.1.6","safeContentsBag");A("1.2.840.113549.1.5.13","pkcs5PBES2");A("1.2.840.113549.1.5.12","pkcs5PBKDF2");A("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");A("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");A("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");A("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");A("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");A("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");A("1.2.840.113549.2.7","hmacWithSHA1");A("1.2.840.113549.2.8","hmacWithSHA224");A("1.2.840.113549.2.9","hmacWithSHA256");A("1.2.840.113549.2.10","hmacWithSHA384");A("1.2.840.113549.2.11","hmacWithSHA512");A("1.2.840.113549.3.7","des-EDE3-CBC");A("2.16.840.1.101.3.4.1.2","aes128-CBC");A("2.16.840.1.101.3.4.1.22","aes192-CBC");A("2.16.840.1.101.3.4.1.42","aes256-CBC");A("2.5.4.3","commonName");A("2.5.4.4","surname");A("2.5.4.5","serialNumber");A("2.5.4.6","countryName");A("2.5.4.7","localityName");A("2.5.4.8","stateOrProvinceName");A("2.5.4.9","streetAddress");A("2.5.4.10","organizationName");A("2.5.4.11","organizationalUnitName");A("2.5.4.12","title");A("2.5.4.13","description");A("2.5.4.15","businessCategory");A("2.5.4.17","postalCode");A("2.5.4.42","givenName");A("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");A("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");A("2.16.840.1.113730.1.1","nsCertType");A("2.16.840.1.113730.1.13","nsComment");se("2.5.29.1","authorityKeyIdentifier");se("2.5.29.2","keyAttributes");se("2.5.29.3","certificatePolicies");se("2.5.29.4","keyUsageRestriction");se("2.5.29.5","policyMapping");se("2.5.29.6","subtreesConstraint");se("2.5.29.7","subjectAltName");se("2.5.29.8","issuerAltName");se("2.5.29.9","subjectDirectoryAttributes");se("2.5.29.10","basicConstraints");se("2.5.29.11","nameConstraints");se("2.5.29.12","policyConstraints");se("2.5.29.13","basicConstraints");A("2.5.29.14","subjectKeyIdentifier");A("2.5.29.15","keyUsage");se("2.5.29.16","privateKeyUsagePeriod");A("2.5.29.17","subjectAltName");A("2.5.29.18","issuerAltName");A("2.5.29.19","basicConstraints");se("2.5.29.20","cRLNumber");se("2.5.29.21","cRLReason");se("2.5.29.22","expirationDate");se("2.5.29.23","instructionCode");se("2.5.29.24","invalidityDate");se("2.5.29.25","cRLDistributionPoints");se("2.5.29.26","issuingDistributionPoint");se("2.5.29.27","deltaCRLIndicator");se("2.5.29.28","issuingDistributionPoint");se("2.5.29.29","certificateIssuer");se("2.5.29.30","nameConstraints");A("2.5.29.31","cRLDistributionPoints");A("2.5.29.32","certificatePolicies");se("2.5.29.33","policyMappings");se("2.5.29.34","policyConstraints");A("2.5.29.35","authorityKeyIdentifier");se("2.5.29.36","policyConstraints");A("2.5.29.37","extKeyUsage");se("2.5.29.46","freshestCRL");se("2.5.29.54","inhibitAnyPolicy");A("1.3.6.1.4.1.11129.2.4.2","timestampList");A("1.3.6.1.5.5.7.1.1","authorityInfoAccess");A("1.3.6.1.5.5.7.3.1","serverAuth");A("1.3.6.1.5.5.7.3.2","clientAuth");A("1.3.6.1.5.5.7.3.3","codeSigning");A("1.3.6.1.5.5.7.3.4","emailProtection");A("1.3.6.1.5.5.7.3.8","timeStamping")});var ln=z((W1,Ya)=>{var he=ue();Be();qn();var k=Ya.exports=he.asn1=he.asn1||{};k.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};k.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};k.create=function(e,t,r,n,i){if(he.util.isArray(n)){for(var o=[],a=0;a<n.length;++a)n[a]!==void 0&&o.push(n[a]);n=o}var s={tagClass:e,type:t,constructed:r,composed:r||he.util.isArray(n),value:n};return i&&"bitStringContents"in i&&(s.bitStringContents=i.bitStringContents,s.original=k.copy(s)),s};k.copy=function(e,t){var r;if(he.util.isArray(e)){r=[];for(var n=0;n<e.length;++n)r.push(k.copy(e[n],t));return r}return typeof e=="string"?e:(r={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:k.copy(e.value,t)},t&&!t.excludeBitStringContents&&(r.bitStringContents=e.bitStringContents),r)};k.equals=function(e,t,r){if(he.util.isArray(e)){if(!he.util.isArray(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!k.equals(e[n],t[n]))return!1;return!0}if(typeof e!=typeof t)return!1;if(typeof e=="string")return e===t;var i=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&k.equals(e.value,t.value);return r&&r.includeBitStringContents&&(i=i&&e.bitStringContents===t.bitStringContents),i};k.getBerValueLength=function(e){var t=e.getByte();if(t!==128){var r,n=t&128;return n?r=e.getInt((t&127)<<3):r=t,r}};function fn(e,t,r){if(r>t){var n=new Error("Too few bytes to parse DER.");throw n.available=e.length(),n.remaining=t,n.requested=r,n}}var sl=function(e,t){var r=e.getByte();if(t--,r!==128){var n,i=r&128;if(!i)n=r;else{var o=r&127;fn(e,t,o),n=e.getInt(o<<3)}if(n<0)throw new Error("Negative length: "+n);return n}};k.fromDer=function(e,t){t===void 0&&(t={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof t=="boolean"&&(t={strict:t,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"parseAllBytes"in t||(t.parseAllBytes=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),typeof e=="string"&&(e=he.util.createBuffer(e));var r=e.length(),n=zn(e,e.length(),0,t);if(t.parseAllBytes&&e.length()!==0){var i=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw i.byteCount=r,i.remaining=e.length(),i}return n};function zn(e,t,r,n){var i;fn(e,t,2);var o=e.getByte();t--;var a=o&192,s=o&31;i=e.length();var c=sl(e,t);if(t-=i-e.length(),c!==void 0&&c>t){if(n.strict){var u=new Error("Too few bytes to read ASN.1 value.");throw u.available=e.length(),u.remaining=t,u.requested=c,u}c=t}var f,l,h=(o&32)===32;if(h)if(f=[],c===void 0)for(;;){if(fn(e,t,2),e.bytes(2)===String.fromCharCode(0,0)){e.getBytes(2),t-=2;break}i=e.length(),f.push(zn(e,t,r+1,n)),t-=i-e.length()}else for(;c>0;)i=e.length(),f.push(zn(e,c,r+1,n)),t-=i-e.length(),c-=i-e.length();if(f===void 0&&a===k.Class.UNIVERSAL&&s===k.Type.BITSTRING&&(l=e.bytes(c)),f===void 0&&n.decodeBitStrings&&a===k.Class.UNIVERSAL&&s===k.Type.BITSTRING&&c>1){var d=e.read,p=t,y=0;if(s===k.Type.BITSTRING&&(fn(e,t,1),y=e.getByte(),t--),y===0)try{i=e.length();var m={strict:!0,decodeBitStrings:!0},v=zn(e,t,r+1,m),E=i-e.length();t-=E,s==k.Type.BITSTRING&&E++;var C=v.tagClass;E===c&&(C===k.Class.UNIVERSAL||C===k.Class.CONTEXT_SPECIFIC)&&(f=[v])}catch{}f===void 0&&(e.read=d,t=p)}if(f===void 0){if(c===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");c=t}if(s===k.Type.BMPSTRING)for(f="";c>0;c-=2)fn(e,t,2),f+=String.fromCharCode(e.getInt16()),t-=2;else f=e.getBytes(c),t-=c}var L=l===void 0?null:{bitStringContents:l};return k.create(a,s,h,f,L)}k.toDer=function(e){var t=he.util.createBuffer(),r=e.tagClass|e.type,n=he.util.createBuffer(),i=!1;if("bitStringContents"in e&&(i=!0,e.original&&(i=k.equals(e,e.original))),i)n.putBytes(e.bitStringContents);else if(e.composed){e.constructed?r|=32:n.putByte(0);for(var o=0;o<e.value.length;++o)e.value[o]!==void 0&&n.putBuffer(k.toDer(e.value[o]))}else if(e.type===k.Type.BMPSTRING)for(var o=0;o<e.value.length;++o)n.putInt16(e.value.charCodeAt(o));else e.type===k.Type.INTEGER&&e.value.length>1&&(e.value.charCodeAt(0)===0&&!(e.value.charCodeAt(1)&128)||e.value.charCodeAt(0)===255&&(e.value.charCodeAt(1)&128)===128)?n.putBytes(e.value.substr(1)):n.putBytes(e.value);if(t.putByte(r),n.length()<=127)t.putByte(n.length()&127);else{var a=n.length(),s="";do s+=String.fromCharCode(a&255),a=a>>>8;while(a>0);t.putByte(s.length|128);for(var o=s.length-1;o>=0;--o)t.putByte(s.charCodeAt(o))}return t.putBuffer(n),t};k.oidToDer=function(e){var t=e.split("."),r=he.util.createBuffer();r.putByte(40*parseInt(t[0],10)+parseInt(t[1],10));for(var n,i,o,a,s=2;s<t.length;++s){n=!0,i=[],o=parseInt(t[s],10);do a=o&127,o=o>>>7,n||(a|=128),i.push(a),n=!1;while(o>0);for(var c=i.length-1;c>=0;--c)r.putByte(i[c])}return r};k.derToOid=function(e){var t;typeof e=="string"&&(e=he.util.createBuffer(e));var r=e.getByte();t=Math.floor(r/40)+"."+r%40;for(var n=0;e.length()>0;)r=e.getByte(),n=n<<7,r&128?n+=r&127:(t+="."+(n+r),n=0);return t};k.utcTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(e.substr(2,2),10)-1,i=parseInt(e.substr(4,2),10),o=parseInt(e.substr(6,2),10),a=parseInt(e.substr(8,2),10),s=0;if(e.length>11){var c=e.charAt(10),u=10;c!=="+"&&c!=="-"&&(s=parseInt(e.substr(10,2),10),u+=2)}if(t.setUTCFullYear(r,n,i),t.setUTCHours(o,a,s,0),u&&(c=e.charAt(u),c==="+"||c==="-")){var f=parseInt(e.substr(u+1,2),10),l=parseInt(e.substr(u+4,2),10),h=f*60+l;h*=6e4,c==="+"?t.setTime(+t-h):t.setTime(+t+h)}return t};k.generalizedTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,4),10),n=parseInt(e.substr(4,2),10)-1,i=parseInt(e.substr(6,2),10),o=parseInt(e.substr(8,2),10),a=parseInt(e.substr(10,2),10),s=parseInt(e.substr(12,2),10),c=0,u=0,f=!1;e.charAt(e.length-1)==="Z"&&(f=!0);var l=e.length-5,h=e.charAt(l);if(h==="+"||h==="-"){var d=parseInt(e.substr(l+1,2),10),p=parseInt(e.substr(l+4,2),10);u=d*60+p,u*=6e4,h==="+"&&(u*=-1),f=!0}return e.charAt(14)==="."&&(c=parseFloat(e.substr(14),10)*1e3),f?(t.setUTCFullYear(r,n,i),t.setUTCHours(o,a,s,c),t.setTime(+t+u)):(t.setFullYear(r,n,i),t.setHours(o,a,s,c)),t};k.dateToUtcTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push((""+e.getUTCFullYear()).substr(2)),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};k.dateToGeneralizedTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push(""+e.getUTCFullYear()),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};k.integerToDer=function(e){var t=he.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=e,r};k.derToInteger=function(e){typeof e=="string"&&(e=he.util.createBuffer(e));var t=e.length()*8;if(t>32)throw new Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)};k.validate=function(e,t,r,n){var i=!1;if((e.tagClass===t.tagClass||typeof t.tagClass>"u")&&(e.type===t.type||typeof t.type>"u"))if(e.constructed===t.constructed||typeof t.constructed>"u"){if(i=!0,t.value&&he.util.isArray(t.value))for(var o=0,a=0;i&&a<t.value.length;++a)i=t.value[a].optional||!1,e.value[o]&&(i=k.validate(e.value[o],t.value[a],r,n),i?++o:t.value[a].optional&&(i=!0)),!i&&n&&n.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');if(i&&r&&(t.capture&&(r[t.capture]=e.value),t.captureAsn1&&(r[t.captureAsn1]=e),t.captureBitStringContents&&"bitStringContents"in e&&(r[t.captureBitStringContents]=e.bitStringContents),t.captureBitStringValue&&"bitStringContents"in e)){var s;if(e.bitStringContents.length<2)r[t.captureBitStringValue]="";else{var c=e.bitStringContents.charCodeAt(0);if(c!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[t.captureBitStringValue]=e.bitStringContents.slice(1)}}}else n&&n.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');else n&&(e.tagClass!==t.tagClass&&n.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&n.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));return i};var Wa=/[^\\u0000-\\u00ff]/;k.prettyPrint=function(e,t,r){var n="";t=t||0,r=r||2,t>0&&(n+=`
`);for(var i="",o=0;o<t*r;++o)i+=" ";switch(n+=i+"Tag: ",e.tagClass){case k.Class.UNIVERSAL:n+="Universal:";break;case k.Class.APPLICATION:n+="Application:";break;case k.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case k.Class.PRIVATE:n+="Private:";break}if(e.tagClass===k.Class.UNIVERSAL)switch(n+=e.type,e.type){case k.Type.NONE:n+=" (None)";break;case k.Type.BOOLEAN:n+=" (Boolean)";break;case k.Type.INTEGER:n+=" (Integer)";break;case k.Type.BITSTRING:n+=" (Bit string)";break;case k.Type.OCTETSTRING:n+=" (Octet string)";break;case k.Type.NULL:n+=" (Null)";break;case k.Type.OID:n+=" (Object Identifier)";break;case k.Type.ODESC:n+=" (Object Descriptor)";break;case k.Type.EXTERNAL:n+=" (External or Instance of)";break;case k.Type.REAL:n+=" (Real)";break;case k.Type.ENUMERATED:n+=" (Enumerated)";break;case k.Type.EMBEDDED:n+=" (Embedded PDV)";break;case k.Type.UTF8:n+=" (UTF8)";break;case k.Type.ROID:n+=" (Relative Object Identifier)";break;case k.Type.SEQUENCE:n+=" (Sequence)";break;case k.Type.SET:n+=" (Set)";break;case k.Type.PRINTABLESTRING:n+=" (Printable String)";break;case k.Type.IA5String:n+=" (IA5String (ASCII))";break;case k.Type.UTCTIME:n+=" (UTC time)";break;case k.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case k.Type.BMPSTRING:n+=" (BMP String)";break}else n+=e.type;if(n+=`
`,n+=i+"Constructed: "+e.constructed+`
`,e.composed){for(var a=0,s="",o=0;o<e.value.length;++o)e.value[o]!==void 0&&(a+=1,s+=k.prettyPrint(e.value[o],t+1,r),o+1<e.value.length&&(s+=","));n+=i+"Sub values: "+a+s}else{if(n+=i+"Value: ",e.type===k.Type.OID){var c=k.derToOid(e.value);n+=c,he.pki&&he.pki.oids&&c in he.pki.oids&&(n+=" ("+he.pki.oids[c]+") ")}if(e.type===k.Type.INTEGER)try{n+=k.derToInteger(e.value)}catch{n+="0x"+he.util.bytesToHex(e.value)}else if(e.type===k.Type.BITSTRING){if(e.value.length>1?n+="0x"+he.util.bytesToHex(e.value.slice(1)):n+="(none)",e.value.length>0){var u=e.value.charCodeAt(0);u==1?n+=" (1 unused bit shown)":u>1&&(n+=" ("+u+" unused bits shown)")}}else if(e.type===k.Type.OCTETSTRING)Wa.test(e.value)||(n+="("+e.value+") "),n+="0x"+he.util.bytesToHex(e.value);else if(e.type===k.Type.UTF8)try{n+=he.util.decodeUtf8(e.value)}catch(f){if(f.message==="URI malformed")n+="0x"+he.util.bytesToHex(e.value)+" (malformed UTF8)";else throw f}else e.type===k.Type.PRINTABLESTRING||e.type===k.Type.IA5String?n+=e.value:Wa.test(e.value)?n+="0x"+he.util.bytesToHex(e.value):e.value.length===0?n+="[null]":n+=e.value}return n}});var Wi=z((Y1,Za)=>{var Ce=ue();Be();Za.exports=Ce.cipher=Ce.cipher||{};Ce.cipher.algorithms=Ce.cipher.algorithms||{};Ce.cipher.createCipher=function(e,t){var r=e;if(typeof r=="string"&&(r=Ce.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new Ce.cipher.BlockCipher({algorithm:r,key:t,decrypt:!1})};Ce.cipher.createDecipher=function(e,t){var r=e;if(typeof r=="string"&&(r=Ce.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new Ce.cipher.BlockCipher({algorithm:r,key:t,decrypt:!0})};Ce.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),Ce.cipher.algorithms[e]=t};Ce.cipher.getAlgorithm=function(e){return e=e.toUpperCase(),e in Ce.cipher.algorithms?Ce.cipher.algorithms[e]:null};var $i=Ce.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};$i.prototype.start=function(e){e=e||{};var t={};for(var r in e)t[r]=e[r];t.decrypt=this._decrypt,this._finish=!1,this._input=Ce.util.createBuffer(),this.output=e.output||Ce.util.createBuffer(),this.mode.start(t)};$i.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};$i.prototype.finish=function(e){e&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return e(this.blockSize,r,!1)},this.mode.unpad=function(r){return e(this.blockSize,r,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,t))}});var Zi=z((Z1,Qa)=>{var Te=ue();Be();Te.cipher=Te.cipher||{};var Z=Qa.exports=Te.cipher.modes=Te.cipher.modes||{};Z.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};Z.ecb.prototype.start=function(e){};Z.ecb.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};Z.ecb.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};Z.ecb.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};Z.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};Z.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};Z.cbc.prototype.start=function(e){if(e.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in e)this._iv=Hn(e.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};Z.cbc.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n]);this._prev=this._outBlock};Z.cbc.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};Z.cbc.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};Z.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};Z.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=Te.util.createBuffer(),this._partialBytes=0};Z.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=Hn(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Z.cfb.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32()^this._outBlock[i],t.putInt32(this._inBlock[i]);return}var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(o>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Z.cfb.prototype.decrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32(),t.putInt32(this._inBlock[i]^this._outBlock[i]);return}var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(o>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Z.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Te.util.createBuffer(),this._partialBytes=0};Z.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=Hn(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Z.ofb.prototype.encrypt=function(e,t,r){var n=e.length();if(e.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];return}var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(o>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Z.ofb.prototype.decrypt=Z.ofb.prototype.encrypt;Z.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Te.util.createBuffer(),this._partialBytes=0};Z.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=Hn(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Z.ctr.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]);else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(o>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}Gn(this._inBlock)};Z.ctr.prototype.decrypt=Z.ctr.prototype.encrypt;Z.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=Te.util.createBuffer(),this._partialBytes=0,this._R=3774873600};Z.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t=Te.util.createBuffer(e.iv);this._cipherLength=0;var r;if("additionalData"in e?r=Te.util.createBuffer(e.additionalData):r=Te.util.createBuffer(),"tagLength"in e?this._tagLength=e.tagLength:this._tagLength=128,this._tag=null,e.decrypt&&(this._tag=Te.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=t.length();if(n===12)this._j0=[t.getInt32(),t.getInt32(),t.getInt32(),1];else{for(this._j0=[0,0,0,0];t.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(Yi(n*8)))}this._inBlock=this._j0.slice(0),Gn(this._inBlock),this._partialBytes=0,r=Te.util.createBuffer(r),this._aDataLength=Yi(r.length()*8);var i=r.length()%this.blockSize;for(i&&r.fillWithByte(0,this.blockSize-i),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};Z.gcm.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^=e.getInt32());this._cipherLength+=this.blockSize}else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(o<=0||r){if(r){var a=n%this.blockSize;this._cipherLength+=a,this._partialOutput.truncate(this.blockSize-a)}else this._cipherLength+=this.blockSize;for(var i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),Gn(this._inBlock)};Z.gcm.prototype.decrypt=function(e,t,r){var n=e.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),Gn(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};Z.gcm.prototype.afterFinish=function(e,t){var r=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=Te.util.createBuffer();var n=this._aDataLength.concat(Yi(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var i=[];this.cipher.encrypt(this._j0,i);for(var o=0;o<this._ints;++o)this.tag.putInt32(this._s[o]^i[o]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};Z.gcm.prototype.multiply=function(e,t){for(var r=[0,0,0,0],n=t.slice(0),i=0;i<128;++i){var o=e[i/32|0]&1<<31-i%32;o&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};Z.gcm.prototype.pow=function(e,t){for(var r=e[3]&1,n=3;n>0;--n)t[n]=e[n]>>>1|(e[n-1]&1)<<31;t[0]=e[0]>>>1,r&&(t[0]^=this._R)};Z.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,i=e[n]>>>(7-r%8)*4&15,o=this._m[r][i];t[0]^=o[0],t[1]^=o[1],t[2]^=o[2],t[3]^=o[3]}return t};Z.gcm.prototype.ghash=function(e,t,r){return t[0]^=r[0],t[1]^=r[1],t[2]^=r[2],t[3]^=r[3],this.tableMultiply(t)};Z.gcm.prototype.generateHashTable=function(e,t){for(var r=8/t,n=4*r,i=16*r,o=new Array(i),a=0;a<i;++a){var s=[0,0,0,0],c=a/n|0,u=(n-1-a%n)*t;s[c]=1<<t-1<<u,o[a]=this.generateSubHashTable(this.multiply(s,e),t)}return o};Z.gcm.prototype.generateSubHashTable=function(e,t){var r=1<<t,n=r>>>1,i=new Array(r);i[n]=e.slice(0);for(var o=n>>>1;o>0;)this.pow(i[2*o],i[o]=[]),o>>=1;for(o=2;o<n;){for(var a=1;a<o;++a){var s=i[o],c=i[a];i[o+a]=[s[0]^c[0],s[1]^c[1],s[2]^c[2],s[3]^c[3]]}o*=2}for(i[0]=[0,0,0,0],o=n+1;o<r;++o){var u=i[o^n];i[o]=[e[0]^u[0],e[1]^u[1],e[2]^u[2],e[3]^u[3]]}return i};function Hn(e,t){if(typeof e=="string"&&(e=Te.util.createBuffer(e)),Te.util.isArray(e)&&e.length>4){var r=e;e=Te.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(e.length()<t)throw new Error("Invalid IV length; got "+e.length()+" bytes and expected "+t+" bytes.");if(!Te.util.isArray(e)){for(var i=[],o=t/4,n=0;n<o;++n)i.push(e.getInt32());e=i}return e}function Gn(e){e[e.length-1]=e[e.length-1]+1&4294967295}function Yi(e){return[e/4294967296|0,e&4294967295]}});var ji=z((Q1,es)=>{var fe=ue();Wi();Zi();Be();es.exports=fe.aes=fe.aes||{};fe.aes.startEncrypting=function(e,t,r,n){var i=$n({key:e,output:r,decrypt:!1,mode:n});return i.start(t),i};fe.aes.createEncryptionCipher=function(e,t){return $n({key:e,output:null,decrypt:!1,mode:t})};fe.aes.startDecrypting=function(e,t,r,n){var i=$n({key:e,output:r,decrypt:!0,mode:n});return i.start(t),i};fe.aes.createDecryptionCipher=function(e,t){return $n({key:e,output:null,decrypt:!0,mode:t})};fe.aes.Algorithm=function(e,t){Ji||Ja();var r=this;r.name=e,r.mode=new t({blockSize:16,cipher:{encrypt:function(n,i){return Xi(r._w,n,i,!1)},decrypt:function(n,i){return Xi(r._w,n,i,!0)}}}),r._init=!1};fe.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var t=e.key,r;if(typeof t=="string"&&(t.length===16||t.length===24||t.length===32))t=fe.util.createBuffer(t);else if(fe.util.isArray(t)&&(t.length===16||t.length===24||t.length===32)){r=t,t=fe.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(!fe.util.isArray(t)){r=t,t=[];var i=r.length();if(i===16||i===24||i===32){i=i>>>2;for(var n=0;n<i;++n)t.push(r.getInt32())}}if(!fe.util.isArray(t)||!(t.length===4||t.length===6||t.length===8))throw new Error("Invalid key parameter.");var o=this.mode.name,a=["CFB","OFB","CTR","GCM"].indexOf(o)!==-1;this._w=ja(t,e.decrypt&&!a),this._init=!0}};fe.aes._expandKey=function(e,t){return Ji||Ja(),ja(e,t)};fe.aes._updateBlock=Xi;Sr("AES-ECB",fe.cipher.modes.ecb);Sr("AES-CBC",fe.cipher.modes.cbc);Sr("AES-CFB",fe.cipher.modes.cfb);Sr("AES-OFB",fe.cipher.modes.ofb);Sr("AES-CTR",fe.cipher.modes.ctr);Sr("AES-GCM",fe.cipher.modes.gcm);function Sr(e,t){var r=function(){return new fe.aes.Algorithm(e,t)};fe.cipher.registerAlgorithm(e,r)}var Ji=!1,Er=4,Ke,Qi,Xa,ir,ot;function Ja(){Ji=!0,Xa=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;Ke=new Array(256),Qi=new Array(256),ir=new Array(4),ot=new Array(4);for(var t=0;t<4;++t)ir[t]=new Array(256),ot[t]=new Array(256);for(var r=0,n=0,i,o,a,s,c,u,f,t=0;t<256;++t){s=n^n<<1^n<<2^n<<3^n<<4,s=s>>8^s&255^99,Ke[r]=s,Qi[s]=r,c=e[s],i=e[r],o=e[i],a=e[o],u=c<<24^s<<16^s<<8^(s^c),f=(i^o^a)<<24^(r^a)<<16^(r^o^a)<<8^(r^i^a);for(var l=0;l<4;++l)ir[l][r]=u,ot[l][s]=f,u=u<<24|u>>>8,f=f<<24|f>>>8;r===0?r=n=1:(r=i^e[e[e[i^a]]],n^=e[e[n]])}}function ja(e,t){for(var r=e.slice(0),n,i=1,o=r.length,a=o+6+1,s=Er*a,c=o;c<s;++c)n=r[c-1],c%o===0?(n=Ke[n>>>16&255]<<24^Ke[n>>>8&255]<<16^Ke[n&255]<<8^Ke[n>>>24]^Xa[i]<<24,i++):o>6&&c%o===4&&(n=Ke[n>>>24]<<24^Ke[n>>>16&255]<<16^Ke[n>>>8&255]<<8^Ke[n&255]),r[c]=r[c-o]^n;if(t){var u,f=ot[0],l=ot[1],h=ot[2],d=ot[3],p=r.slice(0);s=r.length;for(var c=0,y=s-Er;c<s;c+=Er,y-=Er)if(c===0||c===s-Er)p[c]=r[y],p[c+1]=r[y+3],p[c+2]=r[y+2],p[c+3]=r[y+1];else for(var m=0;m<Er;++m)u=r[y+m],p[c+(3&-m)]=f[Ke[u>>>24]]^l[Ke[u>>>16&255]]^h[Ke[u>>>8&255]]^d[Ke[u&255]];r=p}return r}function Xi(e,t,r,n){var i=e.length/4-1,o,a,s,c,u;n?(o=ot[0],a=ot[1],s=ot[2],c=ot[3],u=Qi):(o=ir[0],a=ir[1],s=ir[2],c=ir[3],u=Ke);var f,l,h,d,p,y,m;f=t[0]^e[0],l=t[n?3:1]^e[1],h=t[2]^e[2],d=t[n?1:3]^e[3];for(var v=3,E=1;E<i;++E)p=o[f>>>24]^a[l>>>16&255]^s[h>>>8&255]^c[d&255]^e[++v],y=o[l>>>24]^a[h>>>16&255]^s[d>>>8&255]^c[f&255]^e[++v],m=o[h>>>24]^a[d>>>16&255]^s[f>>>8&255]^c[l&255]^e[++v],d=o[d>>>24]^a[f>>>16&255]^s[l>>>8&255]^c[h&255]^e[++v],f=p,l=y,h=m;r[0]=u[f>>>24]<<24^u[l>>>16&255]<<16^u[h>>>8&255]<<8^u[d&255]^e[++v],r[n?3:1]=u[l>>>24]<<24^u[h>>>16&255]<<16^u[d>>>8&255]<<8^u[f&255]^e[++v],r[2]=u[h>>>24]<<24^u[d>>>16&255]<<16^u[f>>>8&255]<<8^u[l&255]^e[++v],r[n?1:3]=u[d>>>24]<<24^u[f>>>16&255]<<16^u[l>>>8&255]<<8^u[h&255]^e[++v]}function $n(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="AES-"+t,n;e.decrypt?n=fe.cipher.createDecipher(r,e.key):n=fe.cipher.createCipher(r,e.key);var i=n.start;return n.start=function(o,a){var s=null;a instanceof fe.util.ByteBuffer&&(s=a,a={}),a=a||{},a.output=s,a.iv=o,i.call(n,a)},n}});var ns=z((X1,rs)=>{var me=ue();Wi();Zi();Be();rs.exports=me.des=me.des||{};me.des.startEncrypting=function(e,t,r,n){var i=Wn({key:e,output:r,decrypt:!1,mode:n||(t===null?"ECB":"CBC")});return i.start(t),i};me.des.createEncryptionCipher=function(e,t){return Wn({key:e,output:null,decrypt:!1,mode:t})};me.des.startDecrypting=function(e,t,r,n){var i=Wn({key:e,output:r,decrypt:!0,mode:n||(t===null?"ECB":"CBC")});return i.start(t),i};me.des.createDecryptionCipher=function(e,t){return Wn({key:e,output:null,decrypt:!0,mode:t})};me.des.Algorithm=function(e,t){var r=this;r.name=e,r.mode=new t({blockSize:8,cipher:{encrypt:function(n,i){return ts(r._keys,n,i,!1)},decrypt:function(n,i){return ts(r._keys,n,i,!0)}}}),r._init=!1};me.des.Algorithm.prototype.initialize=function(e){if(!this._init){var t=me.util.createBuffer(e.key);if(this.name.indexOf("3DES")===0&&t.length()!==24)throw new Error("Invalid Triple-DES key size: "+t.length()*8);this._keys=gl(t),this._init=!0}};yt("DES-ECB",me.cipher.modes.ecb);yt("DES-CBC",me.cipher.modes.cbc);yt("DES-CFB",me.cipher.modes.cfb);yt("DES-OFB",me.cipher.modes.ofb);yt("DES-CTR",me.cipher.modes.ctr);yt("3DES-ECB",me.cipher.modes.ecb);yt("3DES-CBC",me.cipher.modes.cbc);yt("3DES-CFB",me.cipher.modes.cfb);yt("3DES-OFB",me.cipher.modes.ofb);yt("3DES-CTR",me.cipher.modes.ctr);function yt(e,t){var r=function(){return new me.des.Algorithm(e,t)};me.cipher.registerAlgorithm(e,r)}var ul=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],cl=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],fl=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],ll=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],hl=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],pl=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],dl=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],yl=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function gl(e){for(var t=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],o=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],a=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],s=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],u=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],f=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],l=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],h=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],d=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],p=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],y=e.length()>8?3:1,m=[],v=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],E=0,C,L=0;L<y;L++){var _=e.getInt32(),I=e.getInt32();C=(_>>>4^I)&252645135,I^=C,_^=C<<4,C=(I>>>-16^_)&65535,_^=C,I^=C<<-16,C=(_>>>2^I)&858993459,I^=C,_^=C<<2,C=(I>>>-16^_)&65535,_^=C,I^=C<<-16,C=(_>>>1^I)&1431655765,I^=C,_^=C<<1,C=(I>>>8^_)&16711935,_^=C,I^=C<<8,C=(_>>>1^I)&1431655765,I^=C,_^=C<<1,C=_<<8|I>>>20&240,_=I<<24|I<<8&16711680|I>>>8&65280|I>>>24&240,I=C;for(var G=0;G<v.length;++G){v[G]?(_=_<<2|_>>>26,I=I<<2|I>>>26):(_=_<<1|_>>>27,I=I<<1|I>>>27),_&=-15,I&=-15;var T=t[_>>>28]|r[_>>>24&15]|n[_>>>20&15]|i[_>>>16&15]|o[_>>>12&15]|a[_>>>8&15]|s[_>>>4&15],K=c[I>>>28]|u[I>>>24&15]|f[I>>>20&15]|l[I>>>16&15]|h[I>>>12&15]|d[I>>>8&15]|p[I>>>4&15];C=(K>>>16^T)&65535,m[E++]=T^C,m[E++]=K^C<<16}}return m}function ts(e,t,r,n){var i=e.length===32?3:9,o;i===3?o=n?[30,-2,-2]:[0,32,2]:o=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var a,s=t[0],c=t[1];a=(s>>>4^c)&252645135,c^=a,s^=a<<4,a=(s>>>16^c)&65535,c^=a,s^=a<<16,a=(c>>>2^s)&858993459,s^=a,c^=a<<2,a=(c>>>8^s)&16711935,s^=a,c^=a<<8,a=(s>>>1^c)&1431655765,c^=a,s^=a<<1,s=s<<1|s>>>31,c=c<<1|c>>>31;for(var u=0;u<i;u+=3){for(var f=o[u+1],l=o[u+2],h=o[u];h!=f;h+=l){var d=c^e[h],p=(c>>>4|c<<28)^e[h+1];a=s,s=c,c=a^(cl[d>>>24&63]|ll[d>>>16&63]|pl[d>>>8&63]|yl[d&63]|ul[p>>>24&63]|fl[p>>>16&63]|hl[p>>>8&63]|dl[p&63])}a=s,s=c,c=a}s=s>>>1|s<<31,c=c>>>1|c<<31,a=(s>>>1^c)&1431655765,c^=a,s^=a<<1,a=(c>>>8^s)&16711935,s^=a,c^=a<<8,a=(c>>>2^s)&858993459,s^=a,c^=a<<2,a=(s>>>16^c)&65535,c^=a,s^=a<<16,a=(s>>>4^c)&252645135,c^=a,s^=a<<4,r[0]=s,r[1]=c}function Wn(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="DES-"+t,n;e.decrypt?n=me.cipher.createDecipher(r,e.key):n=me.cipher.createCipher(r,e.key);var i=n.start;return n.start=function(o,a){var s=null;a instanceof me.util.ByteBuffer&&(s=a,a={}),a=a||{},a.output=s,a.iv=o,i.call(n,a)},n}});var or=z((J1,is)=>{var Yn=ue();is.exports=Yn.md=Yn.md||{};Yn.md.algorithms=Yn.md.algorithms||{}});var as=z((j1,os)=>{var Nt=ue();or();Be();var ml=os.exports=Nt.hmac=Nt.hmac||{};ml.create=function(){var e=null,t=null,r=null,n=null,i={};return i.start=function(o,a){if(o!==null)if(typeof o=="string")if(o=o.toLowerCase(),o in Nt.md.algorithms)t=Nt.md.algorithms[o].create();else throw new Error('Unknown hash algorithm "'+o+'"');else t=o;if(a===null)a=e;else{if(typeof a=="string")a=Nt.util.createBuffer(a);else if(Nt.util.isArray(a)){var s=a;a=Nt.util.createBuffer();for(var c=0;c<s.length;++c)a.putByte(s[c])}var u=a.length();u>t.blockLength&&(t.start(),t.update(a.bytes()),a=t.digest()),r=Nt.util.createBuffer(),n=Nt.util.createBuffer(),u=a.length();for(var c=0;c<u;++c){var s=a.at(c);r.putByte(54^s),n.putByte(92^s)}if(u<t.blockLength)for(var s=t.blockLength-u,c=0;c<s;++c)r.putByte(54),n.putByte(92);e=a,r=r.bytes(),n=n.bytes()}t.start(),t.update(r)},i.update=function(o){t.update(o)},i.getMac=function(){var o=t.digest().bytes();return t.start(),t.update(n),t.update(o),t.digest()},i.digest=i.getMac,i}});var Br=z(()=>{});var us=z((r2,ss)=>{var Fe=ue();as();or();Be();var xl=Fe.pkcs5=Fe.pkcs5||{},Dt;Fe.util.isNodejs&&!Fe.options.usePureJavaScript&&(Dt=Br());ss.exports=Fe.pbkdf2=xl.pbkdf2=function(e,t,r,n,i,o){if(typeof i=="function"&&(o=i,i=null),Fe.util.isNodejs&&!Fe.options.usePureJavaScript&&Dt.pbkdf2&&(i===null||typeof i!="object")&&(Dt.pbkdf2Sync.length>4||!i||i==="sha1"))return typeof i!="string"&&(i="sha1"),e=Buffer.from(e,"binary"),t=Buffer.from(t,"binary"),o?Dt.pbkdf2Sync.length===4?Dt.pbkdf2(e,t,r,n,function(C,L){if(C)return o(C);o(null,L.toString("binary"))}):Dt.pbkdf2(e,t,r,n,i,function(C,L){if(C)return o(C);o(null,L.toString("binary"))}):Dt.pbkdf2Sync.length===4?Dt.pbkdf2Sync(e,t,r,n).toString("binary"):Dt.pbkdf2Sync(e,t,r,n,i).toString("binary");if((typeof i>"u"||i===null)&&(i="sha1"),typeof i=="string"){if(!(i in Fe.md.algorithms))throw new Error("Unknown hash algorithm: "+i);i=Fe.md[i].create()}var a=i.digestLength;if(n>4294967295*a){var s=new Error("Derived key is too long.");if(o)return o(s);throw s}var c=Math.ceil(n/a),u=n-(c-1)*a,f=Fe.hmac.create();f.start(i,e);var l="",h,d,p;if(!o){for(var y=1;y<=c;++y){f.start(null,null),f.update(t),f.update(Fe.util.int32ToBytes(y)),h=p=f.digest().getBytes();for(var m=2;m<=r;++m)f.start(null,null),f.update(p),d=f.digest().getBytes(),h=Fe.util.xorBytes(h,d,a),p=d;l+=y<c?h:h.substr(0,u)}return l}var y=1,m;function v(){if(y>c)return o(null,l);f.start(null,null),f.update(t),f.update(Fe.util.int32ToBytes(y)),h=p=f.digest().getBytes(),m=2,E()}function E(){if(m<=r)return f.start(null,null),f.update(p),d=f.digest().getBytes(),h=Fe.util.xorBytes(h,d,a),p=d,++m,Fe.util.setImmediate(E);l+=y<c?h:h.substr(0,u),++y,v()}v()}});var ls=z((n2,fs)=>{var Qn=ue();Be();var cs=fs.exports=Qn.pem=Qn.pem||{};cs.encode=function(e,t){t=t||{};var r="-----BEGIN "+e.type+`-----\r
`,n;if(e.procType&&(n={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]},r+=Zn(n)),e.contentDomain&&(n={name:"Content-Domain",values:[e.contentDomain]},r+=Zn(n)),e.dekInfo&&(n={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&n.values.push(e.dekInfo.parameters),r+=Zn(n)),e.headers)for(var i=0;i<e.headers.length;++i)r+=Zn(e.headers[i]);return e.procType&&(r+=`\r
`),r+=Qn.util.encode64(e.body,t.maxline||64)+`\r
`,r+="-----END "+e.type+`-----\r
`,r};cs.decode=function(e){for(var t=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,i=/\r?\n/,o;o=r.exec(e),!!o;){var a=o[1];a==="NEW CERTIFICATE REQUEST"&&(a="CERTIFICATE REQUEST");var s={type:a,procType:null,contentDomain:null,dekInfo:null,headers:[],body:Qn.util.decode64(o[3])};if(t.push(s),!!o[2]){for(var c=o[2].split(i),u=0;o&&u<c.length;){for(var f=c[u].replace(/\s+$/,""),l=u+1;l<c.length;++l){var h=c[l];if(!/\s/.test(h[0]))break;f+=h,u=l}if(o=f.match(n),o){for(var d={name:o[1],values:[]},p=o[2].split(","),y=0;y<p.length;++y)d.values.push(vl(p[y]));if(s.procType)if(!s.contentDomain&&d.name==="Content-Domain")s.contentDomain=p[0]||"";else if(!s.dekInfo&&d.name==="DEK-Info"){if(d.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');s.dekInfo={algorithm:p[0],parameters:p[1]||null}}else s.headers.push(d);else{if(d.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(d.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');s.procType={version:p[0],type:p[1]}}}++u}if(s.procType==="ENCRYPTED"&&!s.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(t.length===0)throw new Error("Invalid PEM formatted message.");return t};function Zn(e){for(var t=e.name+": ",r=[],n=function(c,u){return" "+u},i=0;i<e.values.length;++i)r.push(e.values[i].replace(/^(\S+\r\n)/,n));t+=r.join(",")+`\r
`;for(var o=0,a=-1,i=0;i<t.length;++i,++o)if(o>65&&a!==-1){var s=t[a];s===","?(++a,t=t.substr(0,a)+`\r
 `+t.substr(a)):t=t.substr(0,a)+`\r
`+s+t.substr(a+1),o=i-a-1,a=-1,++i}else(t[i]===" "||t[i]==="	"||t[i]===",")&&(a=i);return t}function vl(e){return e.replace(/^\s+/,"")}});var ms=z((i2,gs)=>{var gt=ue();or();Be();var ps=gs.exports=gt.sha256=gt.sha256||{};gt.md.sha256=gt.md.algorithms.sha256=ps;ps.create=function(){ds||bl();var e=null,t=gt.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,o=0;o<i;++o)n.fullMessageLength.push(0);return t=gt.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(i,o){o==="utf8"&&(i=gt.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var s=n.fullMessageLength.length-1;s>=0;--s)n.fullMessageLength[s]+=a[1],a[1]=a[0]+(n.fullMessageLength[s]/4294967296>>>0),n.fullMessageLength[s]=n.fullMessageLength[s]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(i),hs(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=gt.util.createBuffer();i.putBytes(t.bytes());var o=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=o&n.blockLength-1;i.putBytes(eo.substr(0,n.blockLength-a));for(var s,c,u=n.fullMessageLength[0]*8,f=0;f<n.fullMessageLength.length-1;++f)s=n.fullMessageLength[f+1]*8,c=s/4294967296>>>0,u+=c,i.putInt32(u>>>0),u=s>>>0;i.putInt32(u);var l={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};hs(l,r,i);var h=gt.util.createBuffer();return h.putInt32(l.h0),h.putInt32(l.h1),h.putInt32(l.h2),h.putInt32(l.h3),h.putInt32(l.h4),h.putInt32(l.h5),h.putInt32(l.h6),h.putInt32(l.h7),h},n};var eo=null,ds=!1,ys=null;function bl(){eo=String.fromCharCode(128),eo+=gt.util.fillString(String.fromCharCode(0),64),ys=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],ds=!0}function hs(e,t,r){for(var n,i,o,a,s,c,u,f,l,h,d,p,y,m,v,E=r.length();E>=64;){for(u=0;u<16;++u)t[u]=r.getInt32();for(;u<64;++u)n=t[u-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=t[u-15],i=(i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,t[u]=n+t[u-7]+i+t[u-16]|0;for(f=e.h0,l=e.h1,h=e.h2,d=e.h3,p=e.h4,y=e.h5,m=e.h6,v=e.h7,u=0;u<64;++u)a=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7),s=m^p&(y^m),o=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),c=f&l|h&(f^l),n=v+a+s+ys[u]+t[u],i=o+c,v=m,m=y,y=p,p=d+n>>>0,d=h,h=l,l=f,f=n+i>>>0;e.h0=e.h0+f|0,e.h1=e.h1+l|0,e.h2=e.h2+h|0,e.h3=e.h3+d|0,e.h4=e.h4+p|0,e.h5=e.h5+y|0,e.h6=e.h6+m|0,e.h7=e.h7+v|0,E-=64}}});var vs=z((o2,xs)=>{var mt=ue();Be();var Xn=null;mt.util.isNodejs&&!mt.options.usePureJavaScript&&!process.versions["node-webkit"]&&(Xn=Br());var wl=xs.exports=mt.prng=mt.prng||{};wl.create=function(e){for(var t={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=e.md,n=new Array(32),i=0;i<32;++i)n[i]=r.create();t.pools=n,t.pool=0,t.generate=function(u,f){if(!f)return t.generateSync(u);var l=t.plugin.cipher,h=t.plugin.increment,d=t.plugin.formatKey,p=t.plugin.formatSeed,y=mt.util.createBuffer();t.key=null,m();function m(v){if(v)return f(v);if(y.length()>=u)return f(null,y.getBytes(u));if(t.generated>1048575&&(t.key=null),t.key===null)return mt.util.nextTick(function(){o(m)});var E=l(t.key,t.seed);t.generated+=E.length,y.putBytes(E),t.key=d(l(t.key,h(t.seed))),t.seed=p(l(t.key,t.seed)),mt.util.setImmediate(m)}},t.generateSync=function(u){var f=t.plugin.cipher,l=t.plugin.increment,h=t.plugin.formatKey,d=t.plugin.formatSeed;t.key=null;for(var p=mt.util.createBuffer();p.length()<u;){t.generated>1048575&&(t.key=null),t.key===null&&a();var y=f(t.key,t.seed);t.generated+=y.length,p.putBytes(y),t.key=h(f(t.key,l(t.seed))),t.seed=d(f(t.key,t.seed))}return p.getBytes(u)};function o(u){if(t.pools[0].messageLength>=32)return s(),u();var f=32-t.pools[0].messageLength<<5;t.seedFile(f,function(l,h){if(l)return u(l);t.collect(h),s(),u()})}function a(){if(t.pools[0].messageLength>=32)return s();var u=32-t.pools[0].messageLength<<5;t.collect(t.seedFileSync(u)),s()}function s(){t.reseeds=t.reseeds===4294967295?0:t.reseeds+1;var u=t.plugin.md.create();u.update(t.keyBytes);for(var f=1,l=0;l<32;++l)t.reseeds%f===0&&(u.update(t.pools[l].digest().getBytes()),t.pools[l].start()),f=f<<1;t.keyBytes=u.digest().getBytes(),u.start(),u.update(t.keyBytes);var h=u.digest().getBytes();t.key=t.plugin.formatKey(t.keyBytes),t.seed=t.plugin.formatSeed(h),t.generated=0}function c(u){var f=null,l=mt.util.globalScope,h=l.crypto||l.msCrypto;h&&h.getRandomValues&&(f=function(_){return h.getRandomValues(_)});var d=mt.util.createBuffer();if(f)for(;d.length()<u;){var p=Math.max(1,Math.min(u-d.length(),65536)/4),y=new Uint32Array(Math.floor(p));try{f(y);for(var m=0;m<y.length;++m)d.putInt32(y[m])}catch(_){if(!(typeof QuotaExceededError<"u"&&_ instanceof QuotaExceededError))throw _}}if(d.length()<u)for(var v,E,C,L=Math.floor(Math.random()*65536);d.length()<u;){E=16807*(L&65535),v=16807*(L>>16),E+=(v&32767)<<16,E+=v>>15,E=(E&2147483647)+(E>>31),L=E&4294967295;for(var m=0;m<3;++m)C=L>>>(m<<3),C^=Math.floor(Math.random()*256),d.putByte(C&255)}return d.getBytes(u)}return Xn?(t.seedFile=function(u,f){Xn.randomBytes(u,function(l,h){if(l)return f(l);f(null,h.toString())})},t.seedFileSync=function(u){return Xn.randomBytes(u).toString()}):(t.seedFile=function(u,f){try{f(null,c(u))}catch(l){f(l)}},t.seedFileSync=c),t.collect=function(u){for(var f=u.length,l=0;l<f;++l)t.pools[t.pool].update(u.substr(l,1)),t.pool=t.pool===31?0:t.pool+1},t.collectInt=function(u,f){for(var l="",h=0;h<f;h+=8)l+=String.fromCharCode(u>>h&255);t.collect(l)},t.registerWorker=function(u){if(u===self)t.seedFile=function(l,h){function d(p){var y=p.data;y.forge&&y.forge.prng&&(self.removeEventListener("message",d),h(y.forge.prng.err,y.forge.prng.bytes))}self.addEventListener("message",d),self.postMessage({forge:{prng:{needed:l}}})};else{var f=function(l){var h=l.data;h.forge&&h.forge.prng&&t.seedFile(h.forge.prng.needed,function(d,p){u.postMessage({forge:{prng:{err:d,bytes:p}}})})};u.addEventListener("message",f)}},t}});var hn=z((a2,to)=>{var Ie=ue();ji();ms();vs();Be();(function(){if(Ie.random&&Ie.random.getBytes){to.exports=Ie.random;return}(function(e){var t={},r=new Array(4),n=Ie.util.createBuffer();t.formatKey=function(l){var h=Ie.util.createBuffer(l);return l=new Array(4),l[0]=h.getInt32(),l[1]=h.getInt32(),l[2]=h.getInt32(),l[3]=h.getInt32(),Ie.aes._expandKey(l,!1)},t.formatSeed=function(l){var h=Ie.util.createBuffer(l);return l=new Array(4),l[0]=h.getInt32(),l[1]=h.getInt32(),l[2]=h.getInt32(),l[3]=h.getInt32(),l},t.cipher=function(l,h){return Ie.aes._updateBlock(l,h,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},t.increment=function(l){return++l[3],l},t.md=Ie.md.sha256;function i(){var l=Ie.prng.create(t);return l.getBytes=function(h,d){return l.generate(h,d)},l.getBytesSync=function(h){return l.generate(h)},l}var o=i(),a=null,s=Ie.util.globalScope,c=s.crypto||s.msCrypto;if(c&&c.getRandomValues&&(a=function(l){return c.getRandomValues(l)}),Ie.options.usePureJavaScript||!Ie.util.isNodejs&&!a){if(typeof window>"u"||window.document,o.collectInt(+new Date,32),typeof navigator<"u"){var u="";for(var f in navigator)try{typeof navigator[f]=="string"&&(u+=navigator[f])}catch{}o.collect(u),u=null}e&&(e().mousemove(function(l){o.collectInt(l.clientX,16),o.collectInt(l.clientY,16)}),e().keypress(function(l){o.collectInt(l.charCode,8)}))}if(!Ie.random)Ie.random=o;else for(var f in o)Ie.random[f]=o[f];Ie.random.createInstance=i,to.exports=Ie.random})(typeof jQuery<"u"?jQuery:null)})()});var Ss=z((s2,Es)=>{var Ve=ue();Be();var ro=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],bs=[1,2,3,5],El=function(e,t){return e<<t&65535|(e&65535)>>16-t},Sl=function(e,t){return(e&65535)>>t|e<<16-t&65535};Es.exports=Ve.rc2=Ve.rc2||{};Ve.rc2.expandKey=function(e,t){typeof e=="string"&&(e=Ve.util.createBuffer(e)),t=t||128;var r=e,n=e.length(),i=t,o=Math.ceil(i/8),a=255>>(i&7),s;for(s=n;s<128;s++)r.putByte(ro[r.at(s-1)+r.at(s-n)&255]);for(r.setAt(128-o,ro[r.at(128-o)&a]),s=127-o;s>=0;s--)r.setAt(s,ro[r.at(s+1)^r.at(s+o)]);return r};var ws=function(e,t,r){var n=!1,i=null,o=null,a=null,s,c,u,f,l=[];for(e=Ve.rc2.expandKey(e,t),u=0;u<64;u++)l.push(e.getInt16Le());r?(s=function(p){for(u=0;u<4;u++)p[u]+=l[f]+(p[(u+3)%4]&p[(u+2)%4])+(~p[(u+3)%4]&p[(u+1)%4]),p[u]=El(p[u],bs[u]),f++},c=function(p){for(u=0;u<4;u++)p[u]+=l[p[(u+3)%4]&63]}):(s=function(p){for(u=3;u>=0;u--)p[u]=Sl(p[u],bs[u]),p[u]-=l[f]+(p[(u+3)%4]&p[(u+2)%4])+(~p[(u+3)%4]&p[(u+1)%4]),f--},c=function(p){for(u=3;u>=0;u--)p[u]-=l[p[(u+3)%4]&63]});var h=function(p){var y=[];for(u=0;u<4;u++){var m=i.getInt16Le();a!==null&&(r?m^=a.getInt16Le():a.putInt16Le(m)),y.push(m&65535)}f=r?0:63;for(var v=0;v<p.length;v++)for(var E=0;E<p[v][0];E++)p[v][1](y);for(u=0;u<4;u++)a!==null&&(r?a.putInt16Le(y[u]):y[u]^=a.getInt16Le()),o.putInt16Le(y[u])},d=null;return d={start:function(p,y){p&&typeof p=="string"&&(p=Ve.util.createBuffer(p)),n=!1,i=Ve.util.createBuffer(),o=y||new Ve.util.createBuffer,a=p,d.output=o},update:function(p){for(n||i.putBuffer(p);i.length()>=8;)h([[5,s],[1,c],[6,s],[1,c],[5,s]])},finish:function(p){var y=!0;if(r)if(p)y=p(8,i,!r);else{var m=i.length()===8?8:8-i.length();i.fillWithByte(m,m)}if(y&&(n=!0,d.update()),!r&&(y=i.length()===0,y))if(p)y=p(8,o,!r);else{var v=o.length(),E=o.at(v-1);E>v?y=!1:o.truncate(E)}return y}},d};Ve.rc2.startEncrypting=function(e,t,r){var n=Ve.rc2.createEncryptionCipher(e,128);return n.start(t,r),n};Ve.rc2.createEncryptionCipher=function(e,t){return ws(e,t,!0)};Ve.rc2.startDecrypting=function(e,t,r){var n=Ve.rc2.createDecryptionCipher(e,128);return n.start(t,r),n};Ve.rc2.createDecryptionCipher=function(e,t){return ws(e,t,!1)}});var ei=z((u2,ks)=>{var no=ue();ks.exports=no.jsbn=no.jsbn||{};var Ut,Bl=0xdeadbeefcafe,Bs=(Bl&16777215)==15715070;function S(e,t,r){this.data=[],e!=null&&(typeof e=="number"?this.fromNumber(e,t,r):t==null&&typeof e!="string"?this.fromString(e,256):this.fromString(e,t))}no.jsbn.BigInteger=S;function ee(){return new S(null)}function Al(e,t,r,n,i,o){for(;--o>=0;){var a=t*this.data[e++]+r.data[n]+i;i=Math.floor(a/67108864),r.data[n++]=a&67108863}return i}function Cl(e,t,r,n,i,o){for(var a=t&32767,s=t>>15;--o>=0;){var c=this.data[e]&32767,u=this.data[e++]>>15,f=s*c+u*a;c=a*c+((f&32767)<<15)+r.data[n]+(i&1073741823),i=(c>>>30)+(f>>>15)+s*u+(i>>>30),r.data[n++]=c&1073741823}return i}function As(e,t,r,n,i,o){for(var a=t&16383,s=t>>14;--o>=0;){var c=this.data[e]&16383,u=this.data[e++]>>14,f=s*c+u*a;c=a*c+((f&16383)<<14)+r.data[n]+i,i=(c>>28)+(f>>14)+s*u,r.data[n++]=c&268435455}return i}typeof navigator>"u"?(S.prototype.am=As,Ut=28):Bs&&navigator.appName=="Microsoft Internet Explorer"?(S.prototype.am=Cl,Ut=30):Bs&&navigator.appName!="Netscape"?(S.prototype.am=Al,Ut=26):(S.prototype.am=As,Ut=28);S.prototype.DB=Ut;S.prototype.DM=(1<<Ut)-1;S.prototype.DV=1<<Ut;var io=52;S.prototype.FV=Math.pow(2,io);S.prototype.F1=io-Ut;S.prototype.F2=2*Ut-io;var Tl="0123456789abcdefghijklmnopqrstuvwxyz",Jn=new Array,Ar,je;Ar="0".charCodeAt(0);for(je=0;je<=9;++je)Jn[Ar++]=je;Ar="a".charCodeAt(0);for(je=10;je<36;++je)Jn[Ar++]=je;Ar="A".charCodeAt(0);for(je=10;je<36;++je)Jn[Ar++]=je;function Cs(e){return Tl.charAt(e)}function Ts(e,t){var r=Jn[e.charCodeAt(t)];return r??-1}function Il(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s}function _l(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0}function qt(e){var t=ee();return t.fromInt(e),t}function Rl(e,t){var r;if(t==16)r=4;else if(t==8)r=3;else if(t==256)r=8;else if(t==2)r=1;else if(t==32)r=5;else if(t==4)r=2;else{this.fromRadix(e,t);return}this.t=0,this.s=0;for(var n=e.length,i=!1,o=0;--n>=0;){var a=r==8?e[n]&255:Ts(e,n);if(a<0){e.charAt(n)=="-"&&(i=!0);continue}i=!1,o==0?this.data[this.t++]=a:o+r>this.DB?(this.data[this.t-1]|=(a&(1<<this.DB-o)-1)<<o,this.data[this.t++]=a>>this.DB-o):this.data[this.t-1]|=a<<o,o+=r,o>=this.DB&&(o-=this.DB)}r==8&&e[0]&128&&(this.s=-1,o>0&&(this.data[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),i&&S.ZERO.subTo(this,this)}function kl(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t}function Nl(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(e==16)t=4;else if(e==8)t=3;else if(e==2)t=1;else if(e==32)t=5;else if(e==4)t=2;else return this.toRadix(e);var r=(1<<t)-1,n,i=!1,o="",a=this.t,s=this.DB-a*this.DB%t;if(a-- >0)for(s<this.DB&&(n=this.data[a]>>s)>0&&(i=!0,o=Cs(n));a>=0;)s<t?(n=(this.data[a]&(1<<s)-1)<<t-s,n|=this.data[--a]>>(s+=this.DB-t)):(n=this.data[a]>>(s-=t)&r,s<=0&&(s+=this.DB,--a)),n>0&&(i=!0),i&&(o+=Cs(n));return i?o:"0"}function Dl(){var e=ee();return S.ZERO.subTo(this,e),e}function Ul(){return this.s<0?this.negate():this}function Ll(e){var t=this.s-e.s;if(t!=0)return t;var r=this.t;if(t=r-e.t,t!=0)return this.s<0?-t:t;for(;--r>=0;)if((t=this.data[r]-e.data[r])!=0)return t;return 0}function jn(e){var t=1,r;return(r=e>>>16)!=0&&(e=r,t+=16),(r=e>>8)!=0&&(e=r,t+=8),(r=e>>4)!=0&&(e=r,t+=4),(r=e>>2)!=0&&(e=r,t+=2),(r=e>>1)!=0&&(e=r,t+=1),t}function Pl(){return this.t<=0?0:this.DB*(this.t-1)+jn(this.data[this.t-1]^this.s&this.DM)}function Kl(e,t){var r;for(r=this.t-1;r>=0;--r)t.data[r+e]=this.data[r];for(r=e-1;r>=0;--r)t.data[r]=0;t.t=this.t+e,t.s=this.s}function Fl(e,t){for(var r=e;r<this.t;++r)t.data[r-e]=this.data[r];t.t=Math.max(this.t-e,0),t.s=this.s}function Ol(e,t){var r=e%this.DB,n=this.DB-r,i=(1<<n)-1,o=Math.floor(e/this.DB),a=this.s<<r&this.DM,s;for(s=this.t-1;s>=0;--s)t.data[s+o+1]=this.data[s]>>n|a,a=(this.data[s]&i)<<r;for(s=o-1;s>=0;--s)t.data[s]=0;t.data[o]=a,t.t=this.t+o+1,t.s=this.s,t.clamp()}function Ml(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t){t.t=0;return}var n=e%this.DB,i=this.DB-n,o=(1<<n)-1;t.data[0]=this.data[r]>>n;for(var a=r+1;a<this.t;++a)t.data[a-r-1]|=(this.data[a]&o)<<i,t.data[a-r]=this.data[a]>>n;n>0&&(t.data[this.t-r-1]|=(this.s&o)<<i),t.t=this.t-r,t.clamp()}function Vl(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]-e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t.data[r++]=this.DV+n:n>0&&(t.data[r++]=n),t.t=r,t.clamp()}function ql(e,t){var r=this.abs(),n=e.abs(),i=r.t;for(t.t=i+n.t;--i>=0;)t.data[i]=0;for(i=0;i<n.t;++i)t.data[i+r.t]=r.am(0,n.data[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&S.ZERO.subTo(t,t)}function zl(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e.data[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t.data[r],e,2*r,0,1);(e.data[r+t.t]+=t.am(r+1,2*t.data[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e.data[r+t.t]-=t.DV,e.data[r+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(r,t.data[r],e,2*r,0,1)),e.s=0,e.clamp()}function Hl(e,t,r){var n=e.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t){t?.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=ee());var o=ee(),a=this.s,s=e.s,c=this.DB-jn(n.data[n.t-1]);c>0?(n.lShiftTo(c,o),i.lShiftTo(c,r)):(n.copyTo(o),i.copyTo(r));var u=o.t,f=o.data[u-1];if(f!=0){var l=f*(1<<this.F1)+(u>1?o.data[u-2]>>this.F2:0),h=this.FV/l,d=(1<<this.F1)/l,p=1<<this.F2,y=r.t,m=y-u,v=t??ee();for(o.dlShiftTo(m,v),r.compareTo(v)>=0&&(r.data[r.t++]=1,r.subTo(v,r)),S.ONE.dlShiftTo(u,v),v.subTo(o,o);o.t<u;)o.data[o.t++]=0;for(;--m>=0;){var E=r.data[--y]==f?this.DM:Math.floor(r.data[y]*h+(r.data[y-1]+p)*d);if((r.data[y]+=o.am(0,E,r,m,0,u))<E)for(o.dlShiftTo(m,v),r.subTo(v,r);r.data[y]<--E;)r.subTo(v,r)}t!=null&&(r.drShiftTo(u,t),a!=s&&S.ZERO.subTo(t,t)),r.t=u,r.clamp(),c>0&&r.rShiftTo(c,r),a<0&&S.ZERO.subTo(r,r)}}}function Gl(e){var t=ee();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(S.ZERO)>0&&e.subTo(t,t),t}function ar(e){this.m=e}function $l(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function Wl(e){return e}function Yl(e){e.divRemTo(this.m,null,e)}function Zl(e,t,r){e.multiplyTo(t,r),this.reduce(r)}function Ql(e,t){e.squareTo(t),this.reduce(t)}ar.prototype.convert=$l;ar.prototype.revert=Wl;ar.prototype.reduce=Yl;ar.prototype.mulTo=Zl;ar.prototype.sqrTo=Ql;function Xl(){if(this.t<1)return 0;var e=this.data[0];if(!(e&1))return 0;var t=e&3;return t=t*(2-(e&15)*t)&15,t=t*(2-(e&255)*t)&255,t=t*(2-((e&65535)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function sr(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function Jl(e){var t=ee();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(S.ZERO)>0&&this.m.subTo(t,t),t}function jl(e){var t=ee();return e.copyTo(t),this.reduce(t),t}function eh(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=e.data[t]&32767,n=r*this.mpl+((r*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e.data[r]+=this.m.am(0,n,e,t,0,this.m.t);e.data[r]>=e.DV;)e.data[r]-=e.DV,e.data[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function th(e,t){e.squareTo(t),this.reduce(t)}function rh(e,t,r){e.multiplyTo(t,r),this.reduce(r)}sr.prototype.convert=Jl;sr.prototype.revert=jl;sr.prototype.reduce=eh;sr.prototype.mulTo=rh;sr.prototype.sqrTo=th;function nh(){return(this.t>0?this.data[0]&1:this.s)==0}function ih(e,t){if(e>4294967295||e<1)return S.ONE;var r=ee(),n=ee(),i=t.convert(this),o=jn(e)-1;for(i.copyTo(r);--o>=0;)if(t.sqrTo(r,n),(e&1<<o)>0)t.mulTo(n,i,r);else{var a=r;r=n,n=a}return t.revert(r)}function oh(e,t){var r;return e<256||t.isEven()?r=new ar(t):r=new sr(t),this.exp(e,r)}S.prototype.copyTo=Il;S.prototype.fromInt=_l;S.prototype.fromString=Rl;S.prototype.clamp=kl;S.prototype.dlShiftTo=Kl;S.prototype.drShiftTo=Fl;S.prototype.lShiftTo=Ol;S.prototype.rShiftTo=Ml;S.prototype.subTo=Vl;S.prototype.multiplyTo=ql;S.prototype.squareTo=zl;S.prototype.divRemTo=Hl;S.prototype.invDigit=Xl;S.prototype.isEven=nh;S.prototype.exp=ih;S.prototype.toString=Nl;S.prototype.negate=Dl;S.prototype.abs=Ul;S.prototype.compareTo=Ll;S.prototype.bitLength=Pl;S.prototype.mod=Gl;S.prototype.modPowInt=oh;S.ZERO=qt(0);S.ONE=qt(1);function ah(){var e=ee();return this.copyTo(e),e}function sh(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function uh(){return this.t==0?this.s:this.data[0]<<24>>24}function ch(){return this.t==0?this.s:this.data[0]<<16>>16}function fh(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function lh(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function hh(e){if(e==null&&(e=10),this.signum()==0||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=qt(r),i=ee(),o=ee(),a="";for(this.divRemTo(n,i,o);i.signum()>0;)a=(r+o.intValue()).toString(e).substr(1)+a,i.divRemTo(n,i,o);return o.intValue().toString(e)+a}function ph(e,t){this.fromInt(0),t==null&&(t=10);for(var r=this.chunkSize(t),n=Math.pow(t,r),i=!1,o=0,a=0,s=0;s<e.length;++s){var c=Ts(e,s);if(c<0){e.charAt(s)=="-"&&this.signum()==0&&(i=!0);continue}a=t*a+c,++o>=r&&(this.dMultiply(n),this.dAddOffset(a,0),o=0,a=0)}o>0&&(this.dMultiply(Math.pow(t,o)),this.dAddOffset(a,0)),i&&S.ZERO.subTo(this,this)}function dh(e,t,r){if(typeof t=="number")if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(S.ONE.shiftLeft(e-1),oo,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(S.ONE.shiftLeft(e-1),this);else{var n=new Array,i=e&7;n.length=(e>>3)+1,t.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}}function yh(){var e=this.t,t=new Array;t[0]=this.s;var r=this.DB-e*this.DB%8,n,i=0;if(e-- >0)for(r<this.DB&&(n=this.data[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this.data[e]&(1<<r)-1)<<8-r,n|=this.data[--e]>>(r+=this.DB-8)):(n=this.data[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),n&128&&(n|=-256),i==0&&(this.s&128)!=(n&128)&&++i,(i>0||n!=this.s)&&(t[i++]=n);return t}function gh(e){return this.compareTo(e)==0}function mh(e){return this.compareTo(e)<0?this:e}function xh(e){return this.compareTo(e)>0?this:e}function vh(e,t,r){var n,i,o=Math.min(e.t,this.t);for(n=0;n<o;++n)r.data[n]=t(this.data[n],e.data[n]);if(e.t<this.t){for(i=e.s&this.DM,n=o;n<this.t;++n)r.data[n]=t(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=o;n<e.t;++n)r.data[n]=t(i,e.data[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()}function bh(e,t){return e&t}function wh(e){var t=ee();return this.bitwiseTo(e,bh,t),t}function oo(e,t){return e|t}function Eh(e){var t=ee();return this.bitwiseTo(e,oo,t),t}function Is(e,t){return e^t}function Sh(e){var t=ee();return this.bitwiseTo(e,Is,t),t}function _s(e,t){return e&~t}function Bh(e){var t=ee();return this.bitwiseTo(e,_s,t),t}function Ah(){for(var e=ee(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e}function Ch(e){var t=ee();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}function Th(e){var t=ee();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}function Ih(e){if(e==0)return-1;var t=0;return e&65535||(e>>=16,t+=16),e&255||(e>>=8,t+=8),e&15||(e>>=4,t+=4),e&3||(e>>=2,t+=2),e&1||++t,t}function _h(){for(var e=0;e<this.t;++e)if(this.data[e]!=0)return e*this.DB+Ih(this.data[e]);return this.s<0?this.t*this.DB:-1}function Rh(e){for(var t=0;e!=0;)e&=e-1,++t;return t}function kh(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=Rh(this.data[r]^t);return e}function Nh(e){var t=Math.floor(e/this.DB);return t>=this.t?this.s!=0:(this.data[t]&1<<e%this.DB)!=0}function Dh(e,t){var r=S.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r}function Uh(e){return this.changeBit(e,oo)}function Lh(e){return this.changeBit(e,_s)}function Ph(e){return this.changeBit(e,Is)}function Kh(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]+e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t.data[r++]=n:n<-1&&(t.data[r++]=this.DV+n),t.t=r,t.clamp()}function Fh(e){var t=ee();return this.addTo(e,t),t}function Oh(e){var t=ee();return this.subTo(e,t),t}function Mh(e){var t=ee();return this.multiplyTo(e,t),t}function Vh(e){var t=ee();return this.divRemTo(e,t,null),t}function qh(e){var t=ee();return this.divRemTo(e,null,t),t}function zh(e){var t=ee(),r=ee();return this.divRemTo(e,t,r),new Array(t,r)}function Hh(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}function Gh(e,t){if(e!=0){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}}function pn(){}function Rs(e){return e}function $h(e,t,r){e.multiplyTo(t,r)}function Wh(e,t){e.squareTo(t)}pn.prototype.convert=Rs;pn.prototype.revert=Rs;pn.prototype.mulTo=$h;pn.prototype.sqrTo=Wh;function Yh(e){return this.exp(e,new pn)}function Zh(e,t,r){var n=Math.min(this.t+e.t,t);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var i;for(i=r.t-this.t;n<i;++n)r.data[n+this.t]=this.am(0,e.data[n],r,n,0,this.t);for(i=Math.min(e.t,t);n<i;++n)this.am(0,e.data[n],r,n,0,t-n);r.clamp()}function Qh(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r.data[this.t+n-t]=this.am(t-n,e.data[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)}function Cr(e){this.r2=ee(),this.q3=ee(),S.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}function Xh(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=ee();return e.copyTo(t),this.reduce(t),t}function Jh(e){return e}function jh(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}function ep(e,t){e.squareTo(t),this.reduce(t)}function tp(e,t,r){e.multiplyTo(t,r),this.reduce(r)}Cr.prototype.convert=Xh;Cr.prototype.revert=Jh;Cr.prototype.reduce=jh;Cr.prototype.mulTo=tp;Cr.prototype.sqrTo=ep;function rp(e,t){var r=e.bitLength(),n,i=qt(1),o;if(r<=0)return i;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?o=new ar(t):t.isEven()?o=new Cr(t):o=new sr(t);var a=new Array,s=3,c=n-1,u=(1<<n)-1;if(a[1]=o.convert(this),n>1){var f=ee();for(o.sqrTo(a[1],f);s<=u;)a[s]=ee(),o.mulTo(f,a[s-2],a[s]),s+=2}var l=e.t-1,h,d=!0,p=ee(),y;for(r=jn(e.data[l])-1;l>=0;){for(r>=c?h=e.data[l]>>r-c&u:(h=(e.data[l]&(1<<r+1)-1)<<c-r,l>0&&(h|=e.data[l-1]>>this.DB+r-c)),s=n;!(h&1);)h>>=1,--s;if((r-=s)<0&&(r+=this.DB,--l),d)a[h].copyTo(i),d=!1;else{for(;s>1;)o.sqrTo(i,p),o.sqrTo(p,i),s-=2;s>0?o.sqrTo(i,p):(y=i,i=p,p=y),o.mulTo(p,a[h],i)}for(;l>=0&&!(e.data[l]&1<<r);)o.sqrTo(i,p),y=i,i=p,p=y,--r<0&&(r=this.DB-1,--l)}return o.revert(i)}function np(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var i=t.getLowestSetBit(),o=r.getLowestSetBit();if(o<0)return t;for(i<o&&(o=i),o>0&&(t.rShiftTo(o,t),r.rShiftTo(o,r));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return o>0&&r.lShiftTo(o,r),r}function ip(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(t==0)r=this.data[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this.data[n])%e;return r}function op(e){var t=e.isEven();if(this.isEven()&&t||e.signum()==0)return S.ZERO;for(var r=e.clone(),n=this.clone(),i=qt(1),o=qt(0),a=qt(0),s=qt(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),t?((!i.isEven()||!o.isEven())&&(i.addTo(this,i),o.subTo(e,o)),i.rShiftTo(1,i)):o.isEven()||o.subTo(e,o),o.rShiftTo(1,o);for(;n.isEven();)n.rShiftTo(1,n),t?((!a.isEven()||!s.isEven())&&(a.addTo(this,a),s.subTo(e,s)),a.rShiftTo(1,a)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);r.compareTo(n)>=0?(r.subTo(n,r),t&&i.subTo(a,i),o.subTo(s,o)):(n.subTo(r,n),t&&a.subTo(i,a),s.subTo(o,s))}if(n.compareTo(S.ONE)!=0)return S.ZERO;if(s.compareTo(e)>=0)return s.subtract(e);if(s.signum()<0)s.addTo(e,s);else return s;return s.signum()<0?s.add(e):s}var at=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],ap=(1<<26)/at[at.length-1];function sp(e){var t,r=this.abs();if(r.t==1&&r.data[0]<=at[at.length-1]){for(t=0;t<at.length;++t)if(r.data[0]==at[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<at.length;){for(var n=at[t],i=t+1;i<at.length&&n<ap;)n*=at[i++];for(n=r.modInt(n);t<i;)if(n%at[t++]==0)return!1}return r.millerRabin(e)}function up(e){var t=this.subtract(S.ONE),r=t.getLowestSetBit();if(r<=0)return!1;for(var n=t.shiftRight(r),i=cp(),o,a=0;a<e;++a){do o=new S(this.bitLength(),i);while(o.compareTo(S.ONE)<=0||o.compareTo(t)>=0);var s=o.modPow(n,this);if(s.compareTo(S.ONE)!=0&&s.compareTo(t)!=0){for(var c=1;c++<r&&s.compareTo(t)!=0;)if(s=s.modPowInt(2,this),s.compareTo(S.ONE)==0)return!1;if(s.compareTo(t)!=0)return!1}}return!0}function cp(){return{nextBytes:function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(Math.random()*256)}}}S.prototype.chunkSize=fh;S.prototype.toRadix=hh;S.prototype.fromRadix=ph;S.prototype.fromNumber=dh;S.prototype.bitwiseTo=vh;S.prototype.changeBit=Dh;S.prototype.addTo=Kh;S.prototype.dMultiply=Hh;S.prototype.dAddOffset=Gh;S.prototype.multiplyLowerTo=Zh;S.prototype.multiplyUpperTo=Qh;S.prototype.modInt=ip;S.prototype.millerRabin=up;S.prototype.clone=ah;S.prototype.intValue=sh;S.prototype.byteValue=uh;S.prototype.shortValue=ch;S.prototype.signum=lh;S.prototype.toByteArray=yh;S.prototype.equals=gh;S.prototype.min=mh;S.prototype.max=xh;S.prototype.and=wh;S.prototype.or=Eh;S.prototype.xor=Sh;S.prototype.andNot=Bh;S.prototype.not=Ah;S.prototype.shiftLeft=Ch;S.prototype.shiftRight=Th;S.prototype.getLowestSetBit=_h;S.prototype.bitCount=kh;S.prototype.testBit=Nh;S.prototype.setBit=Uh;S.prototype.clearBit=Lh;S.prototype.flipBit=Ph;S.prototype.add=Fh;S.prototype.subtract=Oh;S.prototype.multiply=Mh;S.prototype.divide=Vh;S.prototype.remainder=qh;S.prototype.divideAndRemainder=zh;S.prototype.modPow=rp;S.prototype.modInverse=op;S.prototype.pow=Yh;S.prototype.gcd=np;S.prototype.isProbablePrime=sp});var Ps=z((c2,Ls)=>{var xt=ue();or();Be();var Ds=Ls.exports=xt.sha1=xt.sha1||{};xt.md.sha1=xt.md.algorithms.sha1=Ds;Ds.create=function(){Us||fp();var e=null,t=xt.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,o=0;o<i;++o)n.fullMessageLength.push(0);return t=xt.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(i,o){o==="utf8"&&(i=xt.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var s=n.fullMessageLength.length-1;s>=0;--s)n.fullMessageLength[s]+=a[1],a[1]=a[0]+(n.fullMessageLength[s]/4294967296>>>0),n.fullMessageLength[s]=n.fullMessageLength[s]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(i),Ns(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=xt.util.createBuffer();i.putBytes(t.bytes());var o=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=o&n.blockLength-1;i.putBytes(ao.substr(0,n.blockLength-a));for(var s,c,u=n.fullMessageLength[0]*8,f=0;f<n.fullMessageLength.length-1;++f)s=n.fullMessageLength[f+1]*8,c=s/4294967296>>>0,u+=c,i.putInt32(u>>>0),u=s>>>0;i.putInt32(u);var l={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};Ns(l,r,i);var h=xt.util.createBuffer();return h.putInt32(l.h0),h.putInt32(l.h1),h.putInt32(l.h2),h.putInt32(l.h3),h.putInt32(l.h4),h},n};var ao=null,Us=!1;function fp(){ao=String.fromCharCode(128),ao+=xt.util.fillString(String.fromCharCode(0),64),Us=!0}function Ns(e,t,r){for(var n,i,o,a,s,c,u,f,l=r.length();l>=64;){for(i=e.h0,o=e.h1,a=e.h2,s=e.h3,c=e.h4,f=0;f<16;++f)n=r.getInt32(),t[f]=n,u=s^o&(a^s),n=(i<<5|i>>>27)+u+c+1518500249+n,c=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;f<20;++f)n=t[f-3]^t[f-8]^t[f-14]^t[f-16],n=n<<1|n>>>31,t[f]=n,u=s^o&(a^s),n=(i<<5|i>>>27)+u+c+1518500249+n,c=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;f<32;++f)n=t[f-3]^t[f-8]^t[f-14]^t[f-16],n=n<<1|n>>>31,t[f]=n,u=o^a^s,n=(i<<5|i>>>27)+u+c+1859775393+n,c=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;f<40;++f)n=t[f-6]^t[f-16]^t[f-28]^t[f-32],n=n<<2|n>>>30,t[f]=n,u=o^a^s,n=(i<<5|i>>>27)+u+c+1859775393+n,c=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;f<60;++f)n=t[f-6]^t[f-16]^t[f-28]^t[f-32],n=n<<2|n>>>30,t[f]=n,u=o&a|s&(o^a),n=(i<<5|i>>>27)+u+c+2400959708+n,c=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;f<80;++f)n=t[f-6]^t[f-16]^t[f-28]^t[f-32],n=n<<2|n>>>30,t[f]=n,u=o^a^s,n=(i<<5|i>>>27)+u+c+3395469782+n,c=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;e.h0=e.h0+i|0,e.h1=e.h1+o|0,e.h2=e.h2+a|0,e.h3=e.h3+s|0,e.h4=e.h4+c|0,l-=64}}});var Os=z((f2,Fs)=>{var vt=ue();Be();hn();Ps();var Ks=Fs.exports=vt.pkcs1=vt.pkcs1||{};Ks.encode_rsa_oaep=function(e,t,r){var n,i,o,a;typeof r=="string"?(n=r,i=arguments[3]||void 0,o=arguments[4]||void 0):r&&(n=r.label||void 0,i=r.seed||void 0,o=r.md||void 0,r.mgf1&&r.mgf1.md&&(a=r.mgf1.md)),o?o.start():o=vt.md.sha1.create(),a||(a=o);var s=Math.ceil(e.n.bitLength()/8),c=s-2*o.digestLength-2;if(t.length>c){var u=new Error("RSAES-OAEP input message length is too long.");throw u.length=t.length,u.maxLength=c,u}n||(n=""),o.update(n,"raw");for(var f=o.digest(),l="",h=c-t.length,d=0;d<h;d++)l+="\0";var p=f.getBytes()+l+""+t;if(!i)i=vt.random.getBytes(o.digestLength);else if(i.length!==o.digestLength){var u=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw u.seedLength=i.length,u.digestLength=o.digestLength,u}var y=ti(i,s-o.digestLength-1,a),m=vt.util.xorBytes(p,y,p.length),v=ti(m,o.digestLength,a),E=vt.util.xorBytes(i,v,i.length);return"\0"+E+m};Ks.decode_rsa_oaep=function(e,t,r){var n,i,o;typeof r=="string"?(n=r,i=arguments[3]||void 0):r&&(n=r.label||void 0,i=r.md||void 0,r.mgf1&&r.mgf1.md&&(o=r.mgf1.md));var a=Math.ceil(e.n.bitLength()/8);if(t.length!==a){var m=new Error("RSAES-OAEP encoded message length is invalid.");throw m.length=t.length,m.expectedLength=a,m}if(i===void 0?i=vt.md.sha1.create():i.start(),o||(o=i),a<2*i.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),i.update(n,"raw");for(var s=i.digest().getBytes(),c=t.charAt(0),u=t.substring(1,i.digestLength+1),f=t.substring(1+i.digestLength),l=ti(f,i.digestLength,o),h=vt.util.xorBytes(u,l,u.length),d=ti(h,a-i.digestLength-1,o),p=vt.util.xorBytes(f,d,f.length),y=p.substring(0,i.digestLength),m=c!=="\0",v=0;v<i.digestLength;++v)m|=s.charAt(v)!==y.charAt(v);for(var E=1,C=i.digestLength,L=i.digestLength;L<p.length;L++){var _=p.charCodeAt(L),I=_&1^1,G=E?65534:0;m|=_&G,E=E&I,C+=E}if(m||p.charCodeAt(C)!==1)throw new Error("Invalid RSAES-OAEP padding.");return p.substring(C+1)};function ti(e,t,r){r||(r=vt.md.sha1.create());for(var n="",i=Math.ceil(t/r.digestLength),o=0;o<i;++o){var a=String.fromCharCode(o>>24&255,o>>16&255,o>>8&255,o&255);r.start(),r.update(e+a),n+=r.digest().getBytes()}return n.substring(0,t)}});var Ms=z((l2,so)=>{var zt=ue();Be();ei();hn();(function(){if(zt.prime){so.exports=zt.prime;return}var e=so.exports=zt.prime=zt.prime||{},t=zt.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new t(null);n.fromInt(30);var i=function(l,h){return l|h};e.generateProbablePrime=function(l,h,d){typeof h=="function"&&(d=h,h={}),h=h||{};var p=h.algorithm||"PRIMEINC";typeof p=="string"&&(p={name:p}),p.options=p.options||{};var y=h.prng||zt.random,m={nextBytes:function(v){for(var E=y.getBytesSync(v.length),C=0;C<v.length;++C)v[C]=E.charCodeAt(C)}};if(p.name==="PRIMEINC")return o(l,m,p.options,d);throw new Error("Invalid prime generation algorithm: "+p.name)};function o(l,h,d,p){return"workers"in d?c(l,h,d,p):a(l,h,d,p)}function a(l,h,d,p){var y=u(l,h),m=0,v=f(y.bitLength());"millerRabinTests"in d&&(v=d.millerRabinTests);var E=10;"maxBlockTime"in d&&(E=d.maxBlockTime),s(y,l,h,m,v,E,p)}function s(l,h,d,p,y,m,v){var E=+new Date;do{if(l.bitLength()>h&&(l=u(h,d)),l.isProbablePrime(y))return v(null,l);l.dAddOffset(r[p++%8],0)}while(m<0||+new Date-E<m);zt.util.setImmediate(function(){s(l,h,d,p,y,m,v)})}function c(l,h,d,p){if(typeof Worker>"u")return a(l,h,d,p);var y=u(l,h),m=d.workers,v=d.workLoad||100,E=v*30/8,C=d.workerScript||"forge/prime.worker.js";if(m===-1)return zt.util.estimateCores(function(_,I){_&&(I=2),m=I-1,L()});L();function L(){m=Math.max(1,m);for(var _=[],I=0;I<m;++I)_[I]=new Worker(C);for(var G=m,I=0;I<m;++I)_[I].addEventListener("message",K);var T=!1;function K($){if(!T){--G;var V=$.data;if(V.found){for(var M=0;M<_.length;++M)_[M].terminate();return T=!0,p(null,new t(V.prime,16))}y.bitLength()>l&&(y=u(l,h));var ae=y.toString(16);$.target.postMessage({hex:ae,workLoad:v}),y.dAddOffset(E,0)}}}}function u(l,h){var d=new t(l,h),p=l-1;return d.testBit(p)||d.bitwiseTo(t.ONE.shiftLeft(p),i,d),d.dAddOffset(31-d.mod(n).byteValue(),0),d}function f(l){return l<=100?27:l<=150?18:l<=200?15:l<=250?12:l<=300?9:l<=350?8:l<=400?7:l<=500?6:l<=600?5:l<=800?4:l<=1250?3:2}})()});var ni=z((h2,Ws)=>{var O=ue();ln();ei();qn();Os();Ms();hn();Be();typeof X>"u"&&(X=O.jsbn.BigInteger);var X,uo=O.util.isNodejs?Br():null,x=O.asn1,et=O.util;O.pki=O.pki||{};Ws.exports=O.pki.rsa=O.rsa=O.rsa||{};var H=O.pki,lp=[6,4,2,4,2,4,6,2],hp={name:"PrivateKeyInfo",tagClass:x.Class.UNIVERSAL,type:x.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:x.Class.UNIVERSAL,type:x.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:x.Class.UNIVERSAL,type:x.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:x.Class.UNIVERSAL,type:x.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:x.Class.UNIVERSAL,type:x.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},pp={name:"RSAPrivateKey",tagClass:x.Class.UNIVERSAL,type:x.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:x.Class.UNIVERSAL,type:x.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:x.Class.UNIVERSAL,type:x.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:x.Class.UNIVERSAL,type:x.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:x.Class.UNIVERSAL,type:x.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:x.Class.UNIVERSAL,type:x.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:x.Class.UNIVERSAL,type:x.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:x.Class.UNIVERSAL,type:x.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:x.Class.UNIVERSAL,type:x.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:x.Class.UNIVERSAL,type:x.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},dp={name:"RSAPublicKey",tagClass:x.Class.UNIVERSAL,type:x.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:x.Class.UNIVERSAL,type:x.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:x.Class.UNIVERSAL,type:x.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},yp=O.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:x.Class.UNIVERSAL,type:x.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:x.Class.UNIVERSAL,type:x.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:x.Class.UNIVERSAL,type:x.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:x.Class.UNIVERSAL,type:x.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:x.Class.UNIVERSAL,type:x.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},gp={name:"DigestInfo",tagClass:x.Class.UNIVERSAL,type:x.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:x.Class.UNIVERSAL,type:x.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:x.Class.UNIVERSAL,type:x.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:x.Class.UNIVERSAL,type:x.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:x.Class.UNIVERSAL,type:x.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},mp=function(e){var t;if(e.algorithm in H.oids)t=H.oids[e.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=e.algorithm,r}var n=x.oidToDer(t).getBytes(),i=x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[]),o=x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[]);o.value.push(x.create(x.Class.UNIVERSAL,x.Type.OID,!1,n)),o.value.push(x.create(x.Class.UNIVERSAL,x.Type.NULL,!1,""));var a=x.create(x.Class.UNIVERSAL,x.Type.OCTETSTRING,!1,e.digest().getBytes());return i.value.push(o),i.value.push(a),x.toDer(i).getBytes()},Gs=function(e,t,r){if(r)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);t.dP||(t.dP=t.d.mod(t.p.subtract(X.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(X.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));var n;do n=new X(O.util.bytesToHex(O.random.getBytes(t.n.bitLength()/8)),16);while(n.compareTo(t.n)>=0||!n.gcd(t.n).equals(X.ONE));e=e.multiply(n.modPow(t.e,t.n)).mod(t.n);for(var i=e.mod(t.p).modPow(t.dP,t.p),o=e.mod(t.q).modPow(t.dQ,t.q);i.compareTo(o)<0;)i=i.add(t.p);var a=i.subtract(o).multiply(t.qInv).mod(t.p).multiply(t.q).add(o);return a=a.multiply(n.modInverse(t.n)).mod(t.n),a};H.rsa.encrypt=function(e,t,r){var n=r,i,o=Math.ceil(t.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,i=$s(e,t,r)):(i=O.util.createBuffer(),i.putBytes(e));for(var a=new X(i.toHex(),16),s=Gs(a,t,n),c=s.toString(16),u=O.util.createBuffer(),f=o-Math.ceil(c.length/2);f>0;)u.putByte(0),--f;return u.putBytes(O.util.hexToBytes(c)),u.getBytes()};H.rsa.decrypt=function(e,t,r,n){var i=Math.ceil(t.n.bitLength()/8);if(e.length!==i){var o=new Error("Encrypted message length is invalid.");throw o.length=e.length,o.expected=i,o}var a=new X(O.util.createBuffer(e).toHex(),16);if(a.compareTo(t.n)>=0)throw new Error("Encrypted message is invalid.");for(var s=Gs(a,t,r),c=s.toString(16),u=O.util.createBuffer(),f=i-Math.ceil(c.length/2);f>0;)u.putByte(0),--f;return u.putBytes(O.util.hexToBytes(c)),n!==!1?ri(u.getBytes(),t,r):u.getBytes()};H.rsa.createKeyPairGenerationState=function(e,t,r){typeof e=="string"&&(e=parseInt(e,10)),e=e||2048,r=r||{};var n=r.prng||O.random,i={nextBytes:function(s){for(var c=n.getBytesSync(s.length),u=0;u<s.length;++u)s[u]=c.charCodeAt(u)}},o=r.algorithm||"PRIMEINC",a;if(o==="PRIMEINC")a={algorithm:o,state:0,bits:e,rng:i,eInt:t||65537,e:new X(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null},a.e.fromInt(a.eInt);else throw new Error("Invalid key generation algorithm: "+o);return a};H.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var r=new X(null);r.fromInt(30);for(var n=0,i=function(l,h){return l|h},o=+new Date,a,s=0;e.keys===null&&(t<=0||s<t);){if(e.state===0){var c=e.p===null?e.pBits:e.qBits,u=c-1;e.pqState===0?(e.num=new X(c,e.rng),e.num.testBit(u)||e.num.bitwiseTo(X.ONE.shiftLeft(u),i,e.num),e.num.dAddOffset(31-e.num.mod(r).byteValue(),0),n=0,++e.pqState):e.pqState===1?e.num.bitLength()>c?e.pqState=0:e.num.isProbablePrime(vp(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(lp[n++%8],0):e.pqState===2?e.pqState=e.num.subtract(X.ONE).gcd(e.e).compareTo(X.ONE)===0?3:0:e.pqState===3&&(e.pqState=0,e.p===null?e.p=e.num:e.q=e.num,e.p!==null&&e.q!==null&&++e.state,e.num=null)}else if(e.state===1)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(e.state===2)e.p1=e.p.subtract(X.ONE),e.q1=e.q.subtract(X.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(e.state===3)e.phi.gcd(e.e).compareTo(X.ONE)===0?++e.state:(e.p=null,e.q=null,e.state=0);else if(e.state===4)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(e.state===5){var f=e.e.modInverse(e.phi);e.keys={privateKey:H.rsa.setPrivateKey(e.n,e.e,f,e.p,e.q,f.mod(e.p1),f.mod(e.q1),e.q.modInverse(e.p)),publicKey:H.rsa.setPublicKey(e.n,e.e)}}a=+new Date,s+=a-o,o=a}return e.keys!==null};H.rsa.generateKeyPair=function(e,t,r,n){if(arguments.length===1?typeof e=="object"?(r=e,e=void 0):typeof e=="function"&&(n=e,e=void 0):arguments.length===2?typeof e=="number"?typeof t=="function"?(n=t,t=void 0):typeof t!="number"&&(r=t,t=void 0):(r=e,n=t,e=void 0,t=void 0):arguments.length===3&&(typeof t=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=t,t=void 0)),r=r||{},e===void 0&&(e=r.bits||2048),t===void 0&&(t=r.e||65537),!O.options.usePureJavaScript&&!r.prng&&e>=256&&e<=16384&&(t===65537||t===3)){if(n){if(Vs("generateKeyPair"))return uo.generateKeyPair("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(s,c,u){if(s)return n(s);n(null,{privateKey:H.privateKeyFromPem(u),publicKey:H.publicKeyFromPem(c)})});if(qs("generateKey")&&qs("exportKey"))return et.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:Hs(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(s){return et.globalScope.crypto.subtle.exportKey("pkcs8",s.privateKey)}).then(void 0,function(s){n(s)}).then(function(s){if(s){var c=H.privateKeyFromAsn1(x.fromDer(O.util.createBuffer(s)));n(null,{privateKey:c,publicKey:H.setRsaPublicKey(c.n,c.e)})}});if(zs("generateKey")&&zs("exportKey")){var i=et.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:Hs(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);i.oncomplete=function(s){var c=s.target.result,u=et.globalScope.msCrypto.subtle.exportKey("pkcs8",c.privateKey);u.oncomplete=function(f){var l=f.target.result,h=H.privateKeyFromAsn1(x.fromDer(O.util.createBuffer(l)));n(null,{privateKey:h,publicKey:H.setRsaPublicKey(h.n,h.e)})},u.onerror=function(f){n(f)}},i.onerror=function(s){n(s)};return}}else if(Vs("generateKeyPairSync")){var o=uo.generateKeyPairSync("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:H.privateKeyFromPem(o.privateKey),publicKey:H.publicKeyFromPem(o.publicKey)}}}var a=H.rsa.createKeyPairGenerationState(e,t,r);if(!n)return H.rsa.stepKeyPairGenerationState(a,0),a.keys;xp(a,r,n)};H.setRsaPublicKey=H.rsa.setPublicKey=function(e,t){var r={n:e,e:t};return r.encrypt=function(n,i,o){if(typeof i=="string"?i=i.toUpperCase():i===void 0&&(i="RSAES-PKCS1-V1_5"),i==="RSAES-PKCS1-V1_5")i={encode:function(s,c,u){return $s(s,c,2).getBytes()}};else if(i==="RSA-OAEP"||i==="RSAES-OAEP")i={encode:function(s,c){return O.pkcs1.encode_rsa_oaep(c,s,o)}};else if(["RAW","NONE","NULL",null].indexOf(i)!==-1)i={encode:function(s){return s}};else if(typeof i=="string")throw new Error('Unsupported encryption scheme: "'+i+'".');var a=i.encode(n,r,!0);return H.rsa.encrypt(a,r,!0)},r.verify=function(n,i,o,a){typeof o=="string"?o=o.toUpperCase():o===void 0&&(o="RSASSA-PKCS1-V1_5"),a===void 0&&(a={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in a||(a._parseAllDigestBytes=!0),o==="RSASSA-PKCS1-V1_5"?o={verify:function(c,u){u=ri(u,r,!0);var f=x.fromDer(u,{parseAllBytes:a._parseAllDigestBytes}),l={},h=[];if(!x.validate(f,gp,l,h)){var d=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw d.errors=h,d}var p=x.derToOid(l.algorithmIdentifier);if(!(p===O.oids.md2||p===O.oids.md5||p===O.oids.sha1||p===O.oids.sha224||p===O.oids.sha256||p===O.oids.sha384||p===O.oids.sha512||p===O.oids["sha512-224"]||p===O.oids["sha512-256"])){var d=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw d.oid=p,d}if((p===O.oids.md2||p===O.oids.md5)&&!("parameters"in l))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return c===l.digest}}:(o==="NONE"||o==="NULL"||o===null)&&(o={verify:function(c,u){return u=ri(u,r,!0),c===u}});var s=H.rsa.decrypt(i,r,!0,!1);return o.verify(n,s,r.n.bitLength())},r};H.setRsaPrivateKey=H.rsa.setPrivateKey=function(e,t,r,n,i,o,a,s){var c={n:e,e:t,d:r,p:n,q:i,dP:o,dQ:a,qInv:s};return c.decrypt=function(u,f,l){typeof f=="string"?f=f.toUpperCase():f===void 0&&(f="RSAES-PKCS1-V1_5");var h=H.rsa.decrypt(u,c,!1,!1);if(f==="RSAES-PKCS1-V1_5")f={decode:ri};else if(f==="RSA-OAEP"||f==="RSAES-OAEP")f={decode:function(d,p){return O.pkcs1.decode_rsa_oaep(p,d,l)}};else if(["RAW","NONE","NULL",null].indexOf(f)!==-1)f={decode:function(d){return d}};else throw new Error('Unsupported encryption scheme: "'+f+'".');return f.decode(h,c,!1)},c.sign=function(u,f){var l=!1;typeof f=="string"&&(f=f.toUpperCase()),f===void 0||f==="RSASSA-PKCS1-V1_5"?(f={encode:mp},l=1):(f==="NONE"||f==="NULL"||f===null)&&(f={encode:function(){return u}},l=1);var h=f.encode(u,c.n.bitLength());return H.rsa.encrypt(h,c,l)},c};H.wrapRsaPrivateKey=function(e){return x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[x.create(x.Class.UNIVERSAL,x.Type.INTEGER,!1,x.integerToDer(0).getBytes()),x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[x.create(x.Class.UNIVERSAL,x.Type.OID,!1,x.oidToDer(H.oids.rsaEncryption).getBytes()),x.create(x.Class.UNIVERSAL,x.Type.NULL,!1,"")]),x.create(x.Class.UNIVERSAL,x.Type.OCTETSTRING,!1,x.toDer(e).getBytes())])};H.privateKeyFromAsn1=function(e){var t={},r=[];if(x.validate(e,hp,t,r)&&(e=x.fromDer(O.util.createBuffer(t.privateKey))),t={},r=[],!x.validate(e,pp,t,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var i,o,a,s,c,u,f,l;return i=O.util.createBuffer(t.privateKeyModulus).toHex(),o=O.util.createBuffer(t.privateKeyPublicExponent).toHex(),a=O.util.createBuffer(t.privateKeyPrivateExponent).toHex(),s=O.util.createBuffer(t.privateKeyPrime1).toHex(),c=O.util.createBuffer(t.privateKeyPrime2).toHex(),u=O.util.createBuffer(t.privateKeyExponent1).toHex(),f=O.util.createBuffer(t.privateKeyExponent2).toHex(),l=O.util.createBuffer(t.privateKeyCoefficient).toHex(),H.setRsaPrivateKey(new X(i,16),new X(o,16),new X(a,16),new X(s,16),new X(c,16),new X(u,16),new X(f,16),new X(l,16))};H.privateKeyToAsn1=H.privateKeyToRSAPrivateKey=function(e){return x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[x.create(x.Class.UNIVERSAL,x.Type.INTEGER,!1,x.integerToDer(0).getBytes()),x.create(x.Class.UNIVERSAL,x.Type.INTEGER,!1,bt(e.n)),x.create(x.Class.UNIVERSAL,x.Type.INTEGER,!1,bt(e.e)),x.create(x.Class.UNIVERSAL,x.Type.INTEGER,!1,bt(e.d)),x.create(x.Class.UNIVERSAL,x.Type.INTEGER,!1,bt(e.p)),x.create(x.Class.UNIVERSAL,x.Type.INTEGER,!1,bt(e.q)),x.create(x.Class.UNIVERSAL,x.Type.INTEGER,!1,bt(e.dP)),x.create(x.Class.UNIVERSAL,x.Type.INTEGER,!1,bt(e.dQ)),x.create(x.Class.UNIVERSAL,x.Type.INTEGER,!1,bt(e.qInv))])};H.publicKeyFromAsn1=function(e){var t={},r=[];if(x.validate(e,yp,t,r)){var n=x.derToOid(t.publicKeyOid);if(n!==H.oids.rsaEncryption){var i=new Error("Cannot read public key. Unknown OID.");throw i.oid=n,i}e=t.rsaPublicKey}if(r=[],!x.validate(e,dp,t,r)){var i=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw i.errors=r,i}var o=O.util.createBuffer(t.publicKeyModulus).toHex(),a=O.util.createBuffer(t.publicKeyExponent).toHex();return H.setRsaPublicKey(new X(o,16),new X(a,16))};H.publicKeyToAsn1=H.publicKeyToSubjectPublicKeyInfo=function(e){return x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[x.create(x.Class.UNIVERSAL,x.Type.OID,!1,x.oidToDer(H.oids.rsaEncryption).getBytes()),x.create(x.Class.UNIVERSAL,x.Type.NULL,!1,"")]),x.create(x.Class.UNIVERSAL,x.Type.BITSTRING,!1,[H.publicKeyToRSAPublicKey(e)])])};H.publicKeyToRSAPublicKey=function(e){return x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[x.create(x.Class.UNIVERSAL,x.Type.INTEGER,!1,bt(e.n)),x.create(x.Class.UNIVERSAL,x.Type.INTEGER,!1,bt(e.e))])};function $s(e,t,r){var n=O.util.createBuffer(),i=Math.ceil(t.n.bitLength()/8);if(e.length>i-11){var o=new Error("Message is too long for PKCS#1 v1.5 padding.");throw o.length=e.length,o.max=i-11,o}n.putByte(0),n.putByte(r);var a=i-3-e.length,s;if(r===0||r===1){s=r===0?0:255;for(var c=0;c<a;++c)n.putByte(s)}else for(;a>0;){for(var u=0,f=O.random.getBytes(a),c=0;c<a;++c)s=f.charCodeAt(c),s===0?++u:n.putByte(s);a=u}return n.putByte(0),n.putBytes(e),n}function ri(e,t,r,n){var i=Math.ceil(t.n.bitLength()/8),o=O.util.createBuffer(e),a=o.getByte(),s=o.getByte();if(a!==0||r&&s!==0&&s!==1||!r&&s!=2||r&&s===0&&typeof n>"u")throw new Error("Encryption block is invalid.");var c=0;if(s===0){c=i-3-n;for(var u=0;u<c;++u)if(o.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(s===1)for(c=0;o.length()>1;){if(o.getByte()!==255){--o.read;break}++c}else if(s===2)for(c=0;o.length()>1;){if(o.getByte()===0){--o.read;break}++c}var f=o.getByte();if(f!==0||c!==i-3-o.length())throw new Error("Encryption block is invalid.");return o.getBytes()}function xp(e,t,r){typeof t=="function"&&(r=t,t={}),t=t||{};var n={algorithm:{name:t.algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};"prng"in t&&(n.prng=t.prng),i();function i(){o(e.pBits,function(s,c){if(s)return r(s);if(e.p=c,e.q!==null)return a(s,e.q);o(e.qBits,a)})}function o(s,c){O.prime.generateProbablePrime(s,n,c)}function a(s,c){if(s)return r(s);if(e.q=c,e.p.compareTo(e.q)<0){var u=e.p;e.p=e.q,e.q=u}if(e.p.subtract(X.ONE).gcd(e.e).compareTo(X.ONE)!==0){e.p=null,i();return}if(e.q.subtract(X.ONE).gcd(e.e).compareTo(X.ONE)!==0){e.q=null,o(e.qBits,a);return}if(e.p1=e.p.subtract(X.ONE),e.q1=e.q.subtract(X.ONE),e.phi=e.p1.multiply(e.q1),e.phi.gcd(e.e).compareTo(X.ONE)!==0){e.p=e.q=null,i();return}if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits){e.q=null,o(e.qBits,a);return}var f=e.e.modInverse(e.phi);e.keys={privateKey:H.rsa.setPrivateKey(e.n,e.e,f,e.p,e.q,f.mod(e.p1),f.mod(e.q1),e.q.modInverse(e.p)),publicKey:H.rsa.setPublicKey(e.n,e.e)},r(null,e.keys)}}function bt(e){var t=e.toString(16);t[0]>="8"&&(t="00"+t);var r=O.util.hexToBytes(t);return r.length>1&&(r.charCodeAt(0)===0&&!(r.charCodeAt(1)&128)||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)===128)?r.substr(1):r}function vp(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}function Vs(e){return O.util.isNodejs&&typeof uo[e]=="function"}function qs(e){return typeof et.globalScope<"u"&&typeof et.globalScope.crypto=="object"&&typeof et.globalScope.crypto.subtle=="object"&&typeof et.globalScope.crypto.subtle[e]=="function"}function zs(e){return typeof et.globalScope<"u"&&typeof et.globalScope.msCrypto=="object"&&typeof et.globalScope.msCrypto.subtle=="object"&&typeof et.globalScope.msCrypto.subtle[e]=="function"}function Hs(e){for(var t=O.util.hexToBytes(e.toString(16)),r=new Uint8Array(t.length),n=0;n<t.length;++n)r[n]=t.charCodeAt(n);return r}});var js=z((p2,Js)=>{var N=ue();ji();ln();ns();or();qn();us();ls();hn();Ss();ni();Be();typeof Ys>"u"&&(Ys=N.jsbn.BigInteger);var Ys,b=N.asn1,W=N.pki=N.pki||{};Js.exports=W.pbe=N.pbe=N.pbe||{};var ur=W.oids,bp={name:"EncryptedPrivateKeyInfo",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:b.Class.UNIVERSAL,type:b.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:b.Class.UNIVERSAL,type:b.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},wp={name:"PBES2Algorithms",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:b.Class.UNIVERSAL,type:b.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:b.Class.UNIVERSAL,type:b.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:b.Class.UNIVERSAL,type:b.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:b.Class.UNIVERSAL,type:b.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:b.Class.UNIVERSAL,type:b.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:b.Class.UNIVERSAL,type:b.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:b.Class.UNIVERSAL,type:b.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},Ep={name:"pkcs-12PbeParams",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:b.Class.UNIVERSAL,type:b.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:b.Class.UNIVERSAL,type:b.Type.INTEGER,constructed:!1,capture:"iterations"}]};W.encryptPrivateKeyInfo=function(e,t,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=N.random.getBytesSync(r.saltSize),i=r.count,o=b.integerToDer(i),a,s,c;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var u,f,l;switch(r.algorithm){case"aes128":a=16,u=16,f=ur["aes128-CBC"],l=N.aes.createEncryptionCipher;break;case"aes192":a=24,u=16,f=ur["aes192-CBC"],l=N.aes.createEncryptionCipher;break;case"aes256":a=32,u=16,f=ur["aes256-CBC"],l=N.aes.createEncryptionCipher;break;case"des":a=8,u=8,f=ur.desCBC,l=N.des.createEncryptionCipher;break;default:var h=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw h.algorithm=r.algorithm,h}var d="hmacWith"+r.prfAlgorithm.toUpperCase(),p=Xs(d),y=N.pkcs5.pbkdf2(t,n,i,a,p),m=N.random.getBytesSync(u),v=l(y);v.start(m),v.update(b.toDer(e)),v.finish(),c=v.output.getBytes();var E=Sp(n,o,a,d);s=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(ur.pkcs5PBES2).getBytes()),b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(ur.pkcs5PBKDF2).getBytes()),E]),b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(f).getBytes()),b.create(b.Class.UNIVERSAL,b.Type.OCTETSTRING,!1,m)])])])}else if(r.algorithm==="3des"){a=24;var C=new N.util.ByteBuffer(n),y=W.pbe.generatePkcs12Key(t,C,1,i,a),m=W.pbe.generatePkcs12Key(t,C,2,i,a),v=N.des.createEncryptionCipher(y);v.start(m),v.update(b.toDer(e)),v.finish(),c=v.output.getBytes(),s=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(ur["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OCTETSTRING,!1,n),b.create(b.Class.UNIVERSAL,b.Type.INTEGER,!1,o.getBytes())])])}else{var h=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw h.algorithm=r.algorithm,h}var L=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[s,b.create(b.Class.UNIVERSAL,b.Type.OCTETSTRING,!1,c)]);return L};W.decryptPrivateKeyInfo=function(e,t){var r=null,n={},i=[];if(!b.validate(e,bp,n,i)){var o=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw o.errors=i,o}var a=b.derToOid(n.encryptionOid),s=W.pbe.getCipher(a,n.encryptionParams,t),c=N.util.createBuffer(n.encryptedData);return s.update(c),s.finish()&&(r=b.fromDer(s.output)),r};W.encryptedPrivateKeyToPem=function(e,t){var r={type:"ENCRYPTED PRIVATE KEY",body:b.toDer(e).getBytes()};return N.pem.encode(r,{maxline:t})};W.encryptedPrivateKeyFromPem=function(e){var t=N.pem.decode(e)[0];if(t.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return b.fromDer(t.body)};W.encryptRsaPrivateKey=function(e,t,r){if(r=r||{},!r.legacy){var n=W.wrapRsaPrivateKey(W.privateKeyToAsn1(e));return n=W.encryptPrivateKeyInfo(n,t,r),W.encryptedPrivateKeyToPem(n)}var i,o,a,s;switch(r.algorithm){case"aes128":i="AES-128-CBC",a=16,o=N.random.getBytesSync(16),s=N.aes.createEncryptionCipher;break;case"aes192":i="AES-192-CBC",a=24,o=N.random.getBytesSync(16),s=N.aes.createEncryptionCipher;break;case"aes256":i="AES-256-CBC",a=32,o=N.random.getBytesSync(16),s=N.aes.createEncryptionCipher;break;case"3des":i="DES-EDE3-CBC",a=24,o=N.random.getBytesSync(8),s=N.des.createEncryptionCipher;break;case"des":i="DES-CBC",a=8,o=N.random.getBytesSync(8),s=N.des.createEncryptionCipher;break;default:var c=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw c.algorithm=r.algorithm,c}var u=N.pbe.opensslDeriveBytes(t,o.substr(0,8),a),f=s(u);f.start(o),f.update(b.toDer(W.privateKeyToAsn1(e))),f.finish();var l={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:i,parameters:N.util.bytesToHex(o).toUpperCase()},body:f.output.getBytes()};return N.pem.encode(l)};W.decryptRsaPrivateKey=function(e,t){var r=null,n=N.pem.decode(e)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var i=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw i.headerType=i,i}if(n.procType&&n.procType.type==="ENCRYPTED"){var o,a;switch(n.dekInfo.algorithm){case"DES-CBC":o=8,a=N.des.createDecryptionCipher;break;case"DES-EDE3-CBC":o=24,a=N.des.createDecryptionCipher;break;case"AES-128-CBC":o=16,a=N.aes.createDecryptionCipher;break;case"AES-192-CBC":o=24,a=N.aes.createDecryptionCipher;break;case"AES-256-CBC":o=32,a=N.aes.createDecryptionCipher;break;case"RC2-40-CBC":o=5,a=function(l){return N.rc2.createDecryptionCipher(l,40)};break;case"RC2-64-CBC":o=8,a=function(l){return N.rc2.createDecryptionCipher(l,64)};break;case"RC2-128-CBC":o=16,a=function(l){return N.rc2.createDecryptionCipher(l,128)};break;default:var i=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw i.algorithm=n.dekInfo.algorithm,i}var s=N.util.hexToBytes(n.dekInfo.parameters),c=N.pbe.opensslDeriveBytes(t,s.substr(0,8),o),u=a(c);if(u.start(s),u.update(N.util.createBuffer(n.body)),u.finish())r=u.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=W.decryptPrivateKeyInfo(b.fromDer(r),t):r=b.fromDer(r),r!==null&&(r=W.privateKeyFromAsn1(r)),r};W.pbe.generatePkcs12Key=function(e,t,r,n,i,o){var a,s;if(typeof o>"u"||o===null){if(!("sha1"in N.md))throw new Error('"sha1" hash algorithm unavailable.');o=N.md.sha1.create()}var c=o.digestLength,u=o.blockLength,f=new N.util.ByteBuffer,l=new N.util.ByteBuffer;if(e!=null){for(s=0;s<e.length;s++)l.putInt16(e.charCodeAt(s));l.putInt16(0)}var h=l.length(),d=t.length(),p=new N.util.ByteBuffer;p.fillWithByte(r,u);var y=u*Math.ceil(d/u),m=new N.util.ByteBuffer;for(s=0;s<y;s++)m.putByte(t.at(s%d));var v=u*Math.ceil(h/u),E=new N.util.ByteBuffer;for(s=0;s<v;s++)E.putByte(l.at(s%h));var C=m;C.putBuffer(E);for(var L=Math.ceil(i/c),_=1;_<=L;_++){var I=new N.util.ByteBuffer;I.putBytes(p.bytes()),I.putBytes(C.bytes());for(var G=0;G<n;G++)o.start(),o.update(I.getBytes()),I=o.digest();var T=new N.util.ByteBuffer;for(s=0;s<u;s++)T.putByte(I.at(s%c));var K=Math.ceil(d/u)+Math.ceil(h/u),$=new N.util.ByteBuffer;for(a=0;a<K;a++){var V=new N.util.ByteBuffer(C.getBytes(u)),M=511;for(s=T.length()-1;s>=0;s--)M=M>>8,M+=T.at(s)+V.at(s),V.setAt(s,M&255);$.putBuffer(V)}C=$,f.putBuffer(I)}return f.truncate(f.length()-i),f};W.pbe.getCipher=function(e,t,r){switch(e){case W.oids.pkcs5PBES2:return W.pbe.getCipherForPBES2(e,t,r);case W.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case W.oids["pbewithSHAAnd40BitRC2-CBC"]:return W.pbe.getCipherForPKCS12PBE(e,t,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=e,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};W.pbe.getCipherForPBES2=function(e,t,r){var n={},i=[];if(!b.validate(t,wp,n,i)){var o=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw o.errors=i,o}if(e=b.derToOid(n.kdfOid),e!==W.oids.pkcs5PBKDF2){var o=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw o.oid=e,o.supportedOids=["pkcs5PBKDF2"],o}if(e=b.derToOid(n.encOid),e!==W.oids["aes128-CBC"]&&e!==W.oids["aes192-CBC"]&&e!==W.oids["aes256-CBC"]&&e!==W.oids["des-EDE3-CBC"]&&e!==W.oids.desCBC){var o=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw o.oid=e,o.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],o}var a=n.kdfSalt,s=N.util.createBuffer(n.kdfIterationCount);s=s.getInt(s.length()<<3);var c,u;switch(W.oids[e]){case"aes128-CBC":c=16,u=N.aes.createDecryptionCipher;break;case"aes192-CBC":c=24,u=N.aes.createDecryptionCipher;break;case"aes256-CBC":c=32,u=N.aes.createDecryptionCipher;break;case"des-EDE3-CBC":c=24,u=N.des.createDecryptionCipher;break;case"desCBC":c=8,u=N.des.createDecryptionCipher;break}var f=Qs(n.prfOid),l=N.pkcs5.pbkdf2(r,a,s,c,f),h=n.encIv,d=u(l);return d.start(h),d};W.pbe.getCipherForPKCS12PBE=function(e,t,r){var n={},i=[];if(!b.validate(t,Ep,n,i)){var o=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw o.errors=i,o}var a=N.util.createBuffer(n.salt),s=N.util.createBuffer(n.iterations);s=s.getInt(s.length()<<3);var c,u,f;switch(e){case W.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:c=24,u=8,f=N.des.startDecrypting;break;case W.oids["pbewithSHAAnd40BitRC2-CBC"]:c=5,u=8,f=function(y,m){var v=N.rc2.createDecryptionCipher(y,40);return v.start(m,null),v};break;default:var o=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw o.oid=e,o}var l=Qs(n.prfOid),h=W.pbe.generatePkcs12Key(r,a,1,s,c,l);l.start();var d=W.pbe.generatePkcs12Key(r,a,2,s,u,l);return f(h,d)};W.pbe.opensslDeriveBytes=function(e,t,r,n){if(typeof n>"u"||n===null){if(!("md5"in N.md))throw new Error('"md5" hash algorithm unavailable.');n=N.md.md5.create()}t===null&&(t="");for(var i=[Zs(n,e+t)],o=16,a=1;o<r;++a,o+=16)i.push(Zs(n,i[a-1]+e+t));return i.join("").substr(0,r)};function Zs(e,t){return e.start().update(t).digest().getBytes()}function Qs(e){var t;if(!e)t="hmacWithSHA1";else if(t=W.oids[b.derToOid(e)],!t){var r=new Error("Unsupported PRF OID.");throw r.oid=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return Xs(t)}function Xs(e){var t=N.md;switch(e){case"hmacWithSHA224":t=N.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!t||!(e in t))throw new Error("Unknown hash algorithm: "+e);return t[e].create()}function Sp(e,t,r,n){var i=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OCTETSTRING,!1,e),b.create(b.Class.UNIVERSAL,b.Type.INTEGER,!1,t.getBytes())]);return n!=="hmacWithSHA1"&&i.value.push(b.create(b.Class.UNIVERSAL,b.Type.INTEGER,!1,N.util.hexToBytes(r.toString(16))),b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(W.oids[n]).getBytes()),b.create(b.Class.UNIVERSAL,b.Type.NULL,!1,"")])),i}});var P0=z((xg,L0)=>{"use strict";L0.exports=$d;function $d(e,t){for(var r=new Array(arguments.length-1),n=0,i=2,o=!0;i<arguments.length;)r[n++]=arguments[i++];return new Promise(function(s,c){r[n]=function(f){if(o)if(o=!1,f)c(f);else{for(var l=new Array(arguments.length-1),h=0;h<l.length;)l[h++]=arguments[h];s.apply(null,l)}};try{e.apply(t||null,r)}catch(u){o&&(o=!1,c(u))}})}});var M0=z(O0=>{"use strict";var hi=O0;hi.length=function(t){var r=t.length;if(!r)return 0;for(var n=0;--r%4>1&&t.charAt(r)==="=";)++n;return Math.ceil(t.length*3)/4-n};var Pr=new Array(64),F0=new Array(123);for(ut=0;ut<64;)F0[Pr[ut]=ut<26?ut+65:ut<52?ut+71:ut<62?ut-4:ut-59|43]=ut++;var ut;hi.encode=function(t,r,n){for(var i=null,o=[],a=0,s=0,c;r<n;){var u=t[r++];switch(s){case 0:o[a++]=Pr[u>>2],c=(u&3)<<4,s=1;break;case 1:o[a++]=Pr[c|u>>4],c=(u&15)<<2,s=2;break;case 2:o[a++]=Pr[c|u>>6],o[a++]=Pr[u&63],s=0;break}a>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),a=0)}return s&&(o[a++]=Pr[c],o[a++]=61,s===1&&(o[a++]=61)),i?(a&&i.push(String.fromCharCode.apply(String,o.slice(0,a))),i.join("")):String.fromCharCode.apply(String,o.slice(0,a))};var K0="invalid encoding";hi.decode=function(t,r,n){for(var i=n,o=0,a,s=0;s<t.length;){var c=t.charCodeAt(s++);if(c===61&&o>1)break;if((c=F0[c])===void 0)throw Error(K0);switch(o){case 0:a=c,o=1;break;case 1:r[n++]=a<<2|(c&48)>>4,a=c,o=2;break;case 2:r[n++]=(a&15)<<4|(c&60)>>2,a=c,o=3;break;case 3:r[n++]=(a&3)<<6|c,o=0;break}}if(o===1)throw Error(K0);return n-i};hi.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)}});var q0=z((bg,V0)=>{"use strict";V0.exports=pi;function pi(){this._listeners={}}pi.prototype.on=function(t,r,n){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:r,ctx:n||this}),this};pi.prototype.off=function(t,r){if(t===void 0)this._listeners={};else if(r===void 0)this._listeners[t]=[];else for(var n=this._listeners[t],i=0;i<n.length;)n[i].fn===r?n.splice(i,1):++i;return this};pi.prototype.emit=function(t){var r=this._listeners[t];if(r){for(var n=[],i=1;i<arguments.length;)n.push(arguments[i++]);for(i=0;i<r.length;)r[i].fn.apply(r[i++].ctx,n)}return this}});var Z0=z((wg,Y0)=>{"use strict";Y0.exports=z0(z0);function z0(e){return typeof Float32Array<"u"?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=r[3]===128;function i(c,u,f){t[0]=c,u[f]=r[0],u[f+1]=r[1],u[f+2]=r[2],u[f+3]=r[3]}function o(c,u,f){t[0]=c,u[f]=r[3],u[f+1]=r[2],u[f+2]=r[1],u[f+3]=r[0]}e.writeFloatLE=n?i:o,e.writeFloatBE=n?o:i;function a(c,u){return r[0]=c[u],r[1]=c[u+1],r[2]=c[u+2],r[3]=c[u+3],t[0]}function s(c,u){return r[3]=c[u],r[2]=c[u+1],r[1]=c[u+2],r[0]=c[u+3],t[0]}e.readFloatLE=n?a:s,e.readFloatBE=n?s:a}():function(){function t(n,i,o,a){var s=i<0?1:0;if(s&&(i=-i),i===0)n(1/i>0?0:2147483648,o,a);else if(isNaN(i))n(2143289344,o,a);else if(i>34028234663852886e22)n((s<<31|2139095040)>>>0,o,a);else if(i<11754943508222875e-54)n((s<<31|Math.round(i/1401298464324817e-60))>>>0,o,a);else{var c=Math.floor(Math.log(i)/Math.LN2),u=Math.round(i*Math.pow(2,-c)*8388608)&8388607;n((s<<31|c+127<<23|u)>>>0,o,a)}}e.writeFloatLE=t.bind(null,H0),e.writeFloatBE=t.bind(null,G0);function r(n,i,o){var a=n(i,o),s=(a>>31)*2+1,c=a>>>23&255,u=a&8388607;return c===255?u?NaN:s*(1/0):c===0?s*1401298464324817e-60*u:s*Math.pow(2,c-150)*(u+8388608)}e.readFloatLE=r.bind(null,$0),e.readFloatBE=r.bind(null,W0)}(),typeof Float64Array<"u"?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=r[7]===128;function i(c,u,f){t[0]=c,u[f]=r[0],u[f+1]=r[1],u[f+2]=r[2],u[f+3]=r[3],u[f+4]=r[4],u[f+5]=r[5],u[f+6]=r[6],u[f+7]=r[7]}function o(c,u,f){t[0]=c,u[f]=r[7],u[f+1]=r[6],u[f+2]=r[5],u[f+3]=r[4],u[f+4]=r[3],u[f+5]=r[2],u[f+6]=r[1],u[f+7]=r[0]}e.writeDoubleLE=n?i:o,e.writeDoubleBE=n?o:i;function a(c,u){return r[0]=c[u],r[1]=c[u+1],r[2]=c[u+2],r[3]=c[u+3],r[4]=c[u+4],r[5]=c[u+5],r[6]=c[u+6],r[7]=c[u+7],t[0]}function s(c,u){return r[7]=c[u],r[6]=c[u+1],r[5]=c[u+2],r[4]=c[u+3],r[3]=c[u+4],r[2]=c[u+5],r[1]=c[u+6],r[0]=c[u+7],t[0]}e.readDoubleLE=n?a:s,e.readDoubleBE=n?s:a}():function(){function t(n,i,o,a,s,c){var u=a<0?1:0;if(u&&(a=-a),a===0)n(0,s,c+i),n(1/a>0?0:2147483648,s,c+o);else if(isNaN(a))n(0,s,c+i),n(2146959360,s,c+o);else if(a>17976931348623157e292)n(0,s,c+i),n((u<<31|2146435072)>>>0,s,c+o);else{var f;if(a<22250738585072014e-324)f=a/5e-324,n(f>>>0,s,c+i),n((u<<31|f/4294967296)>>>0,s,c+o);else{var l=Math.floor(Math.log(a)/Math.LN2);l===1024&&(l=1023),f=a*Math.pow(2,-l),n(f*4503599627370496>>>0,s,c+i),n((u<<31|l+1023<<20|f*1048576&1048575)>>>0,s,c+o)}}}e.writeDoubleLE=t.bind(null,H0,0,4),e.writeDoubleBE=t.bind(null,G0,4,0);function r(n,i,o,a,s){var c=n(a,s+i),u=n(a,s+o),f=(u>>31)*2+1,l=u>>>20&2047,h=4294967296*(u&1048575)+c;return l===2047?h?NaN:f*(1/0):l===0?f*5e-324*h:f*Math.pow(2,l-1075)*(h+4503599627370496)}e.readDoubleLE=r.bind(null,$0,0,4),e.readDoubleBE=r.bind(null,W0,4,0)}(),e}function H0(e,t,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function G0(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=e&255}function $0(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function W0(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}});var Q0=z((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}});var J0=z(X0=>{"use strict";var qo=X0;qo.length=function(t){for(var r=0,n=0,i=0;i<t.length;++i)n=t.charCodeAt(i),n<128?r+=1:n<2048?r+=2:(n&64512)===55296&&(t.charCodeAt(i+1)&64512)===56320?(++i,r+=4):r+=3;return r};qo.read=function(t,r,n){var i=n-r;if(i<1)return"";for(var o=null,a=[],s=0,c;r<n;)c=t[r++],c<128?a[s++]=c:c>191&&c<224?a[s++]=(c&31)<<6|t[r++]&63:c>239&&c<365?(c=((c&7)<<18|(t[r++]&63)<<12|(t[r++]&63)<<6|t[r++]&63)-65536,a[s++]=55296+(c>>10),a[s++]=56320+(c&1023)):a[s++]=(c&15)<<12|(t[r++]&63)<<6|t[r++]&63,s>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,a)),s=0);return o?(s&&o.push(String.fromCharCode.apply(String,a.slice(0,s))),o.join("")):String.fromCharCode.apply(String,a.slice(0,s))};qo.write=function(t,r,n){for(var i=n,o,a,s=0;s<t.length;++s)o=t.charCodeAt(s),o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=o&63|128):(o&64512)===55296&&((a=t.charCodeAt(s+1))&64512)===56320?(o=65536+((o&1023)<<10)+(a&1023),++s,r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=o&63|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=o&63|128);return n-i}});var eu=z((Sg,j0)=>{"use strict";j0.exports=Wd;function Wd(e,t,r){var n=r||8192,i=n>>>1,o=null,a=n;return function(c){if(c<1||c>i)return e(c);a+c>n&&(o=e(n),a=0);var u=t.call(o,a,a+=c);return a&7&&(a=(a|7)+1),u}}});var ru=z((Bg,tu)=>{"use strict";tu.exports=Re;var wn=pr();function Re(e,t){this.lo=e>>>0,this.hi=t>>>0}var hr=Re.zero=new Re(0,0);hr.toNumber=function(){return 0};hr.zzEncode=hr.zzDecode=function(){return this};hr.length=function(){return 1};var Yd=Re.zeroHash="\0\0\0\0\0\0\0\0";Re.fromNumber=function(t){if(t===0)return hr;var r=t<0;r&&(t=-t);var n=t>>>0,i=(t-n)/4294967296>>>0;return r&&(i=~i>>>0,n=~n>>>0,++n>4294967295&&(n=0,++i>4294967295&&(i=0))),new Re(n,i)};Re.from=function(t){if(typeof t=="number")return Re.fromNumber(t);if(wn.isString(t))if(wn.Long)t=wn.Long.fromString(t);else return Re.fromNumber(parseInt(t,10));return t.low||t.high?new Re(t.low>>>0,t.high>>>0):hr};Re.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var r=~this.lo+1>>>0,n=~this.hi>>>0;return r||(n=n+1>>>0),-(r+n*4294967296)}return this.lo+this.hi*4294967296};Re.prototype.toLong=function(t){return wn.Long?new wn.Long(this.lo|0,this.hi|0,!!t):{low:this.lo|0,high:this.hi|0,unsigned:!!t}};var Xt=String.prototype.charCodeAt;Re.fromHash=function(t){return t===Yd?hr:new Re((Xt.call(t,0)|Xt.call(t,1)<<8|Xt.call(t,2)<<16|Xt.call(t,3)<<24)>>>0,(Xt.call(t,4)|Xt.call(t,5)<<8|Xt.call(t,6)<<16|Xt.call(t,7)<<24)>>>0)};Re.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};Re.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this};Re.prototype.zzDecode=function(){var t=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this};Re.prototype.length=function(){var t=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?r===0?t<16384?t<128?1:2:t<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:n<128?9:10}});var pr=z(zo=>{"use strict";var F=zo;F.asPromise=P0();F.base64=M0();F.EventEmitter=q0();F.float=Z0();F.inquire=Q0();F.utf8=J0();F.pool=eu();F.LongBits=ru();F.isNode=!!(typeof globalThis<"u"&&globalThis&&globalThis.process&&globalThis.process.versions&&globalThis.process.versions.node);F.global=F.isNode&&globalThis||typeof window<"u"&&window||typeof self<"u"&&self||zo;F.emptyArray=Object.freeze?Object.freeze([]):[];F.emptyObject=Object.freeze?Object.freeze({}):{};F.isInteger=Number.isInteger||function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t};F.isString=function(t){return typeof t=="string"||t instanceof String};F.isObject=function(t){return t&&typeof t=="object"};F.isset=F.isSet=function(t,r){var n=t[r];return n!=null&&t.hasOwnProperty(r)?typeof n!="object"||(Array.isArray(n)?n.length:Object.keys(n).length)>0:!1};F.Buffer=function(){try{var e=F.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch{return null}}();F._Buffer_from=null;F._Buffer_allocUnsafe=null;F.newBuffer=function(t){return typeof t=="number"?F.Buffer?F._Buffer_allocUnsafe(t):new F.Array(t):F.Buffer?F._Buffer_from(t):typeof Uint8Array>"u"?t:new Uint8Array(t)};F.Array=typeof Uint8Array<"u"?Uint8Array:Array;F.Long=F.global.dcodeIO&&F.global.dcodeIO.Long||F.global.Long||F.inquire("long");F.key2Re=/^true|false|0|1$/;F.key32Re=/^-?(?:0|[1-9][0-9]*)$/;F.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;F.longToHash=function(t){return t?F.LongBits.from(t).toHash():F.LongBits.zeroHash};F.longFromHash=function(t,r){var n=F.LongBits.fromHash(t);return F.Long?F.Long.fromBits(n.lo,n.hi,r):n.toNumber(!!r)};function nu(e,t,r){for(var n=Object.keys(t),i=0;i<n.length;++i)(e[n[i]]===void 0||!r)&&(e[n[i]]=t[n[i]]);return e}F.merge=nu;F.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)};function iu(e){function t(r,n){if(!(this instanceof t))return new t(r,n);Object.defineProperty(this,"message",{get:function(){return r}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:new Error().stack||""}),n&&nu(this,n)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return e},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}F.newError=iu;F.ProtocolError=iu("ProtocolError");F.oneOfGetter=function(t){for(var r={},n=0;n<t.length;++n)r[t[n]]=1;return function(){for(var i=Object.keys(this),o=i.length-1;o>-1;--o)if(r[i[o]]===1&&this[i[o]]!==void 0&&this[i[o]]!==null)return i[o]}};F.oneOfSetter=function(t){return function(r){for(var n=0;n<t.length;++n)t[n]!==r&&delete this[t[n]]}};F.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};F._configure=function(){var e=F.Buffer;if(!e){F._Buffer_from=F._Buffer_allocUnsafe=null;return}F._Buffer_from=e.from!==Uint8Array.from&&e.from||function(r,n){return new e(r,n)},F._Buffer_allocUnsafe=e.allocUnsafe||function(r){return new e(r)}}});var $o=z((Cg,cu)=>{"use strict";cu.exports=Se;var Bt=pr(),Go,su=Bt.LongBits,Zd=Bt.utf8;function ct(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function Se(e){this.buf=e,this.pos=0,this.len=e.length}var ou=typeof Uint8Array<"u"?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new Se(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new Se(t);throw Error("illegal buffer")},uu=function(){return Bt.Buffer?function(r){return(Se.create=function(i){return Bt.Buffer.isBuffer(i)?new Go(i):ou(i)})(r)}:ou};Se.create=uu();Se.prototype._slice=Bt.Array.prototype.subarray||Bt.Array.prototype.slice;Se.prototype.uint32=function(){var t=4294967295;return function(){if(t=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(t=(t|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return t;if((this.pos+=5)>this.len)throw this.pos=this.len,ct(this,10);return t}}();Se.prototype.int32=function(){return this.uint32()|0};Se.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(t&1)|0};function Ho(){var e=new su(0,0),t=0;if(this.len-this.pos>4){for(;t<4;++t)if(e.lo=(e.lo|(this.buf[this.pos]&127)<<t*7)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(this.buf[this.pos]&127)<<28)>>>0,e.hi=(e.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return e;t=0}else{for(;t<3;++t){if(this.pos>=this.len)throw ct(this);if(e.lo=(e.lo|(this.buf[this.pos]&127)<<t*7)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(this.buf[this.pos++]&127)<<t*7)>>>0,e}if(this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(this.buf[this.pos]&127)<<t*7+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw ct(this);if(e.hi=(e.hi|(this.buf[this.pos]&127)<<t*7+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}Se.prototype.bool=function(){return this.uint32()!==0};function di(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}Se.prototype.fixed32=function(){if(this.pos+4>this.len)throw ct(this,4);return di(this.buf,this.pos+=4)};Se.prototype.sfixed32=function(){if(this.pos+4>this.len)throw ct(this,4);return di(this.buf,this.pos+=4)|0};function au(){if(this.pos+8>this.len)throw ct(this,8);return new su(di(this.buf,this.pos+=4),di(this.buf,this.pos+=4))}Se.prototype.float=function(){if(this.pos+4>this.len)throw ct(this,4);var t=Bt.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t};Se.prototype.double=function(){if(this.pos+8>this.len)throw ct(this,4);var t=Bt.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t};Se.prototype.bytes=function(){var t=this.uint32(),r=this.pos,n=this.pos+t;if(n>this.len)throw ct(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(r,n):r===n?new this.buf.constructor(0):this._slice.call(this.buf,r,n)};Se.prototype.string=function(){var t=this.bytes();return Zd.read(t,0,t.length)};Se.prototype.skip=function(t){if(typeof t=="number"){if(this.pos+t>this.len)throw ct(this,t);this.pos+=t}else do if(this.pos>=this.len)throw ct(this);while(this.buf[this.pos++]&128);return this};Se.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(e=this.uint32()&7)!==4;)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this};Se._configure=function(e){Go=e,Se.create=uu(),Go._configure();var t=Bt.Long?"toLong":"toNumber";Bt.merge(Se.prototype,{int64:function(){return Ho.call(this)[t](!1)},uint64:function(){return Ho.call(this)[t](!0)},sint64:function(){return Ho.call(this).zzDecode()[t](!1)},fixed64:function(){return au.call(this)[t](!0)},sfixed64:function(){return au.call(this)[t](!1)}})}});var pu=z((Tg,hu)=>{"use strict";hu.exports=dr;var lu=$o();(dr.prototype=Object.create(lu.prototype)).constructor=dr;var fu=pr();function dr(e){lu.call(this,e)}dr._configure=function(){fu.Buffer&&(dr.prototype._slice=fu.Buffer.prototype.slice)};dr.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+t,this.len))};dr._configure()});var jo=z((Ig,mu)=>{"use strict";mu.exports=te;var tt=pr(),Wo,yi=tt.LongBits,du=tt.base64,yu=tt.utf8;function En(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function Zo(){}function Qd(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function te(){this.len=0,this.head=new En(Zo,0,0),this.tail=this.head,this.states=null}var gu=function(){return tt.Buffer?function(){return(te.create=function(){return new Wo})()}:function(){return new te}};te.create=gu();te.alloc=function(t){return new tt.Array(t)};tt.Array!==Array&&(te.alloc=tt.pool(te.alloc,tt.Array.prototype.subarray));te.prototype._push=function(t,r,n){return this.tail=this.tail.next=new En(t,r,n),this.len+=r,this};function Qo(e,t,r){t[r]=e&255}function Xd(e,t,r){for(;e>127;)t[r++]=e&127|128,e>>>=7;t[r]=e}function Xo(e,t){this.len=e,this.next=void 0,this.val=t}Xo.prototype=Object.create(En.prototype);Xo.prototype.fn=Xd;te.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new Xo((t=t>>>0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this};te.prototype.int32=function(t){return t<0?this._push(Jo,10,yi.fromNumber(t)):this.uint32(t)};te.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)};function Jo(e,t,r){for(;e.hi;)t[r++]=e.lo&127|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=e.lo&127|128,e.lo=e.lo>>>7;t[r++]=e.lo}te.prototype.uint64=function(t){var r=yi.from(t);return this._push(Jo,r.length(),r)};te.prototype.int64=te.prototype.uint64;te.prototype.sint64=function(t){var r=yi.from(t).zzEncode();return this._push(Jo,r.length(),r)};te.prototype.bool=function(t){return this._push(Qo,1,t?1:0)};function Yo(e,t,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}te.prototype.fixed32=function(t){return this._push(Yo,4,t>>>0)};te.prototype.sfixed32=te.prototype.fixed32;te.prototype.fixed64=function(t){var r=yi.from(t);return this._push(Yo,4,r.lo)._push(Yo,4,r.hi)};te.prototype.sfixed64=te.prototype.fixed64;te.prototype.float=function(t){return this._push(tt.float.writeFloatLE,4,t)};te.prototype.double=function(t){return this._push(tt.float.writeDoubleLE,8,t)};var Jd=tt.Array.prototype.set?function(t,r,n){r.set(t,n)}:function(t,r,n){for(var i=0;i<t.length;++i)r[n+i]=t[i]};te.prototype.bytes=function(t){var r=t.length>>>0;if(!r)return this._push(Qo,1,0);if(tt.isString(t)){var n=te.alloc(r=du.length(t));du.decode(t,n,0),t=n}return this.uint32(r)._push(Jd,r,t)};te.prototype.string=function(t){var r=yu.length(t);return r?this.uint32(r)._push(yu.write,r,t):this._push(Qo,1,0)};te.prototype.fork=function(){return this.states=new Qd(this),this.head=this.tail=new En(Zo,0,0),this.len=0,this};te.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new En(Zo,0,0),this.len=0),this};te.prototype.ldelim=function(){var t=this.head,r=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=t.next,this.tail=r,this.len+=n),this};te.prototype.finish=function(){for(var t=this.head.next,r=this.constructor.alloc(this.len),n=0;t;)t.fn(t.val,r,n),n+=t.len,t=t.next;return r};te._configure=function(e){Wo=e,te.create=gu(),Wo._configure()}});var bu=z((_g,vu)=>{"use strict";vu.exports=At;var xu=jo();(At.prototype=Object.create(xu.prototype)).constructor=At;var Jt=pr();function At(){xu.call(this)}At._configure=function(){At.alloc=Jt._Buffer_allocUnsafe,At.writeBytesBuffer=Jt.Buffer&&Jt.Buffer.prototype instanceof Uint8Array&&Jt.Buffer.prototype.set.name==="set"?function(t,r,n){r.set(t,n)}:function(t,r,n){if(t.copy)t.copy(r,n,0,t.length);else for(var i=0;i<t.length;)r[n++]=t[i++]}};At.prototype.bytes=function(t){Jt.isString(t)&&(t=Jt._Buffer_from(t,"base64"));var r=t.length>>>0;return this.uint32(r),r&&this._push(At.writeBytesBuffer,r,t),this};function jd(e,t,r){e.length<40?Jt.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}At.prototype.string=function(t){var r=Jt.Buffer.byteLength(t);return this.uint32(r),r&&this._push(jd,r,t),this};At._configure()});var Nu=z((_m,ku)=>{var de=ue();or();Be();var An=ku.exports=de.sha512=de.sha512||{};de.md.sha512=de.md.algorithms.sha512=An;var _u=de.sha384=de.sha512.sha384=de.sha512.sha384||{};_u.create=function(){return An.create("SHA-384")};de.md.sha384=de.md.algorithms.sha384=_u;de.sha512.sha256=de.sha512.sha256||{create:function(){return An.create("SHA-512/256")}};de.md["sha512/256"]=de.md.algorithms["sha512/256"]=de.sha512.sha256;de.sha512.sha224=de.sha512.sha224||{create:function(){return An.create("SHA-512/224")}};de.md["sha512/224"]=de.md.algorithms["sha512/224"]=de.sha512.sha224;An.create=function(e){if(Ru||cy(),typeof e>"u"&&(e="SHA-512"),!(e in gr))throw new Error("Invalid SHA-512 algorithm: "+e);for(var t=gr[e],r=null,n=de.util.createBuffer(),i=new Array(80),o=0;o<80;++o)i[o]=new Array(2);var a=64;switch(e){case"SHA-384":a=48;break;case"SHA-512/256":a=32;break;case"SHA-512/224":a=28;break}var s={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:a,messageLength:0,fullMessageLength:null,messageLengthSize:16};return s.start=function(){s.messageLength=0,s.fullMessageLength=s.messageLength128=[];for(var c=s.messageLengthSize/4,u=0;u<c;++u)s.fullMessageLength.push(0);n=de.util.createBuffer(),r=new Array(t.length);for(var u=0;u<t.length;++u)r[u]=t[u].slice(0);return s},s.start(),s.update=function(c,u){u==="utf8"&&(c=de.util.encodeUtf8(c));var f=c.length;s.messageLength+=f,f=[f/4294967296>>>0,f>>>0];for(var l=s.fullMessageLength.length-1;l>=0;--l)s.fullMessageLength[l]+=f[1],f[1]=f[0]+(s.fullMessageLength[l]/4294967296>>>0),s.fullMessageLength[l]=s.fullMessageLength[l]>>>0,f[0]=f[1]/4294967296>>>0;return n.putBytes(c),Iu(r,i,n),(n.read>2048||n.length()===0)&&n.compact(),s},s.digest=function(){var c=de.util.createBuffer();c.putBytes(n.bytes());var u=s.fullMessageLength[s.fullMessageLength.length-1]+s.messageLengthSize,f=u&s.blockLength-1;c.putBytes(aa.substr(0,s.blockLength-f));for(var l,h,d=s.fullMessageLength[0]*8,p=0;p<s.fullMessageLength.length-1;++p)l=s.fullMessageLength[p+1]*8,h=l/4294967296>>>0,d+=h,c.putInt32(d>>>0),d=l>>>0;c.putInt32(d);for(var y=new Array(r.length),p=0;p<r.length;++p)y[p]=r[p].slice(0);Iu(y,i,c);var m=de.util.createBuffer(),v;e==="SHA-512"?v=y.length:e==="SHA-384"?v=y.length-2:v=y.length-4;for(var p=0;p<v;++p)m.putInt32(y[p][0]),(p!==v-1||e!=="SHA-512/224")&&m.putInt32(y[p][1]);return m},s};var aa=null,Ru=!1,sa=null,gr=null;function cy(){aa=String.fromCharCode(128),aa+=de.util.fillString(String.fromCharCode(0),128),sa=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],gr={},gr["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],gr["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],gr["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],gr["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],Ru=!0}function Iu(e,t,r){for(var n,i,o,a,s,c,u,f,l,h,d,p,y,m,v,E,C,L,_,I,G,T,K,$,V,M,ae,le,q,Y,P,He,dt,Oi,Mi,Pa=r.length();Pa>=128;){for(q=0;q<16;++q)t[q][0]=r.getInt32()>>>0,t[q][1]=r.getInt32()>>>0;for(;q<80;++q)He=t[q-2],Y=He[0],P=He[1],n=((Y>>>19|P<<13)^(P>>>29|Y<<3)^Y>>>6)>>>0,i=((Y<<13|P>>>19)^(P<<3|Y>>>29)^(Y<<26|P>>>6))>>>0,Oi=t[q-15],Y=Oi[0],P=Oi[1],o=((Y>>>1|P<<31)^(Y>>>8|P<<24)^Y>>>7)>>>0,a=((Y<<31|P>>>1)^(Y<<24|P>>>8)^(Y<<25|P>>>7))>>>0,dt=t[q-7],Mi=t[q-16],P=i+dt[1]+a+Mi[1],t[q][0]=n+dt[0]+o+Mi[0]+(P/4294967296>>>0)>>>0,t[q][1]=P>>>0;for(y=e[0][0],m=e[0][1],v=e[1][0],E=e[1][1],C=e[2][0],L=e[2][1],_=e[3][0],I=e[3][1],G=e[4][0],T=e[4][1],K=e[5][0],$=e[5][1],V=e[6][0],M=e[6][1],ae=e[7][0],le=e[7][1],q=0;q<80;++q)u=((G>>>14|T<<18)^(G>>>18|T<<14)^(T>>>9|G<<23))>>>0,f=((G<<18|T>>>14)^(G<<14|T>>>18)^(T<<23|G>>>9))>>>0,l=(V^G&(K^V))>>>0,h=(M^T&($^M))>>>0,s=((y>>>28|m<<4)^(m>>>2|y<<30)^(m>>>7|y<<25))>>>0,c=((y<<4|m>>>28)^(m<<30|y>>>2)^(m<<25|y>>>7))>>>0,d=(y&v|C&(y^v))>>>0,p=(m&E|L&(m^E))>>>0,P=le+f+h+sa[q][1]+t[q][1],n=ae+u+l+sa[q][0]+t[q][0]+(P/4294967296>>>0)>>>0,i=P>>>0,P=c+p,o=s+d+(P/4294967296>>>0)>>>0,a=P>>>0,ae=V,le=M,V=K,M=$,K=G,$=T,P=I+i,G=_+n+(P/4294967296>>>0)>>>0,T=P>>>0,_=C,I=L,C=v,L=E,v=y,E=m,P=i+a,y=n+o+(P/4294967296>>>0)>>>0,m=P>>>0;P=e[0][1]+m,e[0][0]=e[0][0]+y+(P/4294967296>>>0)>>>0,e[0][1]=P>>>0,P=e[1][1]+E,e[1][0]=e[1][0]+v+(P/4294967296>>>0)>>>0,e[1][1]=P>>>0,P=e[2][1]+L,e[2][0]=e[2][0]+C+(P/4294967296>>>0)>>>0,e[2][1]=P>>>0,P=e[3][1]+I,e[3][0]=e[3][0]+_+(P/4294967296>>>0)>>>0,e[3][1]=P>>>0,P=e[4][1]+T,e[4][0]=e[4][0]+G+(P/4294967296>>>0)>>>0,e[4][1]=P>>>0,P=e[5][1]+$,e[5][0]=e[5][0]+K+(P/4294967296>>>0)>>>0,e[5][1]=P>>>0,P=e[6][1]+M,e[6][0]=e[6][0]+V+(P/4294967296>>>0)>>>0,e[6][1]=P>>>0,P=e[7][1]+le,e[7][0]=e[7][0]+ae+(P/4294967296>>>0)>>>0,e[7][1]=P>>>0,Pa-=128}}});var hc=z((xx,lc)=>{var Zr=1e3,Qr=Zr*60,Xr=Qr*60,br=Xr*24,My=br*7,Vy=br*365.25;lc.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return qy(e);if(r==="number"&&isFinite(e))return t.long?Hy(e):zy(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function qy(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*Vy;case"weeks":case"week":case"w":return r*My;case"days":case"day":case"d":return r*br;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Xr;case"minutes":case"minute":case"mins":case"min":case"m":return r*Qr;case"seconds":case"second":case"secs":case"sec":case"s":return r*Zr;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function zy(e){var t=Math.abs(e);return t>=br?Math.round(e/br)+"d":t>=Xr?Math.round(e/Xr)+"h":t>=Qr?Math.round(e/Qr)+"m":t>=Zr?Math.round(e/Zr)+"s":e+"ms"}function Hy(e){var t=Math.abs(e);return t>=br?Ci(e,t,br,"day"):t>=Xr?Ci(e,t,Xr,"hour"):t>=Qr?Ci(e,t,Qr,"minute"):t>=Zr?Ci(e,t,Zr,"second"):e+" ms"}function Ci(e,t,r,n){var i=t>=r*1.5;return Math.round(e/r)+" "+n+(i?"s":"")}});var dc=z((vx,pc)=>{function Gy(e){r.debug=r,r.default=r,r.coerce=c,r.disable=o,r.enable=i,r.enabled=a,r.humanize=hc(),r.destroy=u,Object.keys(e).forEach(f=>{r[f]=e[f]}),r.names=[],r.skips=[],r.formatters={};function t(f){let l=0;for(let h=0;h<f.length;h++)l=(l<<5)-l+f.charCodeAt(h),l|=0;return r.colors[Math.abs(l)%r.colors.length]}r.selectColor=t;function r(f){let l,h=null,d,p;function y(...m){if(!y.enabled)return;let v=y,E=Number(new Date),C=E-(l||E);v.diff=C,v.prev=l,v.curr=E,l=E,m[0]=r.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");let L=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,(I,G)=>{if(I==="%%")return"%";L++;let T=r.formatters[G];if(typeof T=="function"){let K=m[L];I=T.call(v,K),m.splice(L,1),L--}return I}),r.formatArgs.call(v,m),(v.log||r.log).apply(v,m)}return y.namespace=f,y.useColors=r.useColors(),y.color=r.selectColor(f),y.extend=n,y.destroy=r.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(d!==r.namespaces&&(d=r.namespaces,p=r.enabled(f)),p),set:m=>{h=m}}),typeof r.init=="function"&&r.init(y),y}function n(f,l){let h=r(this.namespace+(typeof l>"u"?":":l)+f);return h.log=this.log,h}function i(f){r.save(f),r.namespaces=f,r.names=[],r.skips=[];let l,h=(typeof f=="string"?f:"").split(/[\s,]+/),d=h.length;for(l=0;l<d;l++)h[l]&&(f=h[l].replace(/\*/g,".*?"),f[0]==="-"?r.skips.push(new RegExp("^"+f.slice(1)+"$")):r.names.push(new RegExp("^"+f+"$")))}function o(){let f=[...r.names.map(s),...r.skips.map(s).map(l=>"-"+l)].join(",");return r.enable(""),f}function a(f){if(f[f.length-1]==="*")return!0;let l,h;for(l=0,h=r.skips.length;l<h;l++)if(r.skips[l].test(f))return!1;for(l=0,h=r.names.length;l<h;l++)if(r.names[l].test(f))return!0;return!1}function s(f){return f.toString().substring(2,f.toString().length-2).replace(/\.\*\?$/,"*")}function c(f){return f instanceof Error?f.stack||f.message:f}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}pc.exports=Gy});var yc=z((We,Ti)=>{We.formatArgs=Wy;We.save=Yy;We.load=Zy;We.useColors=$y;We.storage=Qy();We.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();We.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function $y(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Wy(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+Ti.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),e.splice(n,0,t)}We.log=console.debug||console.log||(()=>{});function Yy(e){try{e?We.storage.setItem("debug",e):We.storage.removeItem("debug")}catch{}}function Zy(){let e;try{e=We.storage.getItem("debug")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}function Qy(){try{return localStorage}catch{}}Ti.exports=dc()(We);var{formatters:Xy}=Ti.exports;Xy.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var ba=z((Bx,mc)=>{"use strict";function gc(e,t){for(let r in t)Object.defineProperty(e,r,{value:t[r],enumerable:!0,configurable:!0});return e}function jy(e,t,r){if(!e||typeof e=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof t=="object"&&(r=t,t=""),t&&(r.code=t);try{return gc(e,r)}catch{r.message=e.message,r.stack=e.stack;let i=function(){};return i.prototype=Object.create(Object.getPrototypeOf(e)),gc(new i,r)}}mc.exports=jy});var bc=z((kx,wa)=>{var Rx=function(){typeof wa<"u"&&(wa.exports=y);var e=86400,t=3200,r=146097*t/400,n=e*r,i=1e3*n,o=864e13,a=4294967296,s=1e6,c="000000000",u=Math.trunc||function(T){var K=T-T%1;return K==0&&(T<0||T===0&&1/T!=1/0)?-0:K},f=y.prototype,l=(y.fromDate=function(T){return new y(+T)},y.fromInt64BE=L(0,1,2,3,0,4),y.fromInt64LE=L(3,2,1,0,4,0),y.fromString=function(V){var K,$=new y,V=(V+="").replace(/^\s*[+\-]?\d+/,function(ae){var ae=+ae,le=1970+(ae-1970)%400;return $.year=ae-le,le}).replace(/(?:Z|([+\-]\d{2}):?(\d{2}))$/,function(M,ae,le){return ae<0&&(le*=-1),K=6e4*(60*+ae+ +le),""}).replace(/\.\d+$/,function(M){return $.nano=+(M+c).substr(1,9),""}).split(/\D+/);if(1<V.length?V[1]--:V[1]=0,$.time=K=Date.UTC.apply(Date,V)-(K||0),isNaN(K))throw new TypeError("Invalid Date");return m($)},y.fromTimeT=function(T){return E(T,0)},f.year=0,f.time=0,f.nano=0,f.addNano=function(T){return this.nano+=+T||0,this},f.getNano=function(){var T=m(this);return(T.time%1e3*s+ +T.nano+1e9)%1e9},f.getTimeT=function(){var K=m(this),T=Math.floor(K.time/1e3),K=K.year;return K&&(T+=K*r*e/t),T},f.getYear=function(){return this.toDate().getUTCFullYear()+this.year},f.toDate=function(){return v(m(this).time)},f.toJSON=function(){return this.toString().replace(/0{1,6}Z$/,"Z")},f.toString=function(T){var K=this,$=K.toDate(),V={H:function(){return I($.getUTCHours())},L:function(){return G($.getUTCMilliseconds(),3)},M:function(){return I($.getUTCMinutes())},N:function(){return G(K.getNano(),9)},S:function(){return I($.getUTCSeconds())},Y:function(){var M=K.getYear();return 999999<M?"+"+M:9999<M?"+"+G(M,6):0<=M?G(M,4):-999999<=M?"-"+G(-M,6):M},a:function(){return d[$.getUTCDay()]},b:function(){return h[$.getUTCMonth()]},d:function(){return I($.getUTCDate())},e:function(){return function(M){return(9<M?"":" ")+(0|M)}($.getUTCDate())},m:function(){return I($.getUTCMonth()+1)}};return function M(ae){return ae.replace(/%./g,function(le){var Y=le[1],q=p[Y],Y=V[Y];return q?M(q):Y?Y():le})}(T||l)},f.writeInt64BE=C(0,1,2,3,0,4),f.writeInt64LE=C(3,2,1,0,4,0),"%Y-%m-%dT%H:%M:%S.%NZ"),h=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],d=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],p={"%":"%",F:"%Y-%m-%d",n:`
`,R:"%H:%M",T:"%H:%M:%S",t:"	",X:"%T",Z:"GMT",z:"+0000"};return y;function y(T,K,$){var V=this;if(!(V instanceof y))return new y(T,K,$);V.time=+T||0,V.nano=+K||0,V.year=+$||0,m(V)}function m(T){var K,$,V,M=T.year,ae=T.time,le=T.nano,q=((le<0||s<=le)&&(le-=($=Math.floor(le/s))*s,ae+=$,$=1),M%t);return(ae<-o||o<ae||q)&&((K=u(ae/i))&&(M+=K*t,ae-=K*i),(V=v(ae)).setUTCFullYear(q+V.getUTCFullYear()),V=(ae=+V)+(K=u((M-=q)/t))*i,K&&-o<=V&&V<=o&&(M-=K*t,ae=V),$=1),$&&(T.year=M,T.time=ae,T.nano=le),T}function v(T){var K=new Date(0);return K.setTime(T),K}function E(M,V){M=+M||0;var $=u((V=(V|0)*a)/n)+u(M/n),V=V%n+M%n,M=u(V/n);return M&&($+=M,V-=M*n),new y(1e3*V,0,$*t)}function C(T,K,$,V,M,ae){return function(q,Y){var He=m(this);q=q||new Array(8),_(q,Y|=0);var dt=Math.floor(He.time/1e3),He=He.year*(r*e/t),P=u(He/a)+u(dt/a),He=He%a+dt%a,dt=Math.floor(He/a);return dt&&(P+=dt,He-=dt*a),le(q,Y+M,P),le(q,Y+ae,He),q};function le(q,Y,P){q[Y+T]=P>>24&255,q[Y+K]=P>>16&255,q[Y+$]=P>>8&255,q[Y+V]=255&P}}function L(T,K,$,V,M,ae){return function(q,Y){_(q,Y|=0);var P=le(q,Y+M);return E(le(q,Y+ae),P)};function le(q,Y){return 16777216*q[Y+T]+(q[Y+K]<<16|q[Y+$]<<8|q[Y+V])}}function _(T,K){if(T=T&&T.length,T==null)throw new TypeError("Invalid Buffer");if(T<K+8)throw new RangeError("Out of range")}function I(T){return(9<T?"":"0")+(0|T)}function G(T,K){return(c+(0|T)).substr(-K)}}()});var V1={};Ne(V1,{create:()=>P1,createWithExpiration:()=>K1,extractPublicKey:()=>Kf,getLocalKey:()=>O1,marshal:()=>Mf,namespace:()=>$f,namespaceLength:()=>L1,peerIdFromRoutingKey:()=>zf,peerIdToRoutingKey:()=>qf,unmarshal:()=>Vf});var fx=ge(ln(),1),lx=ge(js(),1);var ce=class extends Error{code;props;constructor(t,r,n){super(t),this.code=r,this.name=n?.name??"CodeError",this.props=n??{}}};var Oy=ge(ue(),1);function Tr(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}var po={};Ne(po,{identity:()=>_p});function Bp(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),a=o.charCodeAt(0);if(r[a]!==255)throw new TypeError(o+" is ambiguous");r[a]=i}var s=e.length,c=e.charAt(0),u=Math.log(s)/Math.log(256),f=Math.log(256)/Math.log(s);function l(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var y=0,m=0,v=0,E=p.length;v!==E&&p[v]===0;)v++,y++;for(var C=(E-v)*f+1>>>0,L=new Uint8Array(C);v!==E;){for(var _=p[v],I=0,G=C-1;(_!==0||I<m)&&G!==-1;G--,I++)_+=256*L[G]>>>0,L[G]=_%s>>>0,_=_/s>>>0;if(_!==0)throw new Error("Non-zero carry");m=I,v++}for(var T=C-m;T!==C&&L[T]===0;)T++;for(var K=c.repeat(y);T<C;++T)K+=e.charAt(L[T]);return K}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var y=0;if(p[y]!==" "){for(var m=0,v=0;p[y]===c;)m++,y++;for(var E=(p.length-y)*u+1>>>0,C=new Uint8Array(E);p[y];){var L=r[p.charCodeAt(y)];if(L===255)return;for(var _=0,I=E-1;(L!==0||_<v)&&I!==-1;I--,_++)L+=s*C[I]>>>0,C[I]=L%256>>>0,L=L/256>>>0;if(L!==0)throw new Error("Non-zero carry");v=_,y++}if(p[y]!==" "){for(var G=E-v;G!==E&&C[G]===0;)G++;for(var T=new Uint8Array(m+(E-G)),K=m;G!==E;)T[K++]=C[G++];return T}}}function d(p){var y=h(p);if(y)return y;throw new Error(`Non-${t} character`)}return{encode:l,decodeUnsafe:h,decode:d}}var Ap=Bp,Cp=Ap,e0=Cp;var v2=new Uint8Array(0);var t0=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},Lt=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")};var r0=e=>new TextEncoder().encode(e),n0=e=>new TextDecoder().decode(e);var co=class{constructor(t,r,n){this.name=t,this.prefix=r,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},fo=class{constructor(t,r,n){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return o0(this,t)}},lo=class{constructor(t){this.decoders=t}or(t){return o0(this,t)}decode(t){let r=t[0],n=this.decoders[r];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},o0=(e,t)=>new lo({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}}),ho=class{constructor(t,r,n,i){this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new co(t,r,n),this.decoder=new fo(t,r,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}},Ir=({name:e,prefix:t,encode:r,decode:n})=>new ho(e,t,r,n),Ht=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=e0(r,t);return Ir({prefix:e,name:t,encode:n,decode:o=>Lt(i(o))})},Tp=(e,t,r,n)=>{let i={};for(let f=0;f<t.length;++f)i[t[f]]=f;let o=e.length;for(;e[o-1]==="=";)--o;let a=new Uint8Array(o*r/8|0),s=0,c=0,u=0;for(let f=0;f<o;++f){let l=i[e[f]];if(l===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|l,s+=r,s>=8&&(s-=8,a[u++]=255&c>>s)}if(s>=r||255&c<<8-s)throw new SyntaxError("Unexpected end of data");return a},Ip=(e,t,r)=>{let n=t[t.length-1]==="=",i=(1<<r)-1,o="",a=0,s=0;for(let c=0;c<e.length;++c)for(s=s<<8|e[c],a+=8;a>r;)a-=r,o+=t[i&s>>a];if(a&&(o+=t[i&s<<r-a]),n)for(;o.length*r&7;)o+="=";return o},we=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>Ir({prefix:t,name:e,encode(i){return Ip(i,n,r)},decode(i){return Tp(i,n,r,e)}});var _p=Ir({prefix:"\0",name:"identity",encode:e=>n0(e),decode:e=>r0(e)});var yo={};Ne(yo,{base2:()=>Rp});var Rp=we({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var go={};Ne(go,{base8:()=>kp});var kp=we({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var mo={};Ne(mo,{base10:()=>Np});var Np=Ht({prefix:"9",name:"base10",alphabet:"0123456789"});var xo={};Ne(xo,{base16:()=>Dp,base16upper:()=>Up});var Dp=we({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Up=we({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var bo={};Ne(bo,{base32:()=>Gt,base32hex:()=>Kp,base32hexpad:()=>Op,base32hexpadupper:()=>Mp,base32hexupper:()=>Fp,base32pad:()=>Lp,base32padupper:()=>Pp,base32upper:()=>vo,base32z:()=>Vp});var Gt=we({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),vo=we({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Lp=we({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Pp=we({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Kp=we({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Fp=we({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Op=we({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Mp=we({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Vp=we({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var wo={};Ne(wo,{base36:()=>qp,base36upper:()=>zp});var qp=Ht({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),zp=Ht({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Eo={};Ne(Eo,{base58btc:()=>De,base58flickr:()=>Hp});var De=Ht({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Hp=Ht({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var So={};Ne(So,{base64:()=>_r,base64pad:()=>Gp,base64url:()=>$p,base64urlpad:()=>Wp});var _r=we({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Gp=we({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),$p=we({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Wp=we({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Bo={};Ne(Bo,{base256emoji:()=>Jp});var a0=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),Yp=a0.reduce((e,t,r)=>(e[r]=t,e),[]),Zp=a0.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function Qp(e){return e.reduce((t,r)=>(t+=Yp[r],t),"")}function Xp(e){let t=[];for(let r of e){let n=Zp[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}var Jp=Ir({prefix:"\u{1F680}",name:"base256emoji",encode:Qp,decode:Xp});var Io={};Ne(Io,{sha256:()=>Ue,sha512:()=>md});var jp=c0,s0=128,ed=127,td=~ed,rd=Math.pow(2,31);function c0(e,t,r){t=t||[],r=r||0;for(var n=r;e>=rd;)t[r++]=e&255|s0,e/=128;for(;e&td;)t[r++]=e&255|s0,e>>>=7;return t[r]=e|0,c0.bytes=r-n+1,t}var nd=Ao,id=128,u0=127;function Ao(e,n){var r=0,n=n||0,i=0,o=n,a,s=e.length;do{if(o>=s)throw Ao.bytes=0,new RangeError("Could not decode varint");a=e[o++],r+=i<28?(a&u0)<<i:(a&u0)*Math.pow(2,i),i+=7}while(a>=id);return Ao.bytes=o-n,r}var od=Math.pow(2,7),ad=Math.pow(2,14),sd=Math.pow(2,21),ud=Math.pow(2,28),cd=Math.pow(2,35),fd=Math.pow(2,42),ld=Math.pow(2,49),hd=Math.pow(2,56),pd=Math.pow(2,63),dd=function(e){return e<od?1:e<ad?2:e<sd?3:e<ud?4:e<cd?5:e<fd?6:e<ld?7:e<hd?8:e<pd?9:10},yd={encode:jp,decode:nd,encodingLength:dd},gd=yd,dn=gd;var yn=(e,t=0)=>[dn.decode(e,t),dn.decode.bytes],Rr=(e,t,r=0)=>(dn.encode(e,t,r),t),kr=e=>dn.encodingLength(e);var wt=(e,t)=>{let r=t.byteLength,n=kr(e),i=n+kr(r),o=new Uint8Array(i+r);return Rr(e,o,0),Rr(r,o,n),o.set(t,i),new Nr(e,r,t,o)},cr=e=>{let t=Lt(e),[r,n]=yn(t),[i,o]=yn(t.subarray(n)),a=t.subarray(n+o);if(a.byteLength!==i)throw new Error("Incorrect length");return new Nr(r,i,a,t)},f0=(e,t)=>{if(e===t)return!0;{let r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&t0(e.bytes,r.bytes)}},Nr=class{constructor(t,r,n,i){this.code=t,this.size=r,this.digest=n,this.bytes=i}};var To=({name:e,code:t,encode:r})=>new Co(e,t,r),Co=class{constructor(t,r,n){this.name=t,this.code=r,this.encode=n}digest(t){if(t instanceof Uint8Array){let r=this.encode(t);return r instanceof Uint8Array?wt(this.code,r):r.then(n=>wt(this.code,n))}else throw Error("Unknown type, must be binary type")}};var h0=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Ue=To({name:"sha2-256",code:18,encode:h0("SHA-256")}),md=To({name:"sha2-512",code:19,encode:h0("SHA-512")});var _o={};Ne(_o,{identity:()=>Et});var p0=0,xd="identity",d0=Lt,vd=e=>wt(p0,d0(e)),Et={code:p0,name:xd,encode:d0,digest:vd};var M2=new TextEncoder,V2=new TextDecoder;var y0=(e,t)=>{let{bytes:r,version:n}=e;switch(n){case 0:return Sd(r,Ro(e),t||De.encoder);default:return Bd(r,Ro(e),t||Gt.encoder)}};var g0=new WeakMap,Ro=e=>{let t=g0.get(e);if(t==null){let r=new Map;return g0.set(e,r),r}return t},be=class{constructor(t,r,n,i){this.code=r,this.version=t,this.multihash=n,this.bytes=i,this["/"]=i}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:t,multihash:r}=this;if(t!==gn)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==Ad)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return be.createV0(r)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:t,digest:r}=this.multihash,n=wt(t,r);return be.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(t){return be.equals(this,t)}static equals(t,r){let n=r;return n&&t.code===n.code&&t.version===n.version&&f0(t.multihash,n.multihash)}toString(t){return y0(this,t)}toJSON(){return{"/":y0(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(t){if(t==null)return null;let r=t;if(r instanceof be)return r;if(r["/"]!=null&&r["/"]===r.bytes||r.asCID===r){let{version:n,code:i,multihash:o,bytes:a}=r;return new be(n,i,o,a||m0(n,i,o.bytes))}else if(r[Cd]===!0){let{version:n,multihash:i,code:o}=r,a=cr(i);return be.create(n,o,a)}else return null}static create(t,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");if(!(n.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(t){case 0:{if(r!==gn)throw new Error(`Version 0 CID must use dag-pb (code: ${gn}) block encoding`);return new be(t,r,n,n.bytes)}case 1:{let i=m0(t,r,n.bytes);return new be(t,r,n,i)}default:throw new Error("Invalid version")}}static createV0(t){return be.create(0,gn,t)}static createV1(t,r){return be.create(1,t,r)}static decode(t){let[r,n]=be.decodeFirst(t);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(t){let r=be.inspectBytes(t),n=r.size-r.multihashSize,i=Lt(t.subarray(n,n+r.multihashSize));if(i.byteLength!==r.multihashSize)throw new Error("Incorrect length");let o=i.subarray(r.multihashSize-r.digestSize),a=new Nr(r.multihashCode,r.digestSize,o,i);return[r.version===0?be.createV0(a):be.createV1(r.codec,a),t.subarray(r.size)]}static inspectBytes(t){let r=0,n=()=>{let[l,h]=yn(t.subarray(r));return r+=h,l},i=n(),o=gn;if(i===18?(i=0,r=0):o=n(),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);let a=r,s=n(),c=n(),u=r+c,f=u-a;return{version:i,codec:o,multihashCode:s,digestSize:c,multihashSize:f,size:u}}static parse(t,r){let[n,i]=Ed(t,r),o=be.decode(i);if(o.version===0&&t[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return Ro(o).set(n,t),o}},Ed=(e,t)=>{switch(e[0]){case"Q":{let r=t||De;return[De.prefix,r.decode(`${De.prefix}${e}`)]}case De.prefix:{let r=t||De;return[De.prefix,r.decode(e)]}case Gt.prefix:{let r=t||Gt;return[Gt.prefix,r.decode(e)]}default:{if(t==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}},Sd=(e,t,r)=>{let{prefix:n}=r;if(n!==De.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=t.get(n);if(i==null){let o=r.encode(e).slice(1);return t.set(n,o),o}else return i},Bd=(e,t,r)=>{let{prefix:n}=r,i=t.get(n);if(i==null){let o=r.encode(e);return t.set(n,o),o}else return i},gn=112,Ad=18,m0=(e,t,r)=>{let n=kr(e),i=n+kr(t),o=new Uint8Array(i+r.byteLength);return Rr(e,o,0),Rr(t,o,n),o.set(r,i),o},Cd=Symbol.for("@ipld/js-cid/CID");var Dr={...po,...yo,...go,...mo,...xo,...bo,...wo,...Eo,...So,...Bo},X2={...Io,..._o};function oi(e=0){return globalThis.Buffer?.allocUnsafe!=null?Tr(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function v0(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}var x0=v0("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),ko=v0("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);let t=oi(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),Td={utf8:x0,"utf-8":x0,hex:Dr.base16,latin1:ko,ascii:ko,binary:ko,...Dr},ai=Td;function Ae(e,t="utf8"){let r=ai[t];if(r==null)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Tr(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}var oa={};Ne(oa,{Ed25519PrivateKey:()=>yr,Ed25519PublicKey:()=>Bn,generateKeyPair:()=>oy,generateKeyPairFromSeed:()=>Au,unmarshalEd25519PrivateKey:()=>ny,unmarshalEd25519PublicKey:()=>iy});function Oe(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}var Id=ge(Br(),1);var _e=BigInt(0),J=BigInt(1),Yt=BigInt(2),_d=BigInt(8),b0=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),pe=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:b0,n:b0,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")});var A0=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),mn=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),ug=BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),Rd=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),kd=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),Nd=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),Dd=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),Q=class{constructor(t,r,n,i){this.x=t,this.y=r,this.z=n,this.t=i}static fromAffine(t){if(!(t instanceof xe))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return t.equals(xe.ZERO)?Q.ZERO:new Q(t.x,t.y,J,B(t.x*t.y))}static toAffineBatch(t){let r=Pd(t.map(n=>n.z));return t.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(t){return this.toAffineBatch(t).map(this.fromAffine)}equals(t){E0(t);let{x:r,y:n,z:i}=this,{x:o,y:a,z:s}=t,c=B(r*s),u=B(o*i),f=B(n*s),l=B(a*i);return c===u&&f===l}negate(){return new Q(B(-this.x),this.y,this.z,B(-this.t))}double(){let{x:t,y:r,z:n}=this,{a:i}=pe,o=B(t*t),a=B(r*r),s=B(Yt*B(n*n)),c=B(i*o),u=t+r,f=B(B(u*u)-o-a),l=c+a,h=l-s,d=c-a,p=B(f*h),y=B(l*d),m=B(f*d),v=B(h*l);return new Q(p,y,v,m)}add(t){E0(t);let{x:r,y:n,z:i,t:o}=this,{x:a,y:s,z:c,t:u}=t,f=B((n-r)*(s+a)),l=B((n+r)*(s-a)),h=B(l-f);if(h===_e)return this.double();let d=B(i*Yt*u),p=B(o*Yt*c),y=p+d,m=l+f,v=p-d,E=B(y*h),C=B(m*v),L=B(y*v),_=B(h*m);return new Q(E,C,_,L)}subtract(t){return this.add(t.negate())}precomputeWindow(t){let r=1+256/t,n=[],i=this,o=i;for(let a=0;a<r;a++){o=i,n.push(o);for(let s=1;s<2**(t-1);s++)o=o.add(i),n.push(o);i=o.double()}return n}wNAF(t,r){!r&&this.equals(Q.BASE)&&(r=xe.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&Po.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=Q.normalizeZ(i),Po.set(r,i)));let o=Q.ZERO,a=Q.BASE,s=1+256/n,c=2**(n-1),u=BigInt(2**n-1),f=2**n,l=BigInt(n);for(let h=0;h<s;h++){let d=h*c,p=Number(t&u);t>>=l,p>c&&(p-=f,t+=J);let y=d,m=d+Math.abs(p)-1,v=h%2!==0,E=p<0;p===0?a=a.add(w0(v,i[y])):o=o.add(w0(E,i[m]))}return Q.normalizeZ([o,a])[0]}multiply(t,r){return this.wNAF(ui(t,pe.l),r)}multiplyUnsafe(t){let r=ui(t,pe.l,!1),n=Q.BASE,i=Q.ZERO;if(r===_e)return i;if(this.equals(i)||r===J)return this;if(this.equals(n))return this.wNAF(r);let o=i,a=this;for(;r>_e;)r&J&&(o=o.add(a)),a=a.double(),r>>=J;return o}isSmallOrder(){return this.multiplyUnsafe(pe.h).equals(Q.ZERO)}isTorsionFree(){let t=this.multiplyUnsafe(pe.l/Yt).double();return pe.l%Yt&&(t=t.add(this)),t.equals(Q.ZERO)}toAffine(t){let{x:r,y:n,z:i}=this,o=this.equals(Q.ZERO);t==null&&(t=o?_d:ci(i));let a=B(r*t),s=B(n*t),c=B(i*t);if(o)return xe.ZERO;if(c!==J)throw new Error("invZ was invalid");return new xe(a,s)}fromRistrettoBytes(){Do()}toRistrettoBytes(){Do()}fromRistrettoHash(){Do()}};Q.BASE=new Q(pe.Gx,pe.Gy,J,B(pe.Gx*pe.Gy));Q.ZERO=new Q(_e,J,J,_e);function w0(e,t){let r=t.negate();return e?r:t}function E0(e){if(!(e instanceof Q))throw new TypeError("ExtendedPoint expected")}function No(e){if(!(e instanceof qe))throw new TypeError("RistrettoPoint expected")}function Do(){throw new Error("Legacy method: switch to RistrettoPoint")}var qe=class{constructor(t){this.ep=t}static calcElligatorRistrettoMap(t){let{d:r}=pe,n=B(mn*t*t),i=B((n+J)*Nd),o=BigInt(-1),a=B((o-r*n)*B(n+r)),{isValid:s,value:c}=Fo(i,a),u=B(c*t);Wt(u)||(u=B(-u)),s||(c=u),s||(o=n);let f=B(o*(n-J)*Dd-a),l=c*c,h=B((c+c)*a),d=B(f*Rd),p=B(J-l),y=B(J+l);return new Q(B(h*y),B(p*d),B(d*y),B(h*p))}static hashToCurve(t){t=Zt(t,64);let r=Uo(t.slice(0,32)),n=this.calcElligatorRistrettoMap(r),i=Uo(t.slice(32,64)),o=this.calcElligatorRistrettoMap(i);return new qe(n.add(o))}static fromHex(t){t=Zt(t,32);let{a:r,d:n}=pe,i="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",o=Uo(t);if(!Fd(xn(o),t)||Wt(o))throw new Error(i);let a=B(o*o),s=B(J+r*a),c=B(J-r*a),u=B(s*s),f=B(c*c),l=B(r*n*u-f),{isValid:h,value:d}=B0(B(l*f)),p=B(d*c),y=B(d*p*l),m=B((o+o)*p);Wt(m)&&(m=B(-m));let v=B(s*y),E=B(m*v);if(!h||Wt(E)||v===_e)throw new Error(i);return new qe(new Q(m,v,J,E))}toRawBytes(){let{x:t,y:r,z:n,t:i}=this.ep,o=B(B(n+r)*B(n-r)),a=B(t*r),s=B(a*a),{value:c}=B0(B(o*s)),u=B(c*o),f=B(c*a),l=B(u*f*i),h;if(Wt(i*l)){let p=B(r*mn),y=B(t*mn);t=p,r=y,h=B(u*kd)}else h=f;Wt(t*l)&&(r=B(-r));let d=B((n-r)*h);return Wt(d)&&(d=B(-d)),xn(d)}toHex(){return vn(this.toRawBytes())}toString(){return this.toHex()}equals(t){No(t);let r=this.ep,n=t.ep,i=B(r.x*n.y)===B(r.y*n.x),o=B(r.y*n.y)===B(r.x*n.x);return i||o}add(t){return No(t),new qe(this.ep.add(t.ep))}subtract(t){return No(t),new qe(this.ep.subtract(t.ep))}multiply(t){return new qe(this.ep.multiply(t))}multiplyUnsafe(t){return new qe(this.ep.multiplyUnsafe(t))}};qe.BASE=new qe(Q.BASE);qe.ZERO=new qe(Q.ZERO);var Po=new WeakMap,xe=class{constructor(t,r){this.x=t,this.y=r}_setWindowSize(t){this._WINDOW_SIZE=t,Po.delete(this)}static fromHex(t,r=!0){let{d:n,P:i}=pe;t=Zt(t,32);let o=t.slice();o[31]=t[31]&-129;let a=bn(o);if(r&&a>=i)throw new Error("Expected 0 < hex < P");if(!r&&a>=A0)throw new Error("Expected 0 < hex < 2**256");let s=B(a*a),c=B(s-J),u=B(n*s+J),{isValid:f,value:l}=Fo(c,u);if(!f)throw new Error("Point.fromHex: invalid y coordinate");let h=(l&J)===J;return(t[31]&128)!==0!==h&&(l=B(-l)),new xe(l,a)}static async fromPrivateKey(t){return(await fi(t)).point}toRawBytes(){let t=xn(this.y);return t[31]|=this.x&J?128:0,t}toHex(){return vn(this.toRawBytes())}toX25519(){let{y:t}=this,r=B((J+t)*ci(J-t));return xn(r)}isTorsionFree(){return Q.fromAffine(this).isTorsionFree()}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new xe(B(-this.x),this.y)}add(t){return Q.fromAffine(this).add(Q.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return Q.fromAffine(this).multiply(t,this).toAffine()}};xe.BASE=new xe(pe.Gx,pe.Gy);xe.ZERO=new xe(_e,J);var lr=class{constructor(t,r){this.r=t,this.s=r,this.assertValidity()}static fromHex(t){let r=Zt(t,64),n=xe.fromHex(r.slice(0,32),!1),i=bn(r.slice(32,64));return new lr(n,i)}assertValidity(){let{r:t,s:r}=this;if(!(t instanceof xe))throw new Error("Expected Point instance");return ui(r,pe.l,!1),this}toRawBytes(){let t=new Uint8Array(64);return t.set(this.r.toRawBytes()),t.set(xn(this.s),32),t}toHex(){return vn(this.toRawBytes())}};function S0(...e){if(!e.every(n=>n instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(e.length===1)return e[0];let t=e.reduce((n,i)=>n+i.length,0),r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){let o=e[n];r.set(o,i),i+=o.length}return r}var Ud=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function vn(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=Ud[e[r]];return t}function Ko(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){let n=r*2,i=e.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[r]=o}return t}function C0(e){let r=e.toString(16).padStart(64,"0");return Ko(r)}function xn(e){return C0(e).reverse()}function Wt(e){return(B(e)&J)===J}function bn(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+vn(Uint8Array.from(e).reverse()))}var Ld=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Uo(e){return B(bn(e)&Ld)}function B(e,t=pe.P){let r=e%t;return r>=_e?r:t+r}function ci(e,t=pe.P){if(e===_e||t<=_e)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=B(e,t),n=t,i=_e,o=J,a=J,s=_e;for(;r!==_e;){let u=n/r,f=n%r,l=i-a*u,h=o-s*u;n=r,r=f,i=a,o=s,a=l,s=h}if(n!==J)throw new Error("invert: does not exist");return B(i,t)}function Pd(e,t=pe.P){let r=new Array(e.length),n=e.reduce((o,a,s)=>a===_e?o:(r[s]=o,B(o*a,t)),J),i=ci(n,t);return e.reduceRight((o,a,s)=>a===_e?o:(r[s]=B(o*r[s],t),B(o*a,t)),i),r}function St(e,t){let{P:r}=pe,n=e;for(;t-- >_e;)n*=n,n%=r;return n}function Kd(e){let{P:t}=pe,r=BigInt(5),n=BigInt(10),i=BigInt(20),o=BigInt(40),a=BigInt(80),c=e*e%t*e%t,u=St(c,Yt)*c%t,f=St(u,J)*e%t,l=St(f,r)*f%t,h=St(l,n)*l%t,d=St(h,i)*h%t,p=St(d,o)*d%t,y=St(p,a)*p%t,m=St(y,a)*p%t,v=St(m,n)*l%t;return{pow_p_5_8:St(v,Yt)*e%t,b2:c}}function Fo(e,t){let r=B(t*t*t),n=B(r*r*t),i=Kd(e*n).pow_p_5_8,o=B(e*r*i),a=B(t*o*o),s=o,c=B(o*mn),u=a===e,f=a===B(-e),l=a===B(-e*mn);return u&&(o=s),(f||l)&&(o=c),Wt(o)&&(o=B(-o)),{isValid:u||f,value:o}}function B0(e){return Fo(J,e)}function si(e){return B(bn(e),pe.l)}function Fd(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function Zt(e,t){let r=e instanceof Uint8Array?Uint8Array.from(e):Ko(e);if(typeof t=="number"&&r.length!==t)throw new Error(`Expected ${t} bytes`);return r}function ui(e,t,r=!0){if(!t)throw new TypeError("Specify max value");if(typeof e=="number"&&Number.isSafeInteger(e)&&(e=BigInt(e)),typeof e=="bigint"&&e<t){if(r){if(_e<e)return e}else if(_e<=e)return e}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function Od(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function Md(e){if(e=typeof e=="bigint"||typeof e=="number"?C0(ui(e,A0)):Zt(e),e.length!==32)throw new Error("Expected 32 bytes");return e}function Vd(e){let t=Od(e.slice(0,32)),r=e.slice(32,64),n=si(t),i=xe.BASE.multiply(n),o=i.toRawBytes();return{head:t,prefix:r,scalar:n,point:i,pointBytes:o}}var Lo;async function fi(e){return Vd(await Qt.sha512(Md(e)))}async function Oo(e){return(await fi(e)).pointBytes}async function T0(e,t){e=Zt(e);let{prefix:r,scalar:n,pointBytes:i}=await fi(t),o=si(await Qt.sha512(r,e)),a=xe.BASE.multiply(o),s=si(await Qt.sha512(a.toRawBytes(),i,e)),c=B(o+s*n,pe.l);return new lr(a,c).toRawBytes()}function qd(e,t,r){t=Zt(t),r instanceof xe||(r=xe.fromHex(r,!1));let{r:n,s:i}=e instanceof lr?e.assertValidity():lr.fromHex(e),o=Q.BASE.multiplyUnsafe(i);return{r:n,s:i,SB:o,pub:r,msg:t}}function zd(e,t,r,n){let i=si(n),o=Q.fromAffine(e).multiplyUnsafe(i);return Q.fromAffine(t).add(o).subtract(r).multiplyUnsafe(pe.h).equals(Q.ZERO)}async function I0(e,t,r){let{r:n,SB:i,msg:o,pub:a}=qd(e,t,r),s=await Qt.sha512(n.toRawBytes(),a.toRawBytes(),o);return zd(a,n,i,s)}xe.BASE._setWindowSize(8);var $t={node:Id,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},Qt={bytesToHex:vn,hexToBytes:Ko,concatBytes:S0,getExtendedPublicKey:fi,mod:B,invert:ci,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:e=>{if(e=Zt(e),e.length<40||e.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return B(bn(e),pe.l-J)+J},randomBytes:(e=32)=>{if($t.web)return $t.web.getRandomValues(new Uint8Array(e));if($t.node){let{randomBytes:t}=$t.node;return new Uint8Array(t(e).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Qt.randomBytes(32),sha512:async(...e)=>{let t=S0(...e);if($t.web){let r=await $t.web.subtle.digest("SHA-512",t.buffer);return new Uint8Array(r)}else{if($t.node)return Uint8Array.from($t.node.createHash("sha512").update(t).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(e=8,t=xe.BASE){let r=t.equals(xe.BASE)?t:new xe(t.x,t.y);return r._setWindowSize(e),r.multiply(Yt),r},sha512Sync:void 0};Object.defineProperties(Qt,{sha512Sync:{configurable:!1,get(){return Lo},set(e){Lo||(Lo=e)}}});var Ur=32,Pt=64,li=32;async function _0(){let e=Qt.randomPrivateKey(),t=await Oo(e);return{privateKey:D0(e,t),publicKey:t}}async function R0(e){if(e.length!==li)throw new TypeError('"seed" must be 32 bytes in length.');if(!(e instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, or Uint8Array.');let t=e,r=await Oo(t);return{privateKey:D0(t,r),publicKey:r}}async function k0(e,t){let r=e.subarray(0,li);return T0(t,r)}async function N0(e,t,r){return I0(t,r,e)}function D0(e,t){let r=new Uint8Array(Pt);for(let n=0;n<li;n++)r[n]=e[n],r[li+n]=t[n];return r}function st(e,t){t==null&&(t=e.reduce((i,o)=>i+o.length,0));let r=oi(t),n=0;for(let i of e)r.set(i,n),n+=i.length;return Tr(r)}var ze={get(e=globalThis){let t=e.crypto;if(t==null||t.subtle==null)throw Object.assign(new Error("Missing Web Crypto API. The most likely cause of this error is that this page is being accessed from an insecure context (i.e. not HTTPS). For more information and possible resolutions see https://github.com/libp2p/js-libp2p-crypto/blob/master/README.md#web-crypto-api"),{code:"ERR_MISSING_WEB_CRYPTO"});return t}};var Mo={alg:"A128GCM",ext:!0,k:"scm9jmO_4BJAgdwWGVulLg",key_ops:["encrypt","decrypt"],kty:"oct"};function Vo(e){let t=e?.algorithm??"AES-GCM",r=e?.keyLength??16,n=e?.nonceLength??12,i=e?.digest??"SHA-256",o=e?.saltLength??16,a=e?.iterations??32767,s=ze.get();r*=8;async function c(l,h){let d=s.getRandomValues(new Uint8Array(o)),p=s.getRandomValues(new Uint8Array(n)),y={name:t,iv:p};typeof h=="string"&&(h=Ae(h));let m;if(h.length===0){m=await s.subtle.importKey("jwk",Mo,{name:"AES-GCM"},!0,["encrypt"]);try{let E={name:"PBKDF2",salt:d,iterations:a,hash:{name:i}},C=await s.subtle.importKey("raw",h,{name:"PBKDF2"},!1,["deriveKey"]);m=await s.subtle.deriveKey(E,C,{name:t,length:r},!0,["encrypt"])}catch{m=await s.subtle.importKey("jwk",Mo,{name:"AES-GCM"},!0,["encrypt"])}}else{let E={name:"PBKDF2",salt:d,iterations:a,hash:{name:i}},C=await s.subtle.importKey("raw",h,{name:"PBKDF2"},!1,["deriveKey"]);m=await s.subtle.deriveKey(E,C,{name:t,length:r},!0,["encrypt"])}let v=await s.subtle.encrypt(y,m,l);return st([d,y.iv,new Uint8Array(v)])}async function u(l,h){let d=l.subarray(0,o),p=l.subarray(o,o+n),y=l.subarray(o+n),m={name:t,iv:p};typeof h=="string"&&(h=Ae(h));let v;if(h.length===0)try{let C={name:"PBKDF2",salt:d,iterations:a,hash:{name:i}},L=await s.subtle.importKey("raw",h,{name:"PBKDF2"},!1,["deriveKey"]);v=await s.subtle.deriveKey(C,L,{name:t,length:r},!0,["decrypt"])}catch{v=await s.subtle.importKey("jwk",Mo,{name:"AES-GCM"},!0,["decrypt"])}else{let C={name:"PBKDF2",salt:d,iterations:a,hash:{name:i}},L=await s.subtle.importKey("raw",h,{name:"PBKDF2"},!1,["deriveKey"]);v=await s.subtle.deriveKey(C,L,{name:t,length:r},!0,["decrypt"])}let E=await s.subtle.decrypt(m,v,y);return new Uint8Array(E)}return{encrypt:c,decrypt:u}}async function Lr(e,t){let n=await Vo().encrypt(e,t);return _r.encode(n)}var ea=ge($o(),1),wu=ge(pu(),1),Eu=ge(pr(),1),ta=ge(jo(),1),Su=ge(bu(),1);function ey(){Eu.default._configure(),ea.default._configure(wu.default),ta.default._configure(Su.default)}ey();var Bu=["uint64","int64","sint64","fixed64","sfixed64"];function ty(e){for(let t of Bu){if(e[t]==null)continue;let r=e[t];e[t]=function(){return BigInt(r.call(this).toString())}}return e}function ra(e){return ty(new ea.default(e))}function ry(e){for(let t of Bu){if(e[t]==null)continue;let r=e[t];e[t]=function(n){return r.call(this,n.toString())}}return e}function na(){return ry(ta.default.create())}function Kr(e,t){let r=ra(e instanceof Uint8Array?e:e.subarray());return t.decode(r)}function Fr(e,t){let r=na();return t.encode(e,r,{lengthDelimited:!1}),r.finish()}var Or;(function(e){e[e.VARINT=0]="VARINT",e[e.BIT64=1]="BIT64",e[e.LENGTH_DELIMITED=2]="LENGTH_DELIMITED",e[e.START_GROUP=3]="START_GROUP",e[e.END_GROUP=4]="END_GROUP",e[e.BIT32=5]="BIT32"})(Or||(Or={}));function gi(e,t,r,n){return{name:e,type:t,encode:r,decode:n}}function Sn(e){function t(i){if(e[i.toString()]==null)throw new Error("Invalid enum value");return e[i]}let r=function(o,a){let s=t(o);a.int32(s)},n=function(o){let a=o.int32();return t(a)};return gi("enum",Or.VARINT,r,n)}function Mr(e,t){return gi("message",Or.LENGTH_DELIMITED,e,t)}var ve;(function(e){e.RSA="RSA",e.Ed25519="Ed25519",e.Secp256k1="Secp256k1"})(ve||(ve={}));var ia;(function(e){e[e.RSA=0]="RSA",e[e.Ed25519=1]="Ed25519",e[e.Secp256k1=2]="Secp256k1"})(ia||(ia={}));(function(e){e.codec=()=>Sn(ia)})(ve||(ve={}));var Ct;(function(e){let t;e.codec=()=>(t==null&&(t=Mr((r,n,i={})=>{i.lengthDelimited!==!1&&n.fork(),r.Type!=null&&(n.uint32(8),ve.codec().encode(r.Type,n)),r.Data!=null&&(n.uint32(18),n.bytes(r.Data)),i.lengthDelimited!==!1&&n.ldelim()},(r,n)=>{let i={},o=n==null?r.len:r.pos+n;for(;r.pos<o;){let a=r.uint32();switch(a>>>3){case 1:i.Type=ve.codec().decode(r);break;case 2:i.Data=r.bytes();break;default:r.skipType(a&7);break}}return i})),t),e.encode=r=>Fr(r,e.codec()),e.decode=r=>Kr(r,e.codec())})(Ct||(Ct={}));var Tt;(function(e){let t;e.codec=()=>(t==null&&(t=Mr((r,n,i={})=>{i.lengthDelimited!==!1&&n.fork(),r.Type!=null&&(n.uint32(8),ve.codec().encode(r.Type,n)),r.Data!=null&&(n.uint32(18),n.bytes(r.Data)),i.lengthDelimited!==!1&&n.ldelim()},(r,n)=>{let i={},o=n==null?r.len:r.pos+n;for(;r.pos<o;){let a=r.uint32();switch(a>>>3){case 1:i.Type=ve.codec().decode(r);break;case 2:i.Data=r.bytes();break;default:r.skipType(a&7);break}}return i})),t),e.encode=r=>Fr(r,e.codec()),e.decode=r=>Kr(r,e.codec())})(Tt||(Tt={}));var Bn=class{_key;constructor(t){this._key=Vr(t,Ur)}async verify(t,r){return N0(this._key,r,t)}marshal(){return this._key}get bytes(){return Ct.encode({Type:ve.Ed25519,Data:this.marshal()}).subarray()}equals(t){return Oe(this.bytes,t.bytes)}async hash(){let{bytes:t}=await Ue.digest(this.bytes);return t}},yr=class{_key;_publicKey;constructor(t,r){this._key=Vr(t,Pt),this._publicKey=Vr(r,Ur)}async sign(t){return k0(this._key,t)}get public(){return new Bn(this._publicKey)}marshal(){return this._key}get bytes(){return Tt.encode({Type:ve.Ed25519,Data:this.marshal()}).subarray()}equals(t){return Oe(this.bytes,t.bytes)}async hash(){let{bytes:t}=await Ue.digest(this.bytes);return t}async id(){let t=Et.digest(this.public.bytes);return De.encode(t.bytes).substring(1)}async export(t,r="libp2p-key"){if(r==="libp2p-key")return Lr(this.bytes,t);throw new ce(`export format '${r}' is not supported`,"ERR_INVALID_EXPORT_FORMAT")}};function ny(e){if(e.length>Pt){e=Vr(e,Pt+Ur);let n=e.subarray(0,Pt),i=e.subarray(Pt,e.length);return new yr(n,i)}e=Vr(e,Pt);let t=e.subarray(0,Pt),r=e.subarray(Ur);return new yr(t,r)}function iy(e){return e=Vr(e,Ur),new Bn(e)}async function oy(){let{privateKey:e,publicKey:t}=await _0();return new yr(e,t)}async function Au(e){let{privateKey:t,publicKey:r}=await R0(e);return new yr(t,r)}function Vr(e,t){if(e=Uint8Array.from(e??[]),e.length!==t)throw new ce(`Key must be a Uint8Array of length ${t}, got ${e.length}`,"ERR_INVALID_KEY_TYPE");return e}function Me(e,t="utf8"){let r=ai[t];if(r==null)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}var tm=ge(Be(),1),rm=ge(ei(),1),Cu=ge(ue(),1);function ft(e,t){let r=Uint8Array.from(e.abs().toByteArray());if(r=r[0]===0?r.subarray(1):r,t!=null){if(r.length>t)throw new Error("byte array longer than desired length");r=st([new Uint8Array(t-r.length),r])}return Me(r,"base64url")}function Ge(e){let t=Tu(e);return new Cu.default.jsbn.BigInteger(Me(t,"base16"),16)}function Tu(e,t){let r=Ae(e,"base64urlpad");if(t!=null){if(r.length>t)throw new Error("byte array longer than desired length");r=st([new Uint8Array(t-r.length),r])}return r}var ay={"P-256":256,"P-384":384,"P-521":521},sy=Object.keys(ay),pm=sy.join(" / ");var ga={};Ne(ga,{RsaPrivateKey:()=>Yr,RsaPublicKey:()=>kn,fromJwk:()=>Dy,generateKeyPair:()=>Uy,unmarshalRsaPrivateKey:()=>ky,unmarshalRsaPublicKey:()=>Ny});var Rn=ge(ue(),1);var Xm=ge(Nu(),1);var fy=ge(Br(),1);var j=BigInt(0),ye=BigInt(1),er=BigInt(2),Tn=BigInt(3),Du=BigInt(8),Ee=Object.freeze({a:j,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:ye,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),Uu=(e,t)=>(e+t/er)/t,xi={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(e){let{n:t}=Ee,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-ye*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,a=BigInt("0x100000000000000000000000000000000"),s=Uu(o*e,t),c=Uu(-n*e,t),u=D(e-s*r-c*i,t),f=D(-s*n-c*o,t),l=u>a,h=f>a;if(l&&(u=t-u),h&&(f=t-f),u>a||f>a)throw new Error("splitScalarEndo: Endomorphism failed, k="+e);return{k1neg:l,k1:u,k2neg:h,k2:f}}},lt=32,Hr=32,ly=32,Lu=lt+1,Pu=2*lt+1;function Ku(e){let{a:t,b:r}=Ee,n=D(e*e),i=D(n*e);return D(i+t*e+r)}var vi=Ee.a===j,Ei=class extends Error{constructor(t){super(t)}};function Fu(e){if(!(e instanceof re))throw new TypeError("JacobianPoint expected")}var re=class{constructor(t,r,n){this.x=t,this.y=r,this.z=n}static fromAffine(t){if(!(t instanceof oe))throw new TypeError("JacobianPoint#fromAffine: expected Point");return t.equals(oe.ZERO)?re.ZERO:new re(t.x,t.y,ye)}static toAffineBatch(t){let r=gy(t.map(n=>n.z));return t.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(t){return re.toAffineBatch(t).map(re.fromAffine)}equals(t){Fu(t);let{x:r,y:n,z:i}=this,{x:o,y:a,z:s}=t,c=D(i*i),u=D(s*s),f=D(r*u),l=D(o*c),h=D(D(n*s)*u),d=D(D(a*i)*c);return f===l&&h===d}negate(){return new re(this.x,D(-this.y),this.z)}double(){let{x:t,y:r,z:n}=this,i=D(t*t),o=D(r*r),a=D(o*o),s=t+o,c=D(er*(D(s*s)-i-a)),u=D(Tn*i),f=D(u*u),l=D(f-er*c),h=D(u*(c-l)-Du*a),d=D(er*r*n);return new re(l,h,d)}add(t){Fu(t);let{x:r,y:n,z:i}=this,{x:o,y:a,z:s}=t;if(o===j||a===j)return this;if(r===j||n===j)return t;let c=D(i*i),u=D(s*s),f=D(r*u),l=D(o*c),h=D(D(n*s)*u),d=D(D(a*i)*c),p=D(l-f),y=D(d-h);if(p===j)return y===j?this.double():re.ZERO;let m=D(p*p),v=D(p*m),E=D(f*m),C=D(y*y-v-er*E),L=D(y*(E-C)-h*v),_=D(i*s*p);return new re(C,L,_)}subtract(t){return this.add(t.negate())}multiplyUnsafe(t){let r=re.ZERO;if(typeof t=="bigint"&&t===j)return r;let n=Vu(t);if(n===ye)return this;if(!vi){let l=r,h=this;for(;n>j;)n&ye&&(l=l.add(h)),h=h.double(),n>>=ye;return l}let{k1neg:i,k1:o,k2neg:a,k2:s}=xi.splitScalar(n),c=r,u=r,f=this;for(;o>j||s>j;)o&ye&&(c=c.add(f)),s&ye&&(u=u.add(f)),f=f.double(),o>>=ye,s>>=ye;return i&&(c=c.negate()),a&&(u=u.negate()),u=new re(D(u.x*xi.beta),u.y,u.z),c.add(u)}precomputeWindow(t){let r=vi?128/t+1:256/t+1,n=[],i=this,o=i;for(let a=0;a<r;a++){o=i,n.push(o);for(let s=1;s<2**(t-1);s++)o=o.add(i),n.push(o);i=o.double()}return n}wNAF(t,r){!r&&this.equals(re.BASE)&&(r=oe.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&ca.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=re.normalizeZ(i),ca.set(r,i)));let o=re.ZERO,a=re.BASE,s=1+(vi?128/n:256/n),c=2**(n-1),u=BigInt(2**n-1),f=2**n,l=BigInt(n);for(let h=0;h<s;h++){let d=h*c,p=Number(t&u);t>>=l,p>c&&(p-=f,t+=ye);let y=d,m=d+Math.abs(p)-1,v=h%2!==0,E=p<0;p===0?a=a.add(bi(v,i[y])):o=o.add(bi(E,i[m]))}return{p:o,f:a}}multiply(t,r){let n=Vu(t),i,o;if(vi){let{k1neg:a,k1:s,k2neg:c,k2:u}=xi.splitScalar(n),{p:f,f:l}=this.wNAF(s,r),{p:h,f:d}=this.wNAF(u,r);f=bi(a,f),h=bi(c,h),h=new re(D(h.x*xi.beta),h.y,h.z),i=f.add(h),o=l.add(d)}else{let{p:a,f:s}=this.wNAF(n,r);i=a,o=s}return re.normalizeZ([i,o])[0]}toAffine(t){let{x:r,y:n,z:i}=this,o=this.equals(re.ZERO);t==null&&(t=o?Du:Wr(i));let a=t,s=D(a*a),c=D(s*a),u=D(r*s),f=D(n*c),l=D(i*a);if(o)return oe.ZERO;if(l!==ye)throw new Error("invZ was invalid");return new oe(u,f)}};re.BASE=new re(Ee.Gx,Ee.Gy,ye);re.ZERO=new re(j,ye,j);function bi(e,t){let r=t.negate();return e?r:t}var ca=new WeakMap,oe=class{constructor(t,r){this.x=t,this.y=r}_setWindowSize(t){this._WINDOW_SIZE=t,ca.delete(this)}hasEvenY(){return this.y%er===j}static fromCompressedHex(t){let r=t.length===32,n=tr(r?t:t.subarray(1));if(!ua(n))throw new Error("Point is not on curve");let i=Ku(n),o=yy(i),a=(o&ye)===ye;r?a&&(o=D(-o)):(t[0]&1)===1!==a&&(o=D(-o));let s=new oe(n,o);return s.assertValidity(),s}static fromUncompressedHex(t){let r=tr(t.subarray(1,lt+1)),n=tr(t.subarray(lt+1,lt*2+1)),i=new oe(r,n);return i.assertValidity(),i}static fromHex(t){let r=$r(t),n=r.length,i=r[0];if(n===lt)return this.fromCompressedHex(r);if(n===Lu&&(i===2||i===3))return this.fromCompressedHex(r);if(n===Pu&&i===4)return this.fromUncompressedHex(r);throw new Error(`Point.fromHex: received invalid point. Expected 32-${Lu} compressed bytes or ${Pu} uncompressed bytes, not ${n}`)}static fromPrivateKey(t){return oe.BASE.multiply(Bi(t))}static fromSignature(t,r,n){let{r:i,s:o}=qu(r);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");let a=ha($r(t)),{n:s}=Ee,c=n===2||n===3?i+s:i,u=Wr(c,s),f=D(-a*u,s),l=D(o*u,s),h=n&1?"03":"02",d=oe.fromHex(h+qr(c)),p=oe.BASE.multiplyAndAddUnsafe(d,f,l);if(!p)throw new Error("Cannot recover signature: point at infinify");return p.assertValidity(),p}toRawBytes(t=!1){return mr(this.toHex(t))}toHex(t=!1){let r=qr(this.x);return t?`${this.hasEvenY()?"02":"03"}${r}`:`04${r}${qr(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let t="Point is not on elliptic curve",{x:r,y:n}=this;if(!ua(r)||!ua(n))throw new Error(t);let i=D(n*n),o=Ku(r);if(D(i-o)!==j)throw new Error(t)}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new oe(this.x,D(-this.y))}double(){return re.fromAffine(this).double().toAffine()}add(t){return re.fromAffine(this).add(re.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return re.fromAffine(this).multiply(t,this).toAffine()}multiplyAndAddUnsafe(t,r,n){let i=re.fromAffine(this),o=r===j||r===ye||this!==oe.BASE?i.multiplyUnsafe(r):i.multiply(r),a=re.fromAffine(t).multiplyUnsafe(n),s=o.add(a);return s.equals(re.ZERO)?void 0:s.toAffine()}};oe.BASE=new oe(Ee.Gx,Ee.Gy);oe.ZERO=new oe(j,j);function Ou(e){return Number.parseInt(e[0],16)>=8?"00"+e:e}function Mu(e){if(e.length<2||e[0]!==2)throw new Error(`Invalid signature integer tag: ${Gr(e)}`);let t=e[1],r=e.subarray(2,t+2);if(!t||r.length!==t)throw new Error("Invalid signature integer: wrong length");if(r[0]===0&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:tr(r),left:e.subarray(t+2)}}function hy(e){if(e.length<2||e[0]!=48)throw new Error(`Invalid signature tag: ${Gr(e)}`);if(e[1]!==e.length-2)throw new Error("Invalid signature: incorrect length");let{data:t,left:r}=Mu(e.subarray(2)),{data:n,left:i}=Mu(r);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${Gr(i)}`);return{r:t,s:n}}var It=class{constructor(t,r){this.r=t,this.s=r,this.assertValidity()}static fromCompact(t){let r=t instanceof Uint8Array,n="Signature.fromCompact";if(typeof t!="string"&&!r)throw new TypeError(`${n}: Expected string or Uint8Array`);let i=r?Gr(t):t;if(i.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new It(Si(i.slice(0,64)),Si(i.slice(64,128)))}static fromDER(t){let r=t instanceof Uint8Array;if(typeof t!="string"&&!r)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");let{r:n,s:i}=hy(r?t:mr(t));return new It(n,i)}static fromHex(t){return this.fromDER(t)}assertValidity(){let{r:t,s:r}=this;if(!_n(t))throw new Error("Invalid Signature: r must be 0 < r < n");if(!_n(r))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let t=Ee.n>>ye;return this.s>t}normalizeS(){return this.hasHighS()?new It(this.r,D(-this.s,Ee.n)):this}toDERRawBytes(){return mr(this.toDERHex())}toDERHex(){let t=Ou(Cn(this.s)),r=Ou(Cn(this.r)),n=t.length/2,i=r.length/2,o=Cn(n),a=Cn(i);return`30${Cn(i+n+4)}02${a}${r}02${o}${t}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return mr(this.toCompactHex())}toCompactHex(){return qr(this.r)+qr(this.s)}};function jt(...e){if(!e.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(e.length===1)return e[0];let t=e.reduce((n,i)=>n+i.length,0),r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){let o=e[n];r.set(o,i),i+=o.length}return r}var py=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Gr(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");let t="";for(let r=0;r<e.length;r++)t+=py[e[r]];return t}var dy=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function qr(e){if(typeof e!="bigint")throw new Error("Expected bigint");if(!(j<=e&&e<dy))throw new Error("Expected number 0 <= n < 2^256");return e.toString(16).padStart(64,"0")}function fa(e){let t=mr(qr(e));if(t.length!==32)throw new Error("Error: expected 32 bytes");return t}function Cn(e){let t=e.toString(16);return t.length&1?`0${t}`:t}function Si(e){if(typeof e!="string")throw new TypeError("hexToNumber: expected string, got "+typeof e);return BigInt(`0x${e}`)}function mr(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+e.length);let t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){let n=r*2,i=e.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[r]=o}return t}function tr(e){return Si(Gr(e))}function $r(e){return e instanceof Uint8Array?Uint8Array.from(e):mr(e)}function Vu(e){if(typeof e=="number"&&Number.isSafeInteger(e)&&e>0)return BigInt(e);if(typeof e=="bigint"&&_n(e))return e;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function D(e,t=Ee.P){let r=e%t;return r>=j?r:t+r}function rt(e,t){let{P:r}=Ee,n=e;for(;t-- >j;)n*=n,n%=r;return n}function yy(e){let{P:t}=Ee,r=BigInt(6),n=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),s=BigInt(88),c=e*e*e%t,u=c*c*e%t,f=rt(u,Tn)*u%t,l=rt(f,Tn)*u%t,h=rt(l,er)*c%t,d=rt(h,n)*h%t,p=rt(d,i)*d%t,y=rt(p,a)*p%t,m=rt(y,s)*y%t,v=rt(m,a)*p%t,E=rt(v,Tn)*u%t,C=rt(E,o)*d%t,L=rt(C,r)*c%t,_=rt(L,er);if(_*_%t!==e)throw new Error("Cannot find square root");return _}function Wr(e,t=Ee.P){if(e===j||t<=j)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=D(e,t),n=t,i=j,o=ye,a=ye,s=j;for(;r!==j;){let u=n/r,f=n%r,l=i-a*u,h=o-s*u;n=r,r=f,i=a,o=s,a=l,s=h}if(n!==ye)throw new Error("invert: does not exist");return D(i,t)}function gy(e,t=Ee.P){let r=new Array(e.length),n=e.reduce((o,a,s)=>a===j?o:(r[s]=o,D(o*a,t)),ye),i=Wr(n,t);return e.reduceRight((o,a,s)=>a===j?o:(r[s]=D(o*r[s],t),D(o*a,t)),i),r}function my(e){let t=e.length*8-Hr*8,r=tr(e);return t>0?r>>BigInt(t):r}function ha(e,t=!1){let r=my(e);if(t)return r;let{n}=Ee;return r>=n?r-n:r}var zr,In,la=class{constructor(t,r){if(this.hashLen=t,this.qByteLen=r,typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof r!="number"||r<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(t).fill(1),this.k=new Uint8Array(t).fill(0),this.counter=0}hmac(...t){return ht.hmacSha256(this.k,...t)}hmacSync(...t){return In(this.k,...t)}checkSync(){if(typeof In!="function")throw new Ei("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(t=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),t),this.v=await this.hmac(this.v),t.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),t),this.v=await this.hmac(this.v))}reseedSync(t=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),t),this.v=this.hmacSync(this.v),t.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),t),this.v=this.hmacSync(this.v))}async generate(){this.incr();let t=0,r=[];for(;t<this.qByteLen;){this.v=await this.hmac(this.v);let n=this.v.slice();r.push(n),t+=this.v.length}return jt(...r)}generateSync(){this.checkSync(),this.incr();let t=0,r=[];for(;t<this.qByteLen;){this.v=this.hmacSync(this.v);let n=this.v.slice();r.push(n),t+=this.v.length}return jt(...r)}};function _n(e){return j<e&&e<Ee.n}function ua(e){return j<e&&e<Ee.P}function xy(e,t,r,n=!0){let{n:i}=Ee,o=ha(e,!0);if(!_n(o))return;let a=Wr(o,i),s=oe.BASE.multiply(o),c=D(s.x,i);if(c===j)return;let u=D(a*D(t+r*c,i),i);if(u===j)return;let f=new It(c,u),l=(s.x===f.r?0:2)|Number(s.y&ye);return n&&f.hasHighS()&&(f=f.normalizeS(),l^=1),{sig:f,recovery:l}}function Bi(e){let t;if(typeof e=="bigint")t=e;else if(typeof e=="number"&&Number.isSafeInteger(e)&&e>0)t=BigInt(e);else if(typeof e=="string"){if(e.length!==2*Hr)throw new Error("Expected 32 bytes of private key");t=Si(e)}else if(e instanceof Uint8Array){if(e.length!==Hr)throw new Error("Expected 32 bytes of private key");t=tr(e)}else throw new TypeError("Expected valid private key");if(!_n(t))throw new Error("Expected private key: 0 < key < n");return t}function vy(e){return e instanceof oe?(e.assertValidity(),e):oe.fromHex(e)}function qu(e){if(e instanceof It)return e.assertValidity(),e;try{return It.fromDER(e)}catch{return It.fromCompact(e)}}function pa(e,t=!1){return oe.fromPrivateKey(e).toRawBytes(t)}function zu(e){let t=e.length>lt?e.slice(0,lt):e;return tr(t)}function by(e){let t=zu(e),r=D(t,Ee.n);return Hu(r<j?t:r)}function Hu(e){return fa(e)}function wy(e,t,r){if(e==null)throw new Error(`sign: expected valid message hash, not "${e}"`);let n=$r(e),i=Bi(t),o=[Hu(i),by(n)];if(r!=null){r===!0&&(r=ht.randomBytes(lt));let c=$r(r);if(c.length!==lt)throw new Error(`sign: Expected ${lt} bytes of extra data`);o.push(c)}let a=jt(...o),s=zu(n);return{seed:a,m:s,d:i}}function Ey(e,t){let{sig:r,recovery:n}=e,{der:i,recovered:o}=Object.assign({canonical:!0,der:!0},t),a=i?r.toDERRawBytes():r.toCompactRawBytes();return o?[a,n]:a}async function Gu(e,t,r={}){let{seed:n,m:i,d:o}=wy(e,t,r.extraEntropy),a=new la(ly,Hr);await a.reseed(n);let s;for(;!(s=xy(await a.generate(),i,o,r.canonical));)await a.reseed();return Ey(s,r)}var Sy={strict:!0};function $u(e,t,r,n=Sy){let i;try{i=qu(e),t=$r(t)}catch{return!1}let{r:o,s:a}=i;if(n.strict&&i.hasHighS())return!1;let s=ha(t),c;try{c=vy(r)}catch{return!1}let{n:u}=Ee,f=Wr(a,u),l=D(s*f,u),h=D(o*f,u),d=oe.BASE.multiplyAndAddUnsafe(c,l,h);return d?D(d.x,u)===o:!1}oe.BASE._setWindowSize(8);var $e={node:fy,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};var wi={},ht={bytesToHex:Gr,hexToBytes:mr,concatBytes:jt,mod:D,invert:Wr,isValidPrivateKey(e){try{return Bi(e),!0}catch{return!1}},_bigintTo32Bytes:fa,_normalizePrivateKey:Bi,hashToPrivateKey:e=>{e=$r(e);let t=Hr+8;if(e.length<t||e.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");let r=D(tr(e),Ee.n-ye)+ye;return fa(r)},randomBytes:(e=32)=>{if($e.web)return $e.web.getRandomValues(new Uint8Array(e));if($e.node){let{randomBytes:t}=$e.node;return Uint8Array.from(t(e))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>ht.hashToPrivateKey(ht.randomBytes(Hr+8)),precompute(e=8,t=oe.BASE){let r=t===oe.BASE?t:new oe(t.x,t.y);return r._setWindowSize(e),r.multiply(Tn),r},sha256:async(...e)=>{if($e.web){let t=await $e.web.subtle.digest("SHA-256",jt(...e));return new Uint8Array(t)}else if($e.node){let{createHash:t}=$e.node,r=t("sha256");return e.forEach(n=>r.update(n)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(e,...t)=>{if($e.web){let r=await $e.web.subtle.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=jt(...t),i=await $e.web.subtle.sign("HMAC",r,n);return new Uint8Array(i)}else if($e.node){let{createHmac:r}=$e.node,n=r("sha256",e);return t.forEach(i=>n.update(i)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(e,...t)=>{let r=wi[e];if(r===void 0){let n=await ht.sha256(Uint8Array.from(e,i=>i.charCodeAt(0)));r=jt(n,n),wi[e]=r}return ht.sha256(r,...t)},taggedHashSync:(e,...t)=>{if(typeof zr!="function")throw new Ei("sha256Sync is undefined, you need to set it");let r=wi[e];if(r===void 0){let n=zr(Uint8Array.from(e,i=>i.charCodeAt(0)));r=jt(n,n),wi[e]=r}return zr(r,...t)},_JacobianPoint:re};Object.defineProperties(ht,{sha256Sync:{configurable:!1,get(){return zr},set(e){zr||(zr=e)}},hmacSha256Sync:{configurable:!1,get(){return In},set(e){In||(In=e)}}});function Ai(e){if(isNaN(e)||e<=0)throw new ce("random bytes length must be a Number bigger than 0","ERR_INVALID_LENGTH");return ht.randomBytes(e)}var Dm=ge(ni(),1),da=ge(ue(),1);function Wu(e,t){return t.map(r=>Ge(e[r]))}function Yu(e){return da.default.pki.setRsaPrivateKey(...Wu(e,["n","e","d","p","q","dp","dq","qi"]))}function Zu(e){return da.default.pki.setRsaPublicKey(...Wu(e,["n","e"]))}var xr={};Ne(xr,{jwkToPkcs1:()=>Cy,jwkToPkix:()=>Iy,pkcs1ToJwk:()=>Ay,pkixToJwk:()=>Ty});var Pm=ge(ln(),1),Km=ge(ni(),1);var Kt=ge(ue(),1);function Ay(e){let t=Kt.default.asn1.fromDer(Me(e,"ascii")),r=Kt.default.pki.privateKeyFromAsn1(t);return{kty:"RSA",n:ft(r.n),e:ft(r.e),d:ft(r.d),p:ft(r.p),q:ft(r.q),dp:ft(r.dP),dq:ft(r.dQ),qi:ft(r.qInv),alg:"RS256"}}function Cy(e){if(e.n==null||e.e==null||e.d==null||e.p==null||e.q==null||e.dp==null||e.dq==null||e.qi==null)throw new ce("JWK was missing components","ERR_INVALID_PARAMETERS");let t=Kt.default.pki.privateKeyToAsn1({n:Ge(e.n),e:Ge(e.e),d:Ge(e.d),p:Ge(e.p),q:Ge(e.q),dP:Ge(e.dp),dQ:Ge(e.dq),qInv:Ge(e.qi)});return Ae(Kt.default.asn1.toDer(t).getBytes(),"ascii")}function Ty(e){let t=Kt.default.asn1.fromDer(Me(e,"ascii")),r=Kt.default.pki.publicKeyFromAsn1(t);return{kty:"RSA",n:ft(r.n),e:ft(r.e)}}function Iy(e){if(e.n==null||e.e==null)throw new ce("JWK was missing components","ERR_INVALID_PARAMETERS");let t=Kt.default.pki.publicKeyToAsn1({n:Ge(e.n),e:Ge(e.e)});return Ae(Kt.default.asn1.toDer(t).getBytes(),"ascii")}async function Qu(e){let t=await ze.get().subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign","verify"]),r=await ju(t);return{privateKey:r[0],publicKey:r[1]}}async function ya(e){let r=[await ze.get().subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["sign"]),await _y(e)],n=await ju({privateKey:r[0],publicKey:r[1]});return{privateKey:n[0],publicKey:n[1]}}async function Xu(e,t){let r=await ze.get().subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["sign"]),n=await ze.get().subtle.sign({name:"RSASSA-PKCS1-v1_5"},r,Uint8Array.from(t));return new Uint8Array(n,0,n.byteLength)}async function Ju(e,t,r){let n=await ze.get().subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["verify"]);return ze.get().subtle.verify({name:"RSASSA-PKCS1-v1_5"},n,t,r)}async function ju(e){if(e.privateKey==null||e.publicKey==null)throw new ce("Private and public key are required","ERR_INVALID_PARAMETERS");return Promise.all([ze.get().subtle.exportKey("jwk",e.privateKey),ze.get().subtle.exportKey("jwk",e.publicKey)])}async function _y(e){return ze.get().subtle.importKey("jwk",{kty:e.kty,n:e.n,e:e.e},{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["verify"])}function ec(e,t,r,n){let i=t?Zu(e):Yu(e),o=Me(Uint8Array.from(r),"ascii"),a=n(o,i);return Ae(a,"ascii")}function tc(e,t){return ec(e,!0,t,(r,n)=>n.encrypt(r))}function rc(e,t){return ec(e,!1,t,(r,n)=>n.decrypt(r))}var kn=class{_key;constructor(t){this._key=t}async verify(t,r){return Ju(this._key,r,t)}marshal(){return xr.jwkToPkix(this._key)}get bytes(){return Ct.encode({Type:ve.RSA,Data:this.marshal()}).subarray()}encrypt(t){return tc(this._key,t)}equals(t){return Oe(this.bytes,t.bytes)}async hash(){let{bytes:t}=await Ue.digest(this.bytes);return t}},Yr=class{_key;_publicKey;constructor(t,r){this._key=t,this._publicKey=r}genSecret(){return Ai(16)}async sign(t){return Xu(this._key,t)}get public(){if(this._publicKey==null)throw new ce("public key not provided","ERR_PUBKEY_NOT_PROVIDED");return new kn(this._publicKey)}decrypt(t){return rc(this._key,t)}marshal(){return xr.jwkToPkcs1(this._key)}get bytes(){return Tt.encode({Type:ve.RSA,Data:this.marshal()}).subarray()}equals(t){return Oe(this.bytes,t.bytes)}async hash(){let{bytes:t}=await Ue.digest(this.bytes);return t}async id(){let t=await this.public.hash();return Me(t,"base58btc")}async export(t,r="pkcs-8"){if(r==="pkcs-8"){let n=new Rn.default.util.ByteBuffer(this.marshal()),i=Rn.default.asn1.fromDer(n),o=Rn.default.pki.privateKeyFromAsn1(i),a={algorithm:"aes256",count:1e4,saltSize:128/8,prfAlgorithm:"sha512"};return Rn.default.pki.encryptRsaPrivateKey(o,t,a)}else{if(r==="libp2p-key")return Lr(this.bytes,t);throw new ce(`export format '${r}' is not supported`,"ERR_INVALID_EXPORT_FORMAT")}}};async function ky(e){let t=xr.pkcs1ToJwk(e),r=await ya(t);return new Yr(r.privateKey,r.publicKey)}function Ny(e){let t=xr.pkixToJwk(e);return new kn(t)}async function Dy(e){let t=await ya(e);return new Yr(t.privateKey,t.publicKey)}async function Uy(e){let t=await Qu(e);return new Yr(t.privateKey,t.publicKey)}var xa={};Ne(xa,{Secp256k1PrivateKey:()=>Dn,Secp256k1PublicKey:()=>Nn,generateKeyPair:()=>Fy,unmarshalSecp256k1PrivateKey:()=>Py,unmarshalSecp256k1PublicKey:()=>Ky});function nc(){return ht.randomPrivateKey()}async function ic(e,t){let{digest:r}=await Ue.digest(t);try{return await Gu(r,e)}catch(n){throw new ce(String(n),"ERR_INVALID_INPUT")}}async function oc(e,t,r){try{let{digest:n}=await Ue.digest(r);return $u(t,n,e)}catch(n){throw new ce(String(n),"ERR_INVALID_INPUT")}}function ac(e){return oe.fromHex(e).toRawBytes(!0)}function sc(e){try{pa(e,!0)}catch(t){throw new ce(String(t),"ERR_INVALID_PRIVATE_KEY")}}function ma(e){try{oe.fromHex(e)}catch(t){throw new ce(String(t),"ERR_INVALID_PUBLIC_KEY")}}function uc(e){try{return pa(e,!0)}catch(t){throw new ce(String(t),"ERR_INVALID_PRIVATE_KEY")}}var Nn=class{_key;constructor(t){ma(t),this._key=t}async verify(t,r){return oc(this._key,r,t)}marshal(){return ac(this._key)}get bytes(){return Ct.encode({Type:ve.Secp256k1,Data:this.marshal()}).subarray()}equals(t){return Oe(this.bytes,t.bytes)}async hash(){let{bytes:t}=await Ue.digest(this.bytes);return t}},Dn=class{_key;_publicKey;constructor(t,r){this._key=t,this._publicKey=r??uc(t),sc(this._key),ma(this._publicKey)}async sign(t){return ic(this._key,t)}get public(){return new Nn(this._publicKey)}marshal(){return this._key}get bytes(){return Tt.encode({Type:ve.Secp256k1,Data:this.marshal()}).subarray()}equals(t){return Oe(this.bytes,t.bytes)}async hash(){let{bytes:t}=await Ue.digest(this.bytes);return t}async id(){let t=await this.public.hash();return Me(t,"base58btc")}async export(t,r="libp2p-key"){if(r==="libp2p-key")return Lr(this.bytes,t);throw new ce(`export format '${r}' is not supported`,"ERR_INVALID_EXPORT_FORMAT")}};function Py(e){return new Dn(e)}function Ky(e){return new Nn(e)}async function Fy(){let e=nc();return new Dn(e)}var vr={rsa:ga,ed25519:oa,secp256k1:xa};function cc(e){let t=Object.keys(vr).join(" / ");return new ce(`invalid or unsupported key type ${e}. Must be ${t}`,"ERR_UNSUPPORTED_KEY_TYPE")}function va(e){let t=Ct.decode(e),r=t.Data??new Uint8Array;switch(t.Type){case ve.RSA:return vr.rsa.unmarshalRsaPublicKey(r);case ve.Ed25519:return vr.ed25519.unmarshalEd25519PublicKey(r);case ve.Secp256k1:return vr.secp256k1.unmarshalSecp256k1PublicKey(r);default:throw cc(t.Type??"RSA")}}async function fc(e){let t=Tt.decode(e),r=t.Data??new Uint8Array;switch(t.Type){case ve.RSA:return vr.rsa.unmarshalRsaPrivateKey(r);case ve.Ed25519:return vr.ed25519.unmarshalEd25519PrivateKey(r);case ve.Secp256k1:return vr.secp256k1.unmarshalSecp256k1PrivateKey(r);default:throw cc(t.Type??"RSA")}}var Ye=ge(yc(),1);Ye.default.formatters.b=e=>e==null?"undefined":De.baseEncode(e);Ye.default.formatters.t=e=>e==null?"undefined":Gt.baseEncode(e);Ye.default.formatters.m=e=>e==null?"undefined":_r.baseEncode(e);Ye.default.formatters.p=e=>e==null?"undefined":e.toString();Ye.default.formatters.c=e=>e==null?"undefined":e.toString();Ye.default.formatters.k=e=>e==null?"undefined":e.toString();Ye.default.formatters.a=e=>e==null?"undefined":e.toString();function Jy(e){let t=()=>{};return t.enabled=!1,t.color="",t.diff=0,t.log=()=>{},t.namespace=e,t.destroy=()=>!0,t.extend=()=>t,t}function Ii(e){let t=Jy(`${e}:trace`);return Ye.default.enabled(`${e}:trace`)&&Ye.default.names.map(r=>r.toString()).find(r=>r.includes(":trace"))!=null&&(t=(0,Ye.default)(`${e}:trace`)),Object.assign((0,Ye.default)(e),{error:(0,Ye.default)(`${e}:error`),trace:t})}var Ua=ge(ba(),1);var xc=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,r)=>(r&=63,r<36?t+=r.toString(36):r<62?t+=(r-26).toString(36).toUpperCase():r>62?t+="-":t+="_",t),"");var Ft="/",vc=new TextEncoder().encode(Ft),_i=vc[0],Pe=class{_buf;constructor(t,r){if(typeof t=="string")this._buf=Ae(t);else if(t instanceof Uint8Array)this._buf=t;else throw new Error("Invalid key, should be String of Uint8Array");if(r==null&&(r=!0),r&&this.clean(),this._buf.byteLength===0||this._buf[0]!==_i)throw new Error("Invalid key")}toString(t="utf8"){return Me(this._buf,t)}uint8Array(){return this._buf}get[Symbol.toStringTag](){return`Key(${this.toString()})`}static withNamespaces(t){return new Pe(t.join(Ft))}static random(){return new Pe(xc().replace(/-/g,""))}static asKey(t){return t instanceof Uint8Array||typeof t=="string"?new Pe(t):typeof t.uint8Array=="function"?new Pe(t.uint8Array()):null}clean(){if((this._buf==null||this._buf.byteLength===0)&&(this._buf=vc),this._buf[0]!==_i){let t=new Uint8Array(this._buf.byteLength+1);t.fill(_i,0,1),t.set(this._buf,1),this._buf=t}for(;this._buf.byteLength>1&&this._buf[this._buf.byteLength-1]===_i;)this._buf=this._buf.subarray(0,-1)}less(t){let r=this.list(),n=t.list();for(let i=0;i<r.length;i++){if(n.length<i+1)return!1;let o=r[i],a=n[i];if(o<a)return!0;if(o>a)return!1}return r.length<n.length}reverse(){return Pe.withNamespaces(this.list().slice().reverse())}namespaces(){return this.list()}baseNamespace(){let t=this.namespaces();return t[t.length-1]}list(){return this.toString().split(Ft).slice(1)}type(){return e1(this.baseNamespace())}name(){return t1(this.baseNamespace())}instance(t){return new Pe(this.toString()+":"+t)}path(){let t=this.parent().toString();return t.endsWith(Ft)||(t+=Ft),t+=this.type(),new Pe(t)}parent(){let t=this.list();return t.length===1?new Pe(Ft):new Pe(t.slice(0,-1).join(Ft))}child(t){return this.toString()===Ft?t:t.toString()===Ft?this:new Pe(this.toString()+t.toString(),!1)}isAncestorOf(t){return t.toString()===this.toString()?!1:t.toString().startsWith(this.toString())}isDecendantOf(t){return t.toString()===this.toString()?!1:this.toString().startsWith(t.toString())}isTopLevel(){return this.list().length===1}concat(...t){return Pe.withNamespaces([...this.namespaces(),...r1(t.map(r=>r.namespaces()))])}};function e1(e){let t=e.split(":");return t.length<2?"":t.slice(0,-1).join(":")}function t1(e){let t=e.split(":");return t[t.length-1]}function r1(e){return[].concat(...e)}var La=ge(bc(),1);var wc="ERR_UNRECOGNIZED_VALIDITY",Ec="ERR_SIGNATURE_CREATION";var Ea="ERR_UNDEFINED_PARAMETER";var Sc="ERR_INVALID_EMBEDDED_KEY",Bc="ERR_MISSING_PRIVATE_KEY";var _t;(function(e){let t;(function(i){i.EOL="EOL"})(t=e.ValidityType||(e.ValidityType={}));let r;(function(i){i[i.EOL=0]="EOL"})(r||(r={})),function(i){i.codec=()=>Sn(r)}(t=e.ValidityType||(e.ValidityType={}));let n;e.codec=()=>(n==null&&(n=Mr((i,o,a={})=>{a.lengthDelimited!==!1&&o.fork(),i.value!=null&&(o.uint32(10),o.bytes(i.value)),i.signature!=null&&(o.uint32(18),o.bytes(i.signature)),i.validityType!=null&&(o.uint32(24),e.ValidityType.codec().encode(i.validityType,o)),i.validity!=null&&(o.uint32(34),o.bytes(i.validity)),i.sequence!=null&&(o.uint32(40),o.uint64(i.sequence)),i.ttl!=null&&(o.uint32(48),o.uint64(i.ttl)),i.pubKey!=null&&(o.uint32(58),o.bytes(i.pubKey)),i.signatureV2!=null&&(o.uint32(66),o.bytes(i.signatureV2)),i.data!=null&&(o.uint32(74),o.bytes(i.data)),a.lengthDelimited!==!1&&o.ldelim()},(i,o)=>{let a={},s=o==null?i.len:i.pos+o;for(;i.pos<s;){let c=i.uint32();switch(c>>>3){case 1:a.value=i.bytes();break;case 2:a.signature=i.bytes();break;case 3:a.validityType=e.ValidityType.codec().decode(i);break;case 4:a.validity=i.bytes();break;case 5:a.sequence=i.uint64();break;case 6:a.ttl=i.uint64();break;case 7:a.pubKey=i.bytes();break;case 8:a.signatureV2=i.bytes();break;case 9:a.data=i.bytes();break;default:i.skipType(c&7);break}}return a})),n),e.encode=i=>Fr(i,e.codec()),e.decode=i=>Kr(i,e.codec())})(_t||(_t={}));var Cc=Symbol.for("@libp2p/peer-id");var n1=Symbol.for("nodejs.util.inspect.custom"),Tc=Object.values(Dr).map(e=>e.decoder).reduce((e,t)=>e.or(t),Dr.identity.decoder),Ic=114,Sa=36,Ba=37,Un=class{constructor(t){this.type=t.type,this.multihash=t.multihash,this.privateKey=t.privateKey,Object.defineProperty(this,"string",{enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return`PeerId(${this.toString()})`}get[Cc](){return!0}toString(){return this.string==null&&(this.string=De.encode(this.multihash.bytes).slice(1)),this.string}toCID(){return be.createV1(Ic,this.multihash)}toBytes(){return this.multihash.bytes}toJSON(){return this.toString()}equals(t){if(t instanceof Uint8Array)return Oe(this.multihash.bytes,t);if(typeof t=="string")return i1(t).equals(this);if(t?.multihash?.bytes!=null)return Oe(this.multihash.bytes,t.multihash.bytes);throw new Error("not valid Id")}[n1](){return`PeerId(${this.toString()})`}},Jr=class extends Un{constructor(t){super({...t,type:"RSA"}),this.type="RSA",this.publicKey=t.publicKey}},jr=class extends Un{constructor(t){super({...t,type:"Ed25519"}),this.type="Ed25519",this.publicKey=t.multihash.digest}},en=class extends Un{constructor(t){super({...t,type:"secp256k1"}),this.type="secp256k1",this.publicKey=t.multihash.digest}};function i1(e,t){if(t=t??Tc,e.charAt(0)==="1"||e.charAt(0)==="Q"){let r=cr(De.decode(`z${e}`));return e.startsWith("12D")?new jr({multihash:r}):e.startsWith("16U")?new en({multihash:r}):new Jr({multihash:r})}return Aa(Tc.decode(e))}function Aa(e){try{let t=cr(e);if(t.code===Et.code){if(t.digest.length===Sa)return new jr({multihash:t});if(t.digest.length===Ba)return new en({multihash:t})}if(t.code===Ue.code)return new Jr({multihash:t})}catch{return o1(be.decode(e))}throw new Error("Supplied PeerID CID is invalid")}function o1(e){if(e==null||e.multihash==null||e.version==null||e.version===1&&e.code!==Ic)throw new Error("Supplied PeerID CID is invalid");let t=e.multihash;if(t.code===Ue.code)return new Jr({multihash:e.multihash});if(t.code===Et.code){if(t.digest.length===Sa)return new jr({multihash:e.multihash});if(t.digest.length===Ba)return new en({multihash:e.multihash})}throw new Error("Supplied PeerID CID is invalid")}async function _c(e,t){return e.length===Sa?new jr({multihash:wt(Et.code,e),privateKey:t}):e.length===Ba?new en({multihash:wt(Et.code,e),privateKey:t}):new Jr({multihash:await Ue.digest(e),publicKey:e,privateKey:t})}var a1=["string","number","bigint","symbol"],s1=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function Rc(e){if(e===null)return"null";if(e===void 0)return"undefined";if(e===!0||e===!1)return"boolean";let t=typeof e;if(a1.includes(t))return t;if(t==="function")return"Function";if(Array.isArray(e))return"Array";if(u1(e))return"Buffer";let r=c1(e);return r||"Object"}function u1(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}function c1(e){let t=Object.prototype.toString.call(e).slice(8,-1);if(s1.includes(t))return t}var w=class{constructor(t,r,n){this.major=t,this.majorEncoded=t<<5,this.name=r,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(t){return this.major<t.major?-1:this.major>t.major?1:0}};w.uint=new w(0,"uint",!0);w.negint=new w(1,"negint",!0);w.bytes=new w(2,"bytes",!0);w.string=new w(3,"string",!0);w.array=new w(4,"array",!1);w.map=new w(5,"map",!1);w.tag=new w(6,"tag",!1);w.float=new w(7,"float",!0);w.false=new w(7,"false",!0);w.true=new w(7,"true",!0);w.null=new w(7,"null",!0);w.undefined=new w(7,"undefined",!0);w.break=new w(7,"break",!0);var U=class{constructor(t,r,n){this.type=t,this.value=r,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}};var tn=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",f1=new TextDecoder,l1=new TextEncoder;function Ri(e){return tn&&globalThis.Buffer.isBuffer(e)}function Ca(e){return e instanceof Uint8Array?Ri(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}var Uc=tn?(e,t,r)=>r-t>64?globalThis.Buffer.from(e.subarray(t,r)).toString("utf8"):Nc(e,t,r):(e,t,r)=>r-t>64?f1.decode(e.subarray(t,r)):Nc(e,t,r),Lc=tn?e=>e.length>64?globalThis.Buffer.from(e):kc(e):e=>e.length>64?l1.encode(e):kc(e),Rt=e=>Uint8Array.from(e),rn=tn?(e,t,r)=>Ri(e)?new Uint8Array(e.subarray(t,r)):e.slice(t,r):(e,t,r)=>e.slice(t,r),Pc=tn?(e,t)=>(e=e.map(r=>r instanceof Uint8Array?r:globalThis.Buffer.from(r)),Ca(globalThis.Buffer.concat(e,t))):(e,t)=>{let r=new Uint8Array(t),n=0;for(let i of e)n+i.length>r.length&&(i=i.subarray(0,r.length-n)),r.set(i,n),n+=i.length;return r},Kc=tn?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function Fc(e,t){if(Ri(e)&&Ri(t))return e.compare(t);for(let r=0;r<e.length;r++)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0}function kc(e,t=1/0){let r,n=e.length,i=null,o=[];for(let a=0;a<n;++a){if(r=e.charCodeAt(a),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}else if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return o}function Nc(e,t,r){let n=[];for(;t<r;){let i=e[t],o=null,a=i>239?4:i>223?3:i>191?2:1;if(t+a<=r){let s,c,u,f;switch(a){case 1:i<128&&(o=i);break;case 2:s=e[t+1],(s&192)===128&&(f=(i&31)<<6|s&63,f>127&&(o=f));break;case 3:s=e[t+1],c=e[t+2],(s&192)===128&&(c&192)===128&&(f=(i&15)<<12|(s&63)<<6|c&63,f>2047&&(f<55296||f>57343)&&(o=f));break;case 4:s=e[t+1],c=e[t+2],u=e[t+3],(s&192)===128&&(c&192)===128&&(u&192)===128&&(f=(i&15)<<18|(s&63)<<12|(c&63)<<6|u&63,f>65535&&f<1114112&&(o=f))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|o&1023),n.push(o),t+=a}return h1(n)}var Dc=4096;function h1(e){let t=e.length;if(t<=Dc)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=Dc));return r}var p1=256,Ln=class{constructor(t=p1){this.chunkSize=t,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(t){let r=this.chunks[this.chunks.length-1];if(this.cursor+t.length<=this.maxCursor+1){let i=r.length-(this.maxCursor-this.cursor)-1;r.set(t,i)}else{if(r){let i=r.length-(this.maxCursor-this.cursor)-1;i<r.length&&(this.chunks[this.chunks.length-1]=r.subarray(0,i),this.maxCursor=this.cursor-1)}t.length<64&&t.length<this.chunkSize?(r=Kc(this.chunkSize),this.chunks.push(r),this.maxCursor+=r.length,this._initReuseChunk===null&&(this._initReuseChunk=r),r.set(t,0)):(this.chunks.push(t),this.maxCursor+=t.length)}this.cursor+=t.length}toBytes(t=!1){let r;if(this.chunks.length===1){let n=this.chunks[0];t&&this.cursor>n.length/2?(r=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):r=rn(n,0,this.cursor)}else r=Pc(this.chunks,this.cursor);return t&&this.reset(),r}};var ne="CBOR decode error:",Ta="CBOR encode error:",Pn=[];Pn[23]=1;Pn[24]=2;Pn[25]=3;Pn[26]=5;Pn[27]=9;function Ot(e,t,r){if(e.length-t<r)throw new Error(`${ne} not enough data for type`)}var ke=[24,256,65536,4294967296,BigInt("18446744073709551616")];function Ze(e,t,r){Ot(e,t,1);let n=e[t];if(r.strict===!0&&n<ke[0])throw new Error(`${ne} integer encoded in more bytes than necessary (strict decode)`);return n}function Qe(e,t,r){Ot(e,t,2);let n=e[t]<<8|e[t+1];if(r.strict===!0&&n<ke[1])throw new Error(`${ne} integer encoded in more bytes than necessary (strict decode)`);return n}function Xe(e,t,r){Ot(e,t,4);let n=e[t]*16777216+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(r.strict===!0&&n<ke[2])throw new Error(`${ne} integer encoded in more bytes than necessary (strict decode)`);return n}function Je(e,t,r){Ot(e,t,8);let n=e[t]*16777216+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],i=e[t+4]*16777216+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],o=(BigInt(n)<<BigInt(32))+BigInt(i);if(r.strict===!0&&o<ke[3])throw new Error(`${ne} integer encoded in more bytes than necessary (strict decode)`);if(o<=Number.MAX_SAFE_INTEGER)return Number(o);if(r.allowBigInt===!0)return o;throw new Error(`${ne} integers outside of the safe integer range are not supported`)}function Oc(e,t,r,n){return new U(w.uint,Ze(e,t+1,n),2)}function Mc(e,t,r,n){return new U(w.uint,Qe(e,t+1,n),3)}function Vc(e,t,r,n){return new U(w.uint,Xe(e,t+1,n),5)}function qc(e,t,r,n){return new U(w.uint,Je(e,t+1,n),9)}function nt(e,t){return Le(e,0,t.value)}function Le(e,t,r){if(r<ke[0]){let n=Number(r);e.push([t|n])}else if(r<ke[1]){let n=Number(r);e.push([t|24,n])}else if(r<ke[2]){let n=Number(r);e.push([t|25,n>>>8,n&255])}else if(r<ke[3]){let n=Number(r);e.push([t|26,n>>>24&255,n>>>16&255,n>>>8&255,n&255])}else{let n=BigInt(r);if(n<ke[4]){let i=[t|27,0,0,0,0,0,0,0],o=Number(n&BigInt(4294967295)),a=Number(n>>BigInt(32)&BigInt(4294967295));i[8]=o&255,o=o>>8,i[7]=o&255,o=o>>8,i[6]=o&255,o=o>>8,i[5]=o&255,i[4]=a&255,a=a>>8,i[3]=a&255,a=a>>8,i[2]=a&255,a=a>>8,i[1]=a&255,e.push(i)}else throw new Error(`${ne} encountered BigInt larger than allowable range`)}}nt.encodedSize=function(t){return Le.encodedSize(t.value)};Le.encodedSize=function(t){return t<ke[0]?1:t<ke[1]?2:t<ke[2]?3:t<ke[3]?5:9};nt.compareTokens=function(t,r){return t.value<r.value?-1:t.value>r.value?1:0};function zc(e,t,r,n){return new U(w.negint,-1-Ze(e,t+1,n),2)}function Hc(e,t,r,n){return new U(w.negint,-1-Qe(e,t+1,n),3)}function Gc(e,t,r,n){return new U(w.negint,-1-Xe(e,t+1,n),5)}var Ia=BigInt(-1),$c=BigInt(1);function Wc(e,t,r,n){let i=Je(e,t+1,n);if(typeof i!="bigint"){let o=-1-i;if(o>=Number.MIN_SAFE_INTEGER)return new U(w.negint,o,9)}if(n.allowBigInt!==!0)throw new Error(`${ne} integers outside of the safe integer range are not supported`);return new U(w.negint,Ia-BigInt(i),9)}function ki(e,t){let r=t.value,n=typeof r=="bigint"?r*Ia-$c:r*-1-1;Le(e,t.type.majorEncoded,n)}ki.encodedSize=function(t){let r=t.value,n=typeof r=="bigint"?r*Ia-$c:r*-1-1;return n<ke[0]?1:n<ke[1]?2:n<ke[2]?3:n<ke[3]?5:9};ki.compareTokens=function(t,r){return t.value<r.value?1:t.value>r.value?-1:0};function Kn(e,t,r,n){Ot(e,t,r+n);let i=rn(e,t+r,t+r+n);return new U(w.bytes,i,r+n)}function Yc(e,t,r,n){return Kn(e,t,1,r)}function Zc(e,t,r,n){return Kn(e,t,2,Ze(e,t+1,n))}function Qc(e,t,r,n){return Kn(e,t,3,Qe(e,t+1,n))}function Xc(e,t,r,n){return Kn(e,t,5,Xe(e,t+1,n))}function Jc(e,t,r,n){let i=Je(e,t+1,n);if(typeof i=="bigint")throw new Error(`${ne} 64-bit integer bytes lengths not supported`);return Kn(e,t,9,i)}function Ni(e){return e.encodedBytes===void 0&&(e.encodedBytes=e.type===w.string?Lc(e.value):e.value),e.encodedBytes}function nn(e,t){let r=Ni(t);Le(e,t.type.majorEncoded,r.length),e.push(r)}nn.encodedSize=function(t){let r=Ni(t);return Le.encodedSize(r.length)+r.length};nn.compareTokens=function(t,r){return y1(Ni(t),Ni(r))};function y1(e,t){return e.length<t.length?-1:e.length>t.length?1:Fc(e,t)}function Fn(e,t,r,n,i){let o=r+n;Ot(e,t,o);let a=new U(w.string,Uc(e,t+r,t+o),o);return i.retainStringBytes===!0&&(a.byteValue=rn(e,t+r,t+o)),a}function jc(e,t,r,n){return Fn(e,t,1,r,n)}function ef(e,t,r,n){return Fn(e,t,2,Ze(e,t+1,n),n)}function tf(e,t,r,n){return Fn(e,t,3,Qe(e,t+1,n),n)}function rf(e,t,r,n){return Fn(e,t,5,Xe(e,t+1,n),n)}function nf(e,t,r,n){let i=Je(e,t+1,n);if(typeof i=="bigint")throw new Error(`${ne} 64-bit integer string lengths not supported`);return Fn(e,t,9,i,n)}var of=nn;function on(e,t,r,n){return new U(w.array,n,r)}function af(e,t,r,n){return on(e,t,1,r)}function sf(e,t,r,n){return on(e,t,2,Ze(e,t+1,n))}function uf(e,t,r,n){return on(e,t,3,Qe(e,t+1,n))}function cf(e,t,r,n){return on(e,t,5,Xe(e,t+1,n))}function ff(e,t,r,n){let i=Je(e,t+1,n);if(typeof i=="bigint")throw new Error(`${ne} 64-bit integer array lengths not supported`);return on(e,t,9,i)}function lf(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${ne} indefinite length items not allowed`);return on(e,t,1,1/0)}function Di(e,t){Le(e,w.array.majorEncoded,t.value)}Di.compareTokens=nt.compareTokens;Di.encodedSize=function(t){return Le.encodedSize(t.value)};function an(e,t,r,n){return new U(w.map,n,r)}function hf(e,t,r,n){return an(e,t,1,r)}function pf(e,t,r,n){return an(e,t,2,Ze(e,t+1,n))}function df(e,t,r,n){return an(e,t,3,Qe(e,t+1,n))}function yf(e,t,r,n){return an(e,t,5,Xe(e,t+1,n))}function gf(e,t,r,n){let i=Je(e,t+1,n);if(typeof i=="bigint")throw new Error(`${ne} 64-bit integer map lengths not supported`);return an(e,t,9,i)}function mf(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${ne} indefinite length items not allowed`);return an(e,t,1,1/0)}function Ui(e,t){Le(e,w.map.majorEncoded,t.value)}Ui.compareTokens=nt.compareTokens;Ui.encodedSize=function(t){return Le.encodedSize(t.value)};function xf(e,t,r,n){return new U(w.tag,r,1)}function vf(e,t,r,n){return new U(w.tag,Ze(e,t+1,n),2)}function bf(e,t,r,n){return new U(w.tag,Qe(e,t+1,n),3)}function wf(e,t,r,n){return new U(w.tag,Xe(e,t+1,n),5)}function Ef(e,t,r,n){return new U(w.tag,Je(e,t+1,n),9)}function Li(e,t){Le(e,w.tag.majorEncoded,t.value)}Li.compareTokens=nt.compareTokens;Li.encodedSize=function(t){return Le.encodedSize(t.value)};var w1=20,E1=21,S1=22,B1=23;function Sf(e,t,r,n){if(n.allowUndefined===!1)throw new Error(`${ne} undefined values are not supported`);return n.coerceUndefinedToNull===!0?new U(w.null,null,1):new U(w.undefined,void 0,1)}function Bf(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${ne} indefinite length items not allowed`);return new U(w.break,void 0,1)}function _a(e,t,r){if(r){if(r.allowNaN===!1&&Number.isNaN(e))throw new Error(`${ne} NaN values are not supported`);if(r.allowInfinity===!1&&(e===1/0||e===-1/0))throw new Error(`${ne} Infinity values are not supported`)}return new U(w.float,e,t)}function Af(e,t,r,n){return _a(Ra(e,t+1),3,n)}function Cf(e,t,r,n){return _a(ka(e,t+1),5,n)}function Tf(e,t,r,n){return _a(kf(e,t+1),9,n)}function Pi(e,t,r){let n=t.value;if(n===!1)e.push([w.float.majorEncoded|w1]);else if(n===!0)e.push([w.float.majorEncoded|E1]);else if(n===null)e.push([w.float.majorEncoded|S1]);else if(n===void 0)e.push([w.float.majorEncoded|B1]);else{let i,o=!1;(!r||r.float64!==!0)&&(_f(n),i=Ra(pt,1),n===i||Number.isNaN(n)?(pt[0]=249,e.push(pt.slice(0,3)),o=!0):(Rf(n),i=ka(pt,1),n===i&&(pt[0]=250,e.push(pt.slice(0,5)),o=!0))),o||(A1(n),i=kf(pt,1),pt[0]=251,e.push(pt.slice(0,9)))}}Pi.encodedSize=function(t,r){let n=t.value;if(n===!1||n===!0||n===null||n===void 0)return 1;if(!r||r.float64!==!0){_f(n);let i=Ra(pt,1);if(n===i||Number.isNaN(n))return 3;if(Rf(n),i=ka(pt,1),n===i)return 5}return 9};var If=new ArrayBuffer(9),it=new DataView(If,1),pt=new Uint8Array(If,0);function _f(e){if(e===1/0)it.setUint16(0,31744,!1);else if(e===-1/0)it.setUint16(0,64512,!1);else if(Number.isNaN(e))it.setUint16(0,32256,!1);else{it.setFloat32(0,e);let t=it.getUint32(0),r=(t&2139095040)>>23,n=t&8388607;if(r===255)it.setUint16(0,31744,!1);else if(r===0)it.setUint16(0,(e&2147483648)>>16|n>>13,!1);else{let i=r-127;i<-24?it.setUint16(0,0):i<-14?it.setUint16(0,(t&2147483648)>>16|1<<24+i,!1):it.setUint16(0,(t&2147483648)>>16|i+15<<10|n>>13,!1)}}}function Ra(e,t){if(e.length-t<2)throw new Error(`${ne} not enough data for float16`);let r=(e[t]<<8)+e[t+1];if(r===31744)return 1/0;if(r===64512)return-1/0;if(r===32256)return NaN;let n=r>>10&31,i=r&1023,o;return n===0?o=i*2**-24:n!==31?o=(i+1024)*2**(n-25):o=i===0?1/0:NaN,r&32768?-o:o}function Rf(e){it.setFloat32(0,e,!1)}function ka(e,t){if(e.length-t<4)throw new Error(`${ne} not enough data for float32`);let r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,4).getFloat32(0,!1)}function A1(e){it.setFloat64(0,e,!1)}function kf(e,t){if(e.length-t<8)throw new Error(`${ne} not enough data for float64`);let r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,8).getFloat64(0,!1)}Pi.compareTokens=nt.compareTokens;function ie(e,t,r){throw new Error(`${ne} encountered invalid minor (${r}) for major ${e[t]>>>5}`)}function Ki(e){return()=>{throw new Error(`${ne} ${e}`)}}var R=[];for(let e=0;e<=23;e++)R[e]=ie;R[24]=Oc;R[25]=Mc;R[26]=Vc;R[27]=qc;R[28]=ie;R[29]=ie;R[30]=ie;R[31]=ie;for(let e=32;e<=55;e++)R[e]=ie;R[56]=zc;R[57]=Hc;R[58]=Gc;R[59]=Wc;R[60]=ie;R[61]=ie;R[62]=ie;R[63]=ie;for(let e=64;e<=87;e++)R[e]=Yc;R[88]=Zc;R[89]=Qc;R[90]=Xc;R[91]=Jc;R[92]=ie;R[93]=ie;R[94]=ie;R[95]=Ki("indefinite length bytes/strings are not supported");for(let e=96;e<=119;e++)R[e]=jc;R[120]=ef;R[121]=tf;R[122]=rf;R[123]=nf;R[124]=ie;R[125]=ie;R[126]=ie;R[127]=Ki("indefinite length bytes/strings are not supported");for(let e=128;e<=151;e++)R[e]=af;R[152]=sf;R[153]=uf;R[154]=cf;R[155]=ff;R[156]=ie;R[157]=ie;R[158]=ie;R[159]=lf;for(let e=160;e<=183;e++)R[e]=hf;R[184]=pf;R[185]=df;R[186]=yf;R[187]=gf;R[188]=ie;R[189]=ie;R[190]=ie;R[191]=mf;for(let e=192;e<=215;e++)R[e]=xf;R[216]=vf;R[217]=bf;R[218]=wf;R[219]=Ef;R[220]=ie;R[221]=ie;R[222]=ie;R[223]=ie;for(let e=224;e<=243;e++)R[e]=Ki("simple values are not supported");R[244]=ie;R[245]=ie;R[246]=ie;R[247]=Sf;R[248]=Ki("simple values are not supported");R[249]=Af;R[250]=Cf;R[251]=Tf;R[252]=ie;R[253]=ie;R[254]=ie;R[255]=Bf;var kt=[];for(let e=0;e<24;e++)kt[e]=new U(w.uint,e,1);for(let e=-1;e>=-24;e--)kt[31-e]=new U(w.negint,e,1);kt[64]=new U(w.bytes,new Uint8Array(0),1);kt[96]=new U(w.string,"",1);kt[128]=new U(w.array,0,1);kt[160]=new U(w.map,0,1);kt[244]=new U(w.false,!1,1);kt[245]=new U(w.true,!0,1);kt[246]=new U(w.null,null,1);function Nf(e){switch(e.type){case w.false:return Rt([244]);case w.true:return Rt([245]);case w.null:return Rt([246]);case w.bytes:return e.value.length?void 0:Rt([64]);case w.string:return e.value===""?Rt([96]):void 0;case w.array:return e.value===0?Rt([128]):void 0;case w.map:return e.value===0?Rt([160]):void 0;case w.uint:return e.value<24?Rt([Number(e.value)]):void 0;case w.negint:if(e.value>=-24)return Rt([31-Number(e.value)])}}var T1={float64:!1,mapSorter:R1,quickEncodeToken:Nf};function I1(){let e=[];return e[w.uint.major]=nt,e[w.negint.major]=ki,e[w.bytes.major]=nn,e[w.string.major]=of,e[w.array.major]=Di,e[w.map.major]=Ui,e[w.tag.major]=Li,e[w.float.major]=Pi,e}var Df=I1(),Na=new Ln,sn=class{constructor(t,r){this.obj=t,this.parent=r}includes(t){let r=this;do if(r.obj===t)return!0;while(r=r.parent);return!1}static createCheck(t,r){if(t&&t.includes(r))throw new Error(`${Ta} object contains circular references`);return new sn(r,t)}},rr={null:new U(w.null,null),undefined:new U(w.undefined,void 0),true:new U(w.true,!0),false:new U(w.false,!1),emptyArray:new U(w.array,0),emptyMap:new U(w.map,0)},nr={number(e,t,r,n){return!Number.isInteger(e)||!Number.isSafeInteger(e)?new U(w.float,e):e>=0?new U(w.uint,e):new U(w.negint,e)},bigint(e,t,r,n){return e>=BigInt(0)?new U(w.uint,e):new U(w.negint,e)},Uint8Array(e,t,r,n){return new U(w.bytes,e)},string(e,t,r,n){return new U(w.string,e)},boolean(e,t,r,n){return e?rr.true:rr.false},null(e,t,r,n){return rr.null},undefined(e,t,r,n){return rr.undefined},ArrayBuffer(e,t,r,n){return new U(w.bytes,new Uint8Array(e))},DataView(e,t,r,n){return new U(w.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength))},Array(e,t,r,n){if(!e.length)return r.addBreakTokens===!0?[rr.emptyArray,new U(w.break)]:rr.emptyArray;n=sn.createCheck(n,e);let i=[],o=0;for(let a of e)i[o++]=Fi(a,r,n);return r.addBreakTokens?[new U(w.array,e.length),i,new U(w.break)]:[new U(w.array,e.length),i]},Object(e,t,r,n){let i=t!=="Object",o=i?e.keys():Object.keys(e),a=i?e.size:o.length;if(!a)return r.addBreakTokens===!0?[rr.emptyMap,new U(w.break)]:rr.emptyMap;n=sn.createCheck(n,e);let s=[],c=0;for(let u of o)s[c++]=[Fi(u,r,n),Fi(i?e.get(u):e[u],r,n)];return _1(s,r),r.addBreakTokens?[new U(w.map,a),s,new U(w.break)]:[new U(w.map,a),s]}};nr.Map=nr.Object;nr.Buffer=nr.Uint8Array;for(let e of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))nr[`${e}Array`]=nr.DataView;function Fi(e,t={},r){let n=Rc(e),i=t&&t.typeEncoders&&t.typeEncoders[n]||nr[n];if(typeof i=="function"){let a=i(e,n,t,r);if(a!=null)return a}let o=nr[n];if(!o)throw new Error(`${Ta} unsupported type: ${n}`);return o(e,n,t,r)}function _1(e,t){t.mapSorter&&e.sort(t.mapSorter)}function R1(e,t){let r=Array.isArray(e[0])?e[0][0]:e[0],n=Array.isArray(t[0])?t[0][0]:t[0];if(r.type!==n.type)return r.type.compare(n.type);let i=r.type.major,o=Df[i].compareTokens(r,n);return o===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),o}function Uf(e,t,r,n){if(Array.isArray(t))for(let i of t)Uf(e,i,r,n);else r[t.type.major](e,t,n)}function k1(e,t,r){let n=Fi(e,r);if(!Array.isArray(n)&&r.quickEncodeToken){let i=r.quickEncodeToken(n);if(i)return i;let o=t[n.type.major];if(o.encodedSize){let a=o.encodedSize(n,r),s=new Ln(a);if(o(s,n,r),s.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return Ca(s.chunks[0])}}return Na.reset(),Uf(Na,n,t,r),Na.toBytes(!0)}function Da(e,t){return t=Object.assign({},T1,t),k1(e,Df,t)}var Kv=Symbol.for("DONE"),Fv=Symbol.for("BREAK");var On=ge(ba(),1);var Lf=Ii("ipns:utils"),Pf=Ae("/ipns/");var Kf=async(e,t)=>{if(t==null||e==null){let n=new Error("one or more of the provided parameters are not defined");throw Lf.error(n),(0,On.default)(n,Ea)}let r;if(t.pubKey!=null){try{r=va(t.pubKey)}catch(i){throw Lf.error(i),i}if(!(await _c(t.pubKey)).equals(e))throw(0,On.default)(new Error("Embedded public key did not match PeerID"),Sc)}else e.publicKey!=null&&(r=va(e.publicKey));if(r!=null)return r;throw(0,On.default)(new Error("no public key is available"),Ea)},Ff=(e,t,r)=>{let n=Ae(t);return st([e,r,n])},Of=e=>{let t=Ae("ipns-signature:");return st([t,e])},Mf=e=>_t.encode(e),Vf=e=>{let t=_t.decode(e);return t.sequence!=null&&(t.sequence=BigInt(t.sequence)),t.ttl!=null&&(t.ttl=BigInt(t.ttl)),{value:t.value??new Uint8Array(0),signature:t.signature??new Uint8Array(0),validityType:t.validityType??_t.ValidityType.EOL,validity:t.validity??new Uint8Array(0),sequence:t.sequence??0n,pubKey:t.pubKey,ttl:t.ttl??void 0,signatureV2:t.signatureV2,data:t.data}},qf=e=>st([Pf,e.toBytes()]),zf=e=>Aa(e.slice(Pf.length)),Hf=(e,t,r,n,i)=>{let o;if(r===_t.ValidityType.EOL)o=0;else throw(0,On.default)(new Error("Unknown validity type"),wc);return Da({Value:e,Validity:t,ValidityType:o,Sequence:n,TTL:i})};var Gf=Ii("ipns"),U1=Et.code,$f="/ipns/",L1=$f.length,P1=async(e,t,r,n)=>{let i=new La.default(Date.now()+Number(n)),o=_t.ValidityType.EOL,[a,s]=n.toString().split("."),c=BigInt(a)*BigInt(1e5)+BigInt(s??"0");return Wf(e,t,r,o,i,c)},K1=async(e,t,r,n)=>{let i=La.default.fromString(n),o=_t.ValidityType.EOL,a=i.toDate().getTime()-Date.now(),s=BigInt(a)*BigInt(1e5)+BigInt(i.getNano());return Wf(e,t,r,o,i,s)},Wf=async(e,t,r,n,i,o)=>{r=BigInt(r);let a=Ae(i.toString());if(e.privateKey==null)throw(0,Ua.default)(new Error("Missing private key"),Bc);let s=await fc(e.privateKey),c=await M1(s,t,n,a),u=Hf(t,a,n,r,o),f=Of(u),l=await s.sign(f),h={value:t,signature:c,validityType:n,validity:a,sequence:r,ttl:o,signatureV2:l,data:u};if(e.publicKey!=null){let d=cr(e.toBytes());(d.code!==U1||!Oe(e.publicKey,d.digest))&&(h.pubKey=e.publicKey)}return Gf("ipns entry for %b created",t),h},F1=e=>vo.encode(e).slice(1),O1=e=>new Pe(`/ipns/${F1(e)}`),M1=async(e,t,r,n)=>{try{let i=Ff(t,r,n);return await e.sign(i)}catch(i){throw Gf.error("record signature creation failed",i),(0,Ua.default)(new Error("record signature creation failed"),Ec)}};return jf(V1);})();
/*! Bundled license information:

@noble/ed25519/lib/esm/index.js:
  (*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@noble/secp256k1/lib/esm/index.js:
  (*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)
*/
return Ipns}));
